"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1774],{57448:function(n,t,e){e.d(t,{c:function(){return y}});var o=e(87462),i=e(45987),r=e(67294),a=e(87379),l=e(48428),s=a.ZP.div.withConfig({displayName:"CardMediaOverlaystyles__StyledCardMediaOverlay",componentId:"rui__sc-1pjv0n6-0"})(["color:",";height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%;z-index:1;"],(function(n){return n.theme.color.white}));s.defaultProps={theme:l.t};var c=a.ZP.div.withConfig({displayName:"CardMediaOverlaystyles__StyledTopComponents",componentId:"rui__sc-1pjv0n6-1"})(["display:flex;pointer-events:none;position:absolute;top:0;width:100%;"]),d=a.ZP.div.withConfig({displayName:"CardMediaOverlaystyles__StyledBottomComponents",componentId:"rui__sc-1pjv0n6-2"})(["align-items:flex-end;bottom:0;display:flex;pointer-events:none;position:absolute;width:100%;"]),u=a.ZP.div.withConfig({displayName:"CardMediaOverlaystyles__StyledLeftCol",componentId:"rui__sc-1pjv0n6-3"})(["flex-grow:1;margin-left:",";margin-top:",";margin-bottom:",";pointer-events:",";"],(function(n){return n.theme.cardMediaOverlay.marginLeft}),(function(n){return n.theme.cardMediaOverlay.marginTop}),(function(n){return n.theme.cardMediaOverlay.marginBottom}),(function(n){return n.$allowPointerEvents?"auto":"none"}));u.defaultProps={theme:l.t};var p=a.ZP.div.withConfig({displayName:"CardMediaOverlaystyles__StyledRightCol",componentId:"rui__sc-1pjv0n6-4"})(["margin-top:",";margin-bottom:",";margin-left:auto;margin-right:",";pointer-events:",";"],(function(n){return n.theme.cardMediaOverlay.marginTop}),(function(n){return n.theme.cardMediaOverlay.marginBottom}),(function(n){return n.theme.cardMediaOverlay.marginRight}),(function(n){return n.$allowPointerEvents?"auto":"none"}));p.defaultProps={theme:l.t};var m=e(85893),h=["topLeftComponent","topRightComponent","bottomLeftComponent","bottomRightComponent","allowPointerEvents","children"],f=function(n){var t=n.allowPointerEvents,e=n.component,o=n.pos;return(0,m.jsx)(u,{$allowPointerEvents:t,className:"".concat(o,"-left-overlay-component"),"data-testid":"".concat(o,"-left-overlay-component"),children:e})},v=function(n){var t=n.allowPointerEvents,e=n.component,o=n.pos;return(0,m.jsx)(p,{$allowPointerEvents:t,className:"".concat(o,"-right-overlay-component"),"data-testid":"".concat(o,"-right-overlay-component"),children:e})},g=function(n){var t=n.allowLeftPointerEvents,e=n.allowRightPointerEvents,o=n.topLeftComponent,i=n.topRightComponent;return o||i?(0,m.jsxs)(c,{className:"top-overlay","data-testid":"top-overlay",children:[o&&(0,m.jsx)(f,{allowPointerEvents:t,component:o,pos:"top"}),i&&(0,m.jsx)(v,{allowPointerEvents:e,component:i,pos:"top"})]}):null},_=function(n){var t=n.allowLeftPointerEvents,e=n.allowRightPointerEvents,o=n.bottomLeftComponent,i=n.bottomRightComponent;return o||i?(0,m.jsxs)(d,{className:"bottom-overlay","data-testid":"bottom-overlay",children:[o&&(0,m.jsx)(f,{allowPointerEvents:t,component:o,pos:"bottom"}),i&&(0,m.jsx)(v,{allowPointerEvents:e,component:i,pos:"bottom"})]}):null},y=(0,r.forwardRef)((function(n,t){var e=n.topLeftComponent,r=void 0===e?null:e,a=n.topRightComponent,l=void 0===a?null:a,c=n.bottomLeftComponent,d=void 0===c?null:c,u=n.bottomRightComponent,p=void 0===u?null:u,f=n.allowPointerEvents,v=void 0===f?{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}:f,y=n.children,x=(0,i.Z)(n,h);return(0,m.jsxs)(s,(0,o.Z)({ref:t},x,{children:[(0,m.jsx)(g,{allowLeftPointerEvents:!!v.topLeft,allowRightPointerEvents:!!v.topRight,topLeftComponent:r,topRightComponent:l}),(0,m.jsx)(_,{allowLeftPointerEvents:!!v.bottomLeft,allowRightPointerEvents:!!v.bottomRight,bottomLeftComponent:d,bottomRightComponent:p}),y]}))}))},70853:function(n,t,e){e.r(t),e.d(t,{ListingCollections:function(){return an}});var o=e(26042),i=e(69396),r=e(29815),a=e(85893),l=e(67294),s=e(28616),c=e(89843),d=e(19659),u=e(23998),p=e(84200),m=e(81230),h=e(53470),f=e(27193),v=e(828),g=e(67350),_=e(46154),y="for_sale:home:listing_collections_browse_homes",x="for_sale:home:listing_collections_browse_homes",w={trackingEvent:"".concat(y,":recommended_homes"),headerText:"Recommended Homes",urlBasePath:"/recommended"},b={new_listings_for_sale:{trackingEvent:"".concat(y,":new_listings"),headerText:"New Listings",urlSuffix:"show-newest-listings/sby-6"},open_houses_for_sale:{trackingEvent:"".concat(y,":open_houses"),headerText:"Open Houses",urlSuffix:"show-open-house/sby-5"},location_recently_sold:{trackingEvent:"".concat(y,":recently_sold"),headerText:"Recently Sold",urlSuffix:"show-recently-sold/sby-6"},price_reduced_for_sale:{trackingEvent:"".concat(y,":price_reduced"),headerText:"Price Reduced",urlSuffix:"show-price-reduced/sby-6"},foreclosure_for_sale:{trackingEvent:"".concat(y,":foreclosures"),headerText:"Foreclosures",urlSuffix:"show-foreclosure/sby-6"},new_communities:{trackingEvent:"".concat(y,":new_home_community"),headerText:"New Home Communities",urlBasePath:"newhomecommunities",urlSuffix:""},new_constructions_for_sale:{trackingEvent:"".concat(y,":new_construction"),headerText:"New Construction",urlSuffix:"shw-nc/sby-8"},land_for_sale:{trackingEvent:"".concat(y,":land"),headerText:"Land",urlSuffix:"type-land/sby-6"},condos_for_sale:{trackingEvent:"".concat(y,":condos"),headerText:"Condos",urlSuffix:"type-condo/sby-6"},senior_communities_for_sale:{trackingEvent:"".concat(y,":55_communities"),headerText:"55+ Communities",urlSuffix:"show-55-plus/sby-6"},nearby_25_for_sale:{trackingEvent:"".concat(y,":25miles"),headerText:"Homes within 25 miles",urlSuffix:"radius-25/sby-6"},nearby_50_for_sale:{trackingEvent:"".concat(y,":50miles"),headerText:"Homes within 50 miles",urlSuffix:"radius-50/sby-6"},floor_plans_listings:{trackingEvent:"".concat(x,":floor_plans"),headerText:"Floor Plans",urlSuffix:"shw-nc"},move_in_ready_listings:{trackingEvent:"".concat(x,":move_in_ready"),headerText:"Move-in Ready",urlSuffix:"shw-nc"},new_listings:{trackingEvent:"".concat(x,":new_listings"),headerText:"New Listings",urlSuffix:"shw-nc"},nhc_apartments_listings:{trackingEvent:"".concat(x,":nhc_apartments_listings"),headerText:"New Apartments",urlSuffix:"type-condo/shw-nc"}},E=function(n){var t,e,o;return(null===(t=n[0])||void 0===t||null===(e=t.primary_photo)||void 0===e?void 0:e.href)||(null===(o=n.find((function(n){var t;return null===(t=n.primary_photo)||void 0===t?void 0:t.href})))||void 0===o?void 0:o.primary_photo.href)},S=function(n){return function(){(0,f.uH)({linkName:n})}},Z=function(n){var t=n.properties.splice(0,_.A);return{headerText:w.headerText,viewAllURL:w.urlBasePath,trackingViewAll:S(w.trackingEvent),properties:t.map((function(n){return{primary_photo:n.primary_photo}})),numListings:t.length,photo:E(t),linkProps:{rel:"nofollow"}}},k=e(30757),C=e(57448),P=e(75129),R=e(7297),L=e(87379),j=e(48428),T=e(68058),I=e(83058),N=e(64867);function $(){var n=(0,R.Z)(["\n  .listing-collection-card {\n    transition: height 0.3s ease-in-out, opacity 0.3s ease-in-out;\n  }\n\n  &[data-mode-m='carousel'] {\n    @media "," {\n      .collections-wrapper {\n        flex-wrap: nowrap;\n        overflow: auto;\n        gap: 16px;\n        margin-top: 24px;\n      }\n\n      .listing-collection-card {\n        display: block;\n        width: 300px;\n        height: 200px !important;\n        max-width: none;\n        flex-shrink: 0;\n        opacity: 1 !important;\n        margin: 0 !important;\n      }\n    }\n  }\n\n  &[data-mode-t='carousel'] {\n    @media "," and "," {\n      .collections-wrapper {\n        flex-wrap: nowrap;\n        overflow: auto;\n        gap: 16px;\n        margin-top: 24px;\n      }\n\n      .listing-collection-card {\n        display: block;\n        width: 300px;\n        height: 200px !important;\n        max-width: none;\n        flex-shrink: 0;\n        opacity: 1 !important;\n        margin: 0 !important;\n      }\n    }\n  }\n\n  &[data-mode-d='grid_expanded'] {\n    @media "," {\n      .collections-wrapper {\n        gap: 16px;\n        margin-top: 24px;\n      }\n\n      .expansion-button {\n        display: none;\n      }\n\n      .listing-collection-card {\n        display: block !important;\n        height: 200px !important;\n        opacity: 1 !important;\n        margin: 0 !important;\n      }\n    }\n  }\n\n  &[data-loading='1'] {\n    &[data-mode-m='carousel'] {\n      @media "," {\n        height: 252px;\n        overflow: hidden;\n      }\n    }\n    &[data-mode-t='carousel'] {\n      @media "," and "," {\n        height: 252px;\n        overflow: hidden;\n      }\n    }\n    &[data-mode-d='grid_expanded'] {\n      @media "," {\n        height: 472px;\n      }\n    }\n\n    &:not([data-mode-m='carousel']) {\n      @media (max-width: 479px) {\n        height: 960px;\n      }\n      @media (min-width: 480px) and "," {\n        height: 528px;\n      }\n    }\n    &:not([data-mode-t='carousel']) {\n      @media "," and "," {\n        height: 532px;\n      }\n    }\n    &:not([data-mode-d='grid_expanded']) {\n      @media "," {\n        height: 532px;\n      }\n      @media "," {\n        height: 316px;\n        overflow: hidden;\n      }\n    }\n  }\n"]);return $=function(){return n},n}function O(){var n=(0,R.Z)(["\n  justify-content: start;\n  margin-top: 16px;\n  flex-wrap: wrap;\n"]);return O=function(){return n},n}function M(){var n=(0,R.Z)(["\n  border-radius: 8px;\n  height: 100%;\n\n  .card-media {\n    width: 100%;\n    height: 100%;\n  }\n\n  .top-overlay {\n    align-items: center;\n  }\n\n  .top-left-overlay-component,\n  .top-right-overlay-component {\n    margin-top: 16px;\n  }\n\n  .top-left-overlay-component {\n    flex-grow: 1;\n    margin-left: 16px;\n    overflow: hidden;\n  }\n  .top-right-overlay-component {\n    flex-shrink: 1;\n    margin-right: 16px;\n  }\n\n  picture:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    display: inline-block;\n    background: rgb(0, 0, 0);\n    background: -moz-linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 100%);\n    background: -webkit-linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 100%);\n    background: linear-gradient(180deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0) 100%);\n  }\n\n  :hover .top-left-overlay-component {\n    text-decoration: underline !important;\n  }\n"]);return M=function(){return n},n}function A(){var n=(0,R.Z)(["\n  width: 100%;\n  height: 200px;\n  overflow: hidden;\n  opacity: 1 !important;\n  margin: 8px 0;\n\n  @media "," {\n    max-width: calc(50% - 8px);\n    margin: 8px;\n  }\n  @media "," and "," {\n    &:nth-of-type(2n + 1) {\n      margin-left: 0;\n    }\n    &:nth-of-type(2n) {\n      margin-right: 0;\n    }\n  }\n  @media "," {\n    max-width: calc(25% - 12px);\n\n    &:nth-of-type(4n + 1) {\n      margin-left: 0;\n    }\n    &:nth-of-type(4n) {\n      margin-right: 0;\n    }\n  }\n\n  :hover {\n    box-shadow: 0 0 8px rgb(0 0 0 / 20%);\n  }\n\n  picture {\n    display: inline-block;\n    height: 200px;\n    width: 100%;\n  }\n"]);return A=function(){return n},n}function H(){var n=(0,R.Z)(["\n  font-size: 18px !important;\n  line-height: 28px !important;\n  font-weight: 700;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return H=function(){return n},n}var q=(0,L.ZP)(N.PQ).withConfig({componentId:"sc-2aa40345-0"})($(),j.t.maxWidth.xs,j.t.minWidth.sm,j.t.maxWidth.md,j.t.minWidth.md,j.t.maxWidth.xs,j.t.minWidth.sm,j.t.maxWidth.md,j.t.minWidth.md,j.t.maxWidth.xs,j.t.minWidth.sm,j.t.maxWidth.md,j.t.breakPoint.md,j.t.minWidth.lg),W=(0,L.ZP)(T.k).withConfig({componentId:"sc-2aa40345-1"})(O()),B=(0,L.ZP)(I.Z).withConfig({componentId:"sc-2aa40345-2"})(M()),F=L.ZP.a.withConfig({componentId:"sc-2aa40345-3"})(A(),j.t.minWidth.xs,j.t.minWidth.xs,j.t.maxWidth.md,j.t.minWidth.lg),V=(0,L.ZP)(c.D).withConfig({componentId:"sc-2aa40345-4"})(H()),D=e(48432),z=function(n){var t=n.label,e=n.imgSrc,r=n.numListings,l=n.trackingViewAll,s=n.viewAllURL,c=n.linkProps,d=(n.topRightFontSize,null===r||void 0===r?void 0:r.toLocaleString());return(0,a.jsx)(F,(0,i.Z)((0,o.Z)({href:s,onClick:l},c),{className:"listing-collection-card",children:(0,a.jsx)(B,{children:(0,a.jsxs)(k.Z,{children:[(0,a.jsx)(D.E,{src:e,alt:t,lazy:!0}),(0,a.jsx)(C.c,{topLeftComponent:(0,a.jsx)(V,{reversed:!0,styleType:"display500",as:"h3",children:t}),topRightComponent:(0,a.jsx)(P.V,{dataColor:"white",children:d})})]})})}))},U=e(47568),J=e(97582),G=e(17594),X=e(95506),Q=function(){var n=(0,U.Z)((function(n){var t,e=arguments;return(0,J.__generator)(this,(function(o){switch(o.label){case 0:return t=e.length>1&&void 0!==e[1]?e[1]:[],e.length>2&&void 0!==e[2]?e[2]:{},[4,(0,X.V)(n,t,{limit:4,base_query:"listing_collections"},G.IO)];case 1:return[2,o.sent()]}}))}));return function(t){return n.apply(this,arguments)}}(),Y=function(n,t,e){for(var o=n.findIndex((function(n){var e,o;return(null===(e=n.photos)||void 0===e||null===(o=e[0])||void 0===o?void 0:o.href)===t})),i=o+1;i<n.length;i++){var r,a,l,s,c=(null===(r=n[i].primary_photo)||void 0===r?void 0:r.href)||(null===(a=n[i])||void 0===a||null===(l=a.photos)||void 0===l||null===(s=l[0])||void 0===s?void 0:s.href);if(c&&!e[c])return c}},K=function(n){var t=[],e=!0,o=!1,i=void 0;try{for(var r,a=n[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var l=r.value;t[l.photo]=t[l.photo]||[],t[l.photo].push(l)}}catch(h){o=!0,i=h}finally{try{e||null==a.return||a.return()}finally{if(o)throw i}}var s=!0,c=!1,d=void 0;try{for(var u,p=function(){var n=(0,v.Z)(u.value,2),e=n[0],o=n[1];if(!(o.length>1))return"continue";o.sort((function(n,t){var e,o;return(null===(e=n.properties)||void 0===e?void 0:e.length)<(null===(o=t.properties)||void 0===o?void 0:o.length)?1:-1}));for(var i=o.length-2;i>=0;i--){var r=o[i],a=Y(r.properties,e,t);a&&(r.photo=a,delete o[i],t[a]||(t[a]=[]),t[a].push(r))}},m=Object.entries(t)[Symbol.iterator]();!(s=(u=m.next()).done);s=!0)p()}catch(h){c=!0,d=h}finally{try{s||null==m.return||m.return()}finally{if(c)throw d}}},nn=e(65444),tn=e(3574),en={mobile:"carousel",tablet:"carousel",desktop:"grid_expanded"},on=["new_listings_for_sale","price_reduced_for_sale","open_houses_for_sale","location_recently_sold","new_constructions_for_sale","new_communities","land_for_sale","foreclosure_for_sale","condos_for_sale","senior_communities_for_sale","nearby_25_for_sale","nearby_50_for_sale"],rn=l.memo((function(n){var t=n.isLoading,e=n.collections,i=n.label,r=n.modes,l=n.testId;return t||e.length?(0,a.jsx)(q,{id:"listing-collections-container","data-testid":l,"data-mode-m":null===r||void 0===r?void 0:r.mobile,"data-mode-t":null===r||void 0===r?void 0:r.tablet,"data-mode-d":null===r||void 0===r?void 0:r.desktop,"data-loading":t?1:0,children:t?(0,a.jsx)(u.Z,{}):(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)(c.D,{styleType:"display600",children:i}),(0,a.jsx)(W,{className:"collections-wrapper",children:null===e||void 0===e?void 0:e.map((function(n){return(0,a.jsx)(z,(0,o.Z)({label:n.headerText,imgSrc:n.photo,topRightFontSize:n.listingCountFontSize},n),n.viewAllURL)}))})]})}):null})),an=function(n){var t=n.overrides,e=void 0===t?[]:t,c=n.testId,u=(0,s.e)().memberId,_=void 0===u?null:u,y=(0,nn.Z)().hpPantheon,x=(0,m.Z)(d.o,_,"recommended_homes",null,1e3,y),w=x.data,k=x.isLoading,C=(0,h.Z)(Q,on,y),P=C.modulesData,R=C.isLoading,L=C.location,j=(0,tn.P)().setGeo,T=(0,l.useMemo)((function(){return R||k}),[R,k]),I=(0,l.useMemo)((function(){var n;return T?[]:function(n,t,e){var a=(0,r.Z)(n).concat((0,r.Z)(t)).filter((function(n){return n.numListings>0}));return e.forEach((function(n){var t=n.position,e=n.collection;a.splice(t-1,0,(0,i.Z)((0,o.Z)({},e),{trackingViewAll:S(e.trackingViewAll)}))})),a.slice(0,8)}((null===w||void 0===w?void 0:w[0])?[Z(w[0])]:[],(null===P||void 0===P||null===(n=P.result)||void 0===n?void 0:n.results)?function(n,t){var e,o,i;return(null===(i=null===(o=Object.entries((null===n||void 0===n||null===(e=n.result)||void 0===e?void 0:e.results)||{}))||void 0===o?void 0:o.filter((function(n){var t=(0,v.Z)(n,2),e=t[0],o=t[1];return!!b[e]&&(null===o||void 0===o?void 0:o.properties)})))||void 0===i?void 0:i.map((function(n){var e=(0,v.Z)(n,2),o=e[0],i=e[1];return{headerText:b[o].headerText,viewAllURL:(0,g._B)(t,b[o].urlSuffix,b[o].urlBasePath),trackingViewAll:function(){(0,f.uH)({linkName:b[o].trackingEvent})},properties:null===i||void 0===i?void 0:i.properties,numListings:null===i||void 0===i?void 0:i.total,photo:E(null===i||void 0===i?void 0:i.properties)}})))||[]}(P,L):[],e)}),[w,P,L,T]);(0,l.useEffect)((function(){L&&j&&j(L)}),[L,j]),(0,l.useEffect)((function(){w&&w.length>0&&(0,f.vL)({dynamicModules:"RecommendedHomesModuleImpression"})}),[w]),K(I);var N=L?function(n,t){var e=(0,p.b)(n);if(e)return"".concat(t," in ").concat(e);var o=n.city,i=n.county,r=n.state_code;return i&&r?"".concat(t," in ").concat(i,", ").concat(r):o?"".concat(t," in ").concat(o,", ").concat(r):t}(L,"Browse homes"):null;return(0,a.jsx)(rn,{isLoading:T,collections:I,label:N,testId:c,modes:en})}},3574:function(n,t,e){e.d(t,{P:function(){return r}});var o=e(67294),i=e(67272),r=function(){var n=(0,o.useContext)(i.m);return{geo:n.geo,setGeo:n.setGeo}}},53470:function(n,t,e){var o=e(29815),i=e(17355),r=e(81230);t.Z=function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];var l=(0,i.Z)().mostRecentSearch,s=null===l||void 0===l?void 0:l.query,c=r.Z.apply(void 0,[n,s].concat((0,o.Z)(e))),d=c.data,u=c.isLoading,p=(null===s||void 0===s?void 0:s.county_needed_for_uniq)?s:null===d||void 0===d?void 0:d.location;return{modulesData:d,isLoading:u,location:p,clientLocation:s}}},95506:function(n,t,e){e.d(t,{V:function(){return k}});var o=e(47568),i=e(26042),r=e(97582),a=e(97570),l=e(88489),s=e(90881),c=e(68669),d=function(n){try{var t=JSON.parse(c.X.getItem(n));if(t&&(0===(null===t||void 0===t?void 0:t.expiry)||(null===t||void 0===t?void 0:t.expiry)>(new Date).getTime()))return null===t||void 0===t?void 0:t.value}catch(e){console.log("Error parsing item from localStorage",e)}return null},u=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=JSON.stringify({expiry:e>0?(new Date).getTime()+e:0,value:t});c.X.setItem(n,o)},p=e(17594),m=e(79902),h=e(51740),f=e(69396),v=function(){var n=(0,o.Z)((function(n){var t,e,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=n.county&&!n.city?"county":m.HN.DEFAULT_SEARCH_TYPE,e={query:"query ConsumerSearchQuery($postal_code: String, $city: String, $state_code: String, $county: String, $geo_type: String!) {\n    geo(postal_code: $postal_code, city: $city, state_code: $state_code, county: $county, geo_type: $geo_type) {\n      geo_statistics(group_by: property_type) {\n        housing_market {\n          median_listing_price\n        }\n      }\n    }\n  }",variables:(0,f.Z)((0,i.Z)({},n),{geo_type:t})},[4,(0,h.T)((0,i.Z)({},e))];case 1:return[2,null===(o=r.sent().data)||void 0===o?void 0:o.geo]}}))}));return function(t){return n.apply(this,arguments)}}(),g=function(n,t,e,o){var r=function(n){if(n){var t=n.postal_code,e=n.state_code,o=n.city,i=n.county;return t||(i?i&&o&&e?"".concat(i,",").concat(o,",").concat(e):"".concat(i,",").concat(e):"".concat(o,",").concat(e))}}(t),a={},l={};return n.forEach((function(n){var s="".concat(n,"_query"),c="".concat(n,"_sort"),d=m.Ei[n].sortField;a[s]=(0,i.Z)({},(0,m.Fl)({location:t,locationString:r,medianPrice:e})[s]),l[c]=(0,m.CV)(d||o)})),(0,i.Z)((0,f.Z)((0,i.Z)({},a),{limit:m.UZ,offset:0}),l)},_=function(n){var t=!1,e=(Array.isArray(n)?n:[n]).filter((function(n){var e,o;(null===(e=m.Ei[n])||void 0===e?void 0:e.requiresMedianPrice)&&(t=null===(o=m.Ei[n])||void 0===o?void 0:o.requiresMedianPrice);return m.Ei[n]}));if(0===e.length)throw new Error("Please provide a valid browse module type");return{browseModulesTypes:e,hasMedianPriceRequest:t}},y=e(39017),x=e(14924),w=e(828),b={browse_modules:"\n  fragment searchHomeResult on SearchHomeResult {\n    count\n    aggregation\n    total\n    properties: results {\n      property_id\n      listing_id\n      last_sold_price\n      list_price\n      list_date\n      last_price_change_amount\n      status\n      href\n      last_sold_date\n      description {\n        beds\n        baths_consolidated\n        sqft\n        lot_sqft\n        type\n        sub_type\n      }\n      location {\n        address {\n          line\n          street_name\n          city\n          state_code\n          postal_code\n          country\n          state\n        }\n      }\n      flags {\n        is_coming_soon\n        is_contingent\n        is_foreclosure\n        is_pending\n        is_new_listing\n      }\n      photos(https: true, limit: 4) {\n        href\n      }\n      primary_photo(https: true) {\n        href\n      }\n    }\n  }",listing_collections:"\n  fragment searchHomeResult on SearchHomeResult {\n    count\n    aggregation\n    total\n    properties: results {\n      photos(https: true, limit: 4) {\n        href\n      }\n      primary_photo(https: true) {\n        href\n      }\n    }\n  }",totals:"\n  fragment searchHomeResult on SearchHomeResult {\n    total\n    properties: results {\n      primary_photo(https: true) {\n        href\n      }\n    }\n  }"},E=function(n){var t;return{home_search:{criteria:"HomeSearchCriteria",params:"limit: $limit, aggregate: $aggregate, sort: ".concat(n,", offset: $offset, bucket: $bucket"),vars:(t={},(0,x.Z)(t,n,"[SearchAPISort]"),(0,x.Z)(t,"$bucket","SearchAPIBucket"),t)},community_search:{criteria:"CommunitySearchCriteria",params:"limit: $limit, aggregate: $aggregate, sort: ".concat(n,", offset: $offset"),vars:(0,x.Z)({},n,"[CommunitySearchAPISort]")}}},S=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"browse_modules",e="",o={$limit:"Int",$aggregate:"SearchAPIAggregate",$offset:"Int"};n.forEach((function(n){var t="".concat(n,"_query"),r=m.Ei[n].search_type,a=E("$".concat(n,"_sort"))[r],l=a.criteria,s=a.params,c=a.vars;o=(0,f.Z)((0,i.Z)({},o,c),(0,x.Z)({},"$".concat(t),"".concat(l,"!"))),e=e.concat("\n      ".concat(n,": ").concat(r,"(query: $").concat(t,", ").concat(s,") {\n        ...searchHomeResult\n      }"))}));var r=Object.entries(o).map((function(n){var t=(0,w.Z)(n,2),e=t[0],o=t[1];return"".concat(e,": ").concat(o)}),[]).join(", "),a="\n    ".concat(b[t],"\n    query BrowseModulesHestia(").concat(r,") {\n      ").concat(e,"\n    }");return a},Z=(0,s.j)("Browse-Modules"),k=function(){var n=(0,o.Z)((function(n){var t,e,o,s,c,f,x,w,b,E,k,C,P,R,L,j,T,I,N,$,O,M,A,H,q,W,B,F,V,D,z,U=arguments;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(t=U.length>1&&void 0!==U[1]?U[1]:[],e=U.length>2&&void 0!==U[2]?U[2]:{},o=e.sort,s=e.limit,c=void 0===s?p.kV:s,f=e.base_query,x=U.length>3&&void 0!==U[3]?U[3]:p.IO,w="v2",E=(b=n||{}).city,k=b.county,C=b.postal_code,P=b.state_code,R=(l.config||{}).CLIENT_ID,L=x>0,j=(0,i.Z)({limit:c,client_id:R,types:t.map((function(n){return(0,a.e)(n)})),feps_version:w,postal_code:C,city:E,state_code:P},o&&{sort_field:o},f&&{base_query:f}),!E&&k&&(j.county=k),T="browse_modules_hestia-".concat(JSON.stringify(j)),L&&(I=d(T)))return[2,JSON.parse(I)];r.label=1;case 1:return r.trys.push([1,5,,6]),N=_(t),$=N.browseModulesTypes,O=N.hasMedianPriceRequest,M=$.includes(m.HN.FORECLOSURE_TYPES),A=(0,y.XO)(j,M),q={},O?[4,v(A)]:[3,3];case 2:q=r.sent(),H=null===q||void 0===q||null===(W=q.geo_statistics)||void 0===W||null===(B=W.housing_market)||void 0===B?void 0:B.median_listing_price,r.label=3;case 3:return F={query:S($,f),variables:g($,A,H,o)},[4,(0,h.T)((0,i.Z)({},F))];case 4:return V=r.sent().data,Object.keys(V).forEach((function(n){"affordable_homes_for_sale"!==n&&"luxury_homes_for_sale"!==n&&"around_median_homes_for_sale"!==n||(V[n]=(0,i.Z)({},V[n]||{}))})),D=(0,i.Z)({result:{results:V},location:A},q),L&&u(T,JSON.stringify(D),x),[2,D];case 5:throw z=r.sent(),Z.error("Failed to fetch listings",z),new Error(z);case 6:return[2]}}))}));return function(t){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=rdc-home.ListingCollections.33ccd6e7c95493cd.js.map