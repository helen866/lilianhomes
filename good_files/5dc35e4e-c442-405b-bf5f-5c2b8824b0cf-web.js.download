/*! @permutive/javascript-sdk v20.55.0 (web) (built 2025-11-21T09:32:53.666Z) */(()=>{"use strict";var __webpack_modules__={5654:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},842:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(2169),i=r(8236);function a(e){return(0,n.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(n.gn))}},2945:(e,t,r)=>{r.d(t,{Qt:()=>o,Yt:()=>p,ap:()=>a,gz:()=>l});var n=r(2169),i=r(8614);function a(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function o(e){return function(t,r){return function(n){return e.ap(e.map(n,(function(e){return function(r){var n;return Object.assign({},e,((n={})[t]=r,n))}})),r)}}}function s(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):s(e,t-1,i)}}var c={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function u(e){return i.e$.call(c,e)||(c[e]=s(n.bc,e-1,[])),c[e]}function l(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=u(n),a=e.map(t[0],i),o=1;o<n;o++)a=e.ap(a,t[o]);return a}}function p(e){return function(t){for(var r=Object.keys(t),n=r.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i}}};case 4:return function(t){return function(r){return function(n){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a[e[3]]=i,a}}}};case 5:return function(t){return function(r){return function(n){return function(i){return function(a){var o;return(o={})[e[0]]=t,o[e[1]]=r,o[e[2]]=n,o[e[3]]=i,o[e[4]]=a,o}}}}};default:return s((function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},a=0;a<t;a++)i[e[a]]=r[a];return i}),t-1,[])}}(r),a=e.map(t[r[0]],i),o=1;o<n;o++)a=e.ap(a,t[r[o]]);return a}}},9912:(e,t,r)=>{r.d(t,{oA:()=>y,t9:()=>f,DZ:()=>b,Ew:()=>u,f2:()=>l,xH:()=>_,jV:()=>m,uK:()=>w,tV:()=>E,u4:()=>k,DY:()=>d});var n=r(2169),i=(r(6289),r(8614)),a=r(4214);i.r1;var o=function(e){return[e]};a.xP,a.Lx,a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh,i.F4,a.YM,a.Z$,a.VV,a.Fp,a.j0;a.ur;var s=r(7812),c=r(7049);r(3226);s.P5,s.YM,s.Z$;s.cx;function u(e){return s.Ew(e)}var l=s.f2;s.JO,s.qr;var p=function(e){return e.slice()},d=function(e){return function(t){return t.length<=1?p(t):t.slice().sort(e.compare)}};var f=s.t9;function m(e){var t=f(e);return function(r,n){if(void 0===n){var i=m(e);return function(e){return i(e,r)}}return r.filter((function(e){return t(e,n)}))}}s.kp,s.Eq;var g=o,h=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},_=h(n.yR),v=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);i.pC(a)&&r.push(a.value)}return r}},b=function(e){return v((function(t,r){return e(r)}))},y=b(n.yR),w=function(e){return I((function(t,r){return e(r)}))},I=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,c.s4)(r,n)}},E=function(e){return S((function(t,r){return e(r)}))},S=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=e(i,t[i]);"Left"===a._tag?r.push(a.left):n.push(a.right)}return(0,c.s4)(r,n)}},k=(s.Lx,s.xP,s.u4);s.OE,s.nq,s.iw,s.ZN,s.Eh,s.pR,s.pJ,s.oR,s.yW,s.j0,i.F4},6335:(e,t,r)=>{function n(e){return function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}}}function i(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>i,m:()=>n})},7144:(e,t,r)=>{r.d(t,{G5:()=>_,dO:()=>m,Pd:()=>w,ak:()=>L,tS:()=>b,Y$:()=>C,g_:()=>U,ij:()=>T,Yo:()=>k,DT:()=>S,fS:()=>z,pF:()=>A,nM:()=>P,t$:()=>s,UI:()=>f,Vn:()=>I,EQ:()=>D,vx:()=>q,F2:()=>c,LF:()=>R,KC:()=>j,i$:()=>M,Y3:()=>O});var n=r(6335),i=r(4906),a=r(2169),o=(r(6289),r(8614)),s=o.t$,c=o.F2,u=function(e,t){return(0,a.zG)(e,f(t))},l=function(e,t){return(0,a.zG)(e,h(t))},p=function(e,t){return(0,a.zG)(e,b(t))},d="Either",f=function(e){return function(t){return P(t)?t:c(e(t.right))}},m={URI:d,map:u},g=c,h=function(e){return function(t){return P(t)?t:P(e)?e:c(t.right(e.right))}},_={URI:d,map:u,ap:l},v=function(e){return function(t){return P(t)?t:e(t.right)}},b=v,y={URI:d,map:u,ap:l,chain:p},w=function(e,t){return function(r){return P(r)?s(e(r.left)):c(t(r.right))}},I=function(e){return function(t){return P(t)?s(e(t.left)):t}},E={URI:d,fromEither:a.yR},S=(0,i.DT)(E),k=(0,i.Yo)(E),P=o.nM,x=(o.tO,function(e,t){return function(r){return P(r)?e(r.left):t(r.right)}}),G=x,D=x,U=D,A=function(e){return function(t){return P(t)?e(t.left):t.right}},z=A,C=(0,i.Y$)(E,y),R=function(e){return P(e)?c(e.left):s(e.right)},q=function(e){return function(t){return P(t)?e(t.left):t}},T=function(e){return function(t){return null==t?s(e):c(t)}},O=function(e,t){try{return c(e())}catch(e){return s(t(e))}},M=G(a.yR,a.yR);function j(e){return e instanceof Error?e:new Error(String(e))}o.F4;var L=(0,n.a)(y);o.Xl},7125:(e,t,r)=>{r.d(t,{EQ:()=>y,F2:()=>s,KQ:()=>d,LF:()=>P,LU:()=>k,LV:()=>w,NG:()=>f,Pd:()=>v,UI:()=>m,Vn:()=>b,ap:()=>g,dQ:()=>S,fS:()=>I,i$:()=>x,ij:()=>p,m8:()=>u,pk:()=>l,t$:()=>c,tS:()=>h,vx:()=>E,wp:()=>_});var n=r(2945),i=r(7144),a=r(2169),o=r(6289);function s(e){return(0,a.ls)(i.F2,e.of)}function c(e){return(0,a.ls)(i.t$,e.of)}function u(e){return function(t){return e.map(t,i.F2)}}function l(e){return function(t){return e.map(t,i.t$)}}function p(e){return function(t){return(0,a.ls)(i.ij(t),e.of)}}function d(e){var t=p(e);return function(e){var r=t(e);return function(e){return(0,a.ls)(e,r)}}}function f(e){var t=h(e),r=d(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function m(e){return(0,o.UI)(e,i.dO)}function g(e){return(0,n.ap)(e,i.G5)}function h(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?e.of(r):t(r.right)}))}}}function _(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t():e.of(r)}))}}}function v(e){return function(t,r){return function(n){return e.map(n,i.Pd(t,r))}}}function b(e){return function(t){return function(r){return e.map(r,i.Vn(t))}}}function y(e){return function(t,r){return function(n){return e.map(n,i.EQ(t,r))}}}function w(e){return function(t,r){return function(n){return e.chain(n,i.EQ(t,r))}}}function I(e){return function(t){return function(r){return e.chain(r,i.EQ(t,e.of))}}}function E(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t(r.left):e.of(r)}))}}}function S(e){var t=E(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function k(e){return function(t){return function(r){return e.chain(r,i.EQ((function(r){return e.map(t(r),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function P(e){return function(t){return e.map(t,i.LF)}}function x(e){return function(t){return e.map(t,i.i$)}}},3689:(e,t,r)=>{r.d(t,{f7:()=>n,n_:()=>i,w4:()=>a});r(2169);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},i=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},a={equals:function(e,t){return e===t}};a.equals},4906:(e,t,r)=>{r.d(t,{DT:()=>o,Y$:()=>u,Yo:()=>a,fX:()=>c});var n=r(2169),i=r(8614);function a(e){return function(t){return function(r){return e.fromEither(i.Wi(r)?i.t$(t()):i.F2(r.value))}}}function o(e){return function(t,r){return function(n){return e.fromEither(t(n)?i.F2(n):i.t$(r(n)))}}}function s(e){return function(t){return(0,n.ls)(t,e.fromEither)}}function c(e,t){var r=s(e);return function(e){return function(n){return t.chain(n,r(e))}}}function u(e,t){return function(r,n){return function(a){return t.chain(a,(function(t){return e.fromEither(r(t)?i.F2(t):i.t$(n(t)))}))}}}},7755:(e,t,r)=>{r.d(t,{At:()=>a});var n=r(6335),i=r(2169);function a(e,t){var r=(0,n.m)(t);return function(t){return r((0,i.ls)(t,e.fromIO))}}},6289:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function i(e){return function(t){return function(r){return e.map(r,(function(e){var r;return(r={})[t]=e,r}))}}}function a(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>a,UI:()=>n,YO:()=>i})},4694:(e,t,r)=>{r.d(t,{G5:()=>l,RD:()=>m,UI:()=>s,of:()=>c});var n=r(2169),i=(r(6289),r(8614)),a=function(e,t){return function(){return t(e())}},o=function(e,t){return function(){return e()(t())}},s=function(e){return function(t){return a(t,e)}},c=n.a9,u="IO",l={URI:u,map:a,ap:o},p=(n.yR,n.yR,i.F4,c(i.Xl)),d=function(e){var t=function(e){return function(t){return function(){for(var r=[e(0,i.YM(t))()],n=1;n<t.length;n++)r.push(e(n,t[n])());return r}}}(e);return function(e){return i.Od(e)?t(e):p}},f=function(e){return d((function(t,r){return e(r)}))},m=f(n.yR)},9144:(e,t,r)=>{r.d(t,{P:()=>a});var n=r(7144),i=r(2169),a=function(e){return(0,n.Y3)((function(){var t=JSON.stringify(e);if("string"!=typeof t)throw new Error("Converting unsupported structure to JSON");return t}),i.yR)}},8236:(e,t,r)=>{r.d(t,{g1:()=>D,G5:()=>G,Ri:()=>M,xu:()=>$,dO:()=>k,wp:()=>z,tS:()=>U,fX:()=>te,mU:()=>ee,NG:()=>ae,hX:()=>j,DZ:()=>L,xH:()=>Z,g_:()=>V,Uo:()=>B,ij:()=>re,KQ:()=>ie,DT:()=>d,Eh:()=>E,IS:()=>f,fS:()=>J,pF:()=>X,EK:()=>m,lo:()=>R,Wi:()=>K,pC:()=>Y,UI:()=>S,EQ:()=>H,aD:()=>W,YP:()=>l,of:()=>P,RD:()=>ue,G:()=>p,FS:()=>oe,Y3:()=>ne,bM:()=>C});var n=r(6335),i=r(4906),a=r(2169),o=(r(6289),r(8614)),s=r(4327),c=r(7049);r(3226);function u(e,t){return function(r){return r?t.of(void 0):e.zero()}}var l=o.YP,p=o.G;function d(e){return function(t){return e(t)?p(t):l}}var f=function(e){return"Right"===e._tag?l:p(e.left)},m=function(e){return"Left"===e._tag?l:p(e.right)},g=function(e,t){return(0,a.zG)(e,S(t))},h=function(e,t){return(0,a.zG)(e,x(t))},_=function(e,t){return(0,a.zG)(e,U(t))},v=function(e,t){return(0,a.zG)(e,j(t))},b=function(e,t){return(0,a.zG)(e,L(t))},y=function(e,t){return(0,a.zG)(e,F(t))},w=function(e,t){return(0,a.zG)(e,N(t))},I="Option",E=function(e){return{equals:function(t,r){return t===r||(K(t)?K(r):!K(r)&&e.equals(t.value,r.value))}}},S=function(e){return function(t){return K(t)?l:p(e(t.value))}},k={URI:I,map:g},P=p,x=function(e){return function(t){return K(t)||K(e)?l:p(t.value(e.value))}},G={URI:I,map:g,ap:h},D={URI:I,map:g,ap:h,of:P},U=function(e){return function(t){return K(t)?l:e(t.value)}},A={URI:I,map:g,ap:h,chain:_},z=function(e){return function(t){return K(t)?e():t}},C=function(){return l},R=u({URI:I,zero:C},{URI:I,of:P}),q=U(a.yR),T=(0,c.s4)(l,l),O=function(e){return K(e)?T:(0,c.s4)(f(e.value),m(e.value))},M={URI:I,compact:q,separate:O},j=function(e){return function(t){return K(t)?l:e(t.value)?t:l}},L=function(e){return function(t){return K(t)?l:e(t.value)}},F=function(e){return function(t){return(0,c.s4)(v(t,(0,s.ff)(e)),v(t,e))}},N=function(e){return(0,a.ls)(S(e),O)},$={URI:I,map:g,compact:q,separate:O,filter:v,filterMap:b,partition:y,partitionMap:w},B=m,Q={URI:I,fromEither:B},Y=o.pC,K=function(e){return"None"===e._tag},W=function(e,t){return function(r){return K(r)?e():t(r.value)}},H=W,V=H,X=function(e){return function(t){return K(t)?e():t.value}},J=X,Z=q,ee=(0,n.m)(A),te=(0,i.fX)(Q,A),re=function(e){return null==e?l:p(e)},ne=function(e){try{return p(e())}catch(e){return l}},ie=function(e){return(0,a.ls)(e,re)},ae=function(e){return function(t){return K(t)?l:re(e(t.value))}},oe=H(a.r5,a.yR);o.F4;var se=P(o.Xl),ce=function(e){var t=function(e){return function(t){var r=e(0,o.YM(t));if(K(r))return l;for(var n=[r.value],i=1;i<t.length;i++){var a=e(i,t[i]);if(K(a))return l;n.push(a.value)}return p(n)}}(e);return function(e){return o.Od(e)?t(e):se}},ue=function(e){return ce((function(t,r){return e(r)}))}(a.yR)},856:(e,t,r)=>{r.d(t,{Fp:()=>c,VV:()=>s,Zt:()=>o,uZ:()=>u});var n=r(3689),i=r(2169),a=function(e){return function(t,r){return t===r||0===e(t,r)}},o=function(e){return{equals:a(e),compare:function(t,r){return t===r?0:e(t,r)}}},s=(i.W8,function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}}),c=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}},u=function(e){var t=s(e),r=c(e);return function(e,n){return function(i){return r(t(i,n),e)}}};n.w4.equals},4327:(e,t,r)=>{r.d(t,{ff:()=>n});r(2169);var n=function(e){return function(t){return!e(t)}}},7812:(e,t,r)=>{r.d(t,{$R:()=>G,DZ:()=>B,EQ:()=>g,Eh:()=>ae,Eq:()=>R,Ew:()=>w,G:()=>fe,Hr:()=>he,JO:()=>S,Lx:()=>V,OE:()=>X,Od:()=>f,P5:()=>_,Su:()=>L,UI:()=>j,YM:()=>v,YO:()=>ge,Z$:()=>b,ZN:()=>re,bM:()=>T,bj:()=>x,cS:()=>pe,cx:()=>y,dF:()=>E,f2:()=>I,hX:()=>N,hp:()=>P,iw:()=>Z,j0:()=>me,jG:()=>ne,kp:()=>C,nI:()=>le,nq:()=>J,oA:()=>Q,oR:()=>ue,of:()=>q,oh:()=>F,pJ:()=>ce,pR:()=>oe,qr:()=>k,t9:()=>D,tS:()=>O,u4:()=>H,uK:()=>Y,uZ:()=>ie,vP:()=>ee,xH:()=>M,xP:()=>W,xb:()=>d,yW:()=>de,zo:()=>U});var n=r(3689),i=r(2169),a=r(6289),o=r(8614),s=r(3052),c=r(856),u=r(4214),l=r(7049),p=(r(3226),function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}),d=function(e){return 0===e.length},f=u.Od,m=(u.Ce,u.ws,u.R3);u.Im;var g=function(e,t){return function(r){return f(r)?t(r):e()}},h=u.dC;function _(e,t){return void 0===t?function(t){return _(e,t)}:h(e,t)?o.YP:o.G(t[e])}var v=function(e){return f(e)?o.G(u.YM(e)):o.YP},b=function(e){return f(e)?o.G(u.Z$(e)):o.YP};var y=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return o.G(r);return o.YP}};function w(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return o.G(t[r]);return o.YP}}var I=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(o.pC(n))return n}return o.YP}};function E(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return o.G(t[r]);return o.YP}}var S=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(o.pC(n))return n}return o.YP}},k=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return o.G(r);return o.YP}},P=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Right"===n._tag&&t.push(n.right)}return t},x=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};function G(e,t){return void 0===t?function(t){return G(t,e)}:function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n}(e,t,(function(e,t){return[e,t]}))}function D(e){return function(t,r){if(void 0===r){var n=D(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var U=function(e){return function(t){return d(t)?e:d(e)?t:t.concat(e)}};var A=function(e,t){return(0,i.zG)(e,j(t))},z=function(e,t,r){return(0,i.zG)(e,H(t,r))},C=function(e,t){return(0,i.zG)(e,ce(t))},R=function(e,t){return(0,i.zG)(e,ue(t))},q=u.of,T=function(){return pe},O=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(d(t))return pe;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},M=O(i.yR),j=function(e){return function(t){return t.map((function(t){return e(t)}))}},L=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},F=function(e){for(var t=[],r=[],n=0,i=e;n<i.length;n++){var a=i[n];"Left"===a._tag?t.push(a.left):r.push(a.right)}return(0,l.s4)(t,r)},N=function(e){return function(t){return t.filter(e)}},$=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);o.pC(i)&&r.push(i.value)}return r}},B=function(e){return $((function(t,r){return e(r)}))},Q=B(i.yR),Y=function(e){return K((function(t,r){return e(r)}))},K=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,l.s4)(r,n)}},W=function(e){return function(t){return function(r){return r.reduce((function(r,n,i){return e.concat(r,t(i,n))}),e.empty)}}},H=function(e,t){return X(e,(function(e,r,n){return t(r,n)}))},V=function(e){var t=W(e);return function(e){return t((function(t,r){return e(r)}))}},X=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}},J=function(e,t){return Z(e,(function(e,r,n){return t(r,n)}))},Z=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},ee=function(e){return function(t){return z(t,e.of(T()),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,m(t))}})),r)}))}},te="ReadonlyArray",re=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},ne=function(){return{concat:function(e,t){return d(e)?t:d(t)?e:e.concat(t)}}},ie=function(){return{concat:ne().concat,empty:pe}},ae=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},oe=function(e){return(0,c.Zt)((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),o=0;o<a;o++){var c=e.compare(t[o],r[o]);if(0!==c)return c}return s.Df.compare(n,i)}))},se={URI:te,map:A},ce=function(e){return function(t){for(var r=p([],e(t),!0),n=[];r.length>0;){var i=r.shift();o.nM(i)?r.unshift.apply(r,e(i.left)):n.push(i.right)}return n}},ue=function(e){return function(t){var r=e(t),n=[],i=[];function a(t){o.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):i.push(t.right)}for(var s=0,c=r;s<c.length;s++){a(c[s])}for(;n.length>0;)a(n.shift());return i}},le=(u.oo,function(e){return d(e)?pe:e.slice()}),pe=u.cS;function de(e){return function(t){return t.every(e)}}var fe=function(e){return function(t){return t.some(e)}},me=function(e){var t=u.j0(e);return function(r){return g((function(){return e.empty}),t(r))}},ge=(o.F4,(0,a.YO)(se)),he=(0,a.Hr)(se);u.w6,u.QI,u.Ss},4214:(e,t,r)=>{r.d(t,{Ce:()=>d,Eh:()=>R,Fp:()=>j,Im:()=>f,Lx:()=>x,OE:()=>D,Od:()=>u,QI:()=>N,R3:()=>m,Ss:()=>$,UI:()=>S,VV:()=>M,YM:()=>q,Z$:()=>O,ZN:()=>C,c2:()=>h,cS:()=>c,dC:()=>l,iw:()=>A,j0:()=>F,nI:()=>b,nq:()=>G,of:()=>E,oo:()=>g,u4:()=>P,ur:()=>L,vM:()=>w,w6:()=>v,ws:()=>p,xP:()=>U});var n=r(3689),i=r(2169),a=(r(6289),r(8614)),o=r(1340),s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},c=a.Xl,u=a.Od,l=function(e,t){return e<0||e>=t.length},p=function(e){return function(t){return s([e],t,!0)}},d=p,f=function(e){return function(t){return s(s([],t,!0),[e],!1)}},m=f,g=function(e,t,r){if(u(r)){var n=a.r1(r);return n.splice(e,0,t),n}return[t]},h=function(e){return u(e)?a.G(e):a.YP},_=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},v=function(e,t){return e<=t?_((function(t){return e+t}))(t-e+1):[e]},b=function(e){return h(e.slice())};function y(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var w=function(e){return function(t){for(var r={},n=0,i=t;n<i.length;n++){var o=i[n],s=e(o);a.e$.call(r,s)?r[s].push(o):r[s]=[o]}return r}};var I=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},E=a.ri,S=function(e){return k((function(t,r){return e(r)}))},k=function(e){return function(t){for(var r=[e(0,q(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},P=function(e,t){return D(e,(function(e,r,n){return t(r,n)}))},x=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},G=function(e,t){return A(e,(function(e,r,n){return t(r,n)}))},D=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},U=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,i){return e.concat(r,t(i+1,n))}),t(0,r[0]))}}},A=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},z=a.YM,C=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},R=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},q=(a.F4,z),T=a.Gb,O=function(e){return e[e.length-1]},M=function(e){var t=o.VV(e);return function(e){return e.reduce(t.concat)}},j=function(e){var t=o.Fp(e);return function(e){return e.reduce(t.concat)}},L=function(e){return function(t){return t.reduce(e.concat)}},F=function(e){var t=L(e);return function(e){return(0,i.ls)(function(e){return function(t){var r=T(t);return u(r)?(0,i.zG)(r,I(e),d(q(t))):t}}(e),t)}};function N(e,t){return void 0===t?d(e):(0,i.zG)(t,d(e))}var $=function(e,t){return(0,i.zG)(e,y([t]))}},6450:(e,t,r)=>{r.d(t,{Bu:()=>g,CC:()=>T,DZ:()=>Z,Dv:()=>le,EG:()=>m,EW:()=>$,Eh:()=>ce,G:()=>A,HA:()=>C,Hd:()=>P,I8:()=>M,P5:()=>h,RF:()=>O,RJ:()=>L,SW:()=>Q,Su:()=>v,UI:()=>b,Ub:()=>K,V_:()=>N,XP:()=>p,_Y:()=>F,_r:()=>k,dp:()=>c,dx:()=>d,e$:()=>f,hX:()=>J,jt:()=>x,kp:()=>q,mK:()=>V,mS:()=>j,nn:()=>R,nr:()=>pe,nu:()=>B,oA:()=>ae,oh:()=>oe,qS:()=>H,ri:()=>E,sq:()=>D,t9:()=>z,tV:()=>te,uK:()=>ee,uZ:()=>ue,vA:()=>W,vP:()=>S,xb:()=>u,yW:()=>U,z7:()=>G,zV:()=>Y});var n=r(3689),i=r(2169),a=r(8614),o=r(7049),s=r(229),c=(r(3226),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},l=function(e){return function(t){return Object.keys(t).sort(e.compare)}},p=l(s.Df);var d=function(e,t){return function(r){if(a.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},f=function(e,t){return a.e$.call(t,e)};function m(e){return function(t){if(!a.e$.call(t,e))return t;var r=Object.assign({},t);return delete r[e],r}}function g(e){return function(t,r){if(void 0===r){var n=g(e);return function(e){return n(e,t)}}for(var i in t)if(!a.e$.call(r,i)||!e.equals(t[i],r[i]))return!1;return!0}}function h(e,t){return void 0===t?function(t){return h(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var _={};function v(e){return function(t){var r={};for(var n in t)a.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function b(e){return v((function(t,r){return e(r)}))}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return y(s.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),o=a.length,s=0;s<o;s++){var c=a[s];i=t(c,i,n[c])}return i}}}function w(e){if("compare"in e){var t=l(e);return function(e){return function(r){return function(n){for(var i=e.empty,a=t(n),o=a.length,s=0;s<o;s++){var c=a[s];i=e.concat(i,r(c,n[c]))}return i}}}}return w(s.Df)(e)}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return I(s.Df).apply(void 0,e);var r=l(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),o=a.length-1;o>=0;o--){var s=a[o];i=t(s,n[s],i)}return i}}}var E=function(e,t){var r;return(r={})[e]=t,r};function S(e){return V(s.Df)(e)}function k(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var s=e(i,t[i]);switch(s._tag){case"Left":r[i]=s.left;break;case"Right":n[i]=s.right}}return(0,o.s4)(r,n)}}function P(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?n[i]=s:r[i]=s}return(0,o.s4)(r,n)}}function x(e){return function(t){var r={};for(var n in t)if(a.e$.call(t,n)){var i=e(n,t[n]);a.pC(i)&&(r[n]=i.value)}return r}}function G(e){return function(t){var r={},n=!1;for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?r[i]=o:n=!0}return n?r:t}}var D=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i[0]]=i[1]}return t};function U(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function A(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function z(e){return function(t,r){if(void 0===r){var n=z(e);return function(e){return n(t,e)}}for(var i in r)if(e.equals(r[i],t))return!0;return!1}}var C=function(e,t){return(0,i.zG)(e,b(t))},R=function(e,t){return(0,i.zG)(e,v(t))},q=function(e){var t=re(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},T=function(e){return function(t){var r=ne(e)(t);return function(e,t){return(0,i.zG)(e,r(t))}}},O=function(e){var t=ie(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},M=function(e,t){return(0,i.zG)(e,J(t))},j=function(e,t){return(0,i.zG)(e,Z(t))},L=function(e,t){return(0,i.zG)(e,ee(t))},F=function(e,t){return(0,i.zG)(e,te(t))},N=function(e){var t=y(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},$=function(e){var t=w(e);return function(e){var r=t(e);return function(e,t){return(0,i.zG)(e,r(t))}}},B=function(e){var t=I(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},Q=function(e,t){return(0,i.zG)(e,k(t))},Y=function(e,t){return(0,i.zG)(e,P(t))},K=function(e,t){return(0,i.zG)(e,x(t))},W=function(e,t){return(0,i.zG)(e,G(t))},H=function(e){var t=X(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,i.ls)(i.SK,t))}}},V=function(e){var t=H(e);return function(e){var r=t(e);return function(e){return r(e,i.yR)}}},X=function(e){return function(t){var r=l(e);return function(e,n){var i=r(e);if(0===i.length)return t.of(_);for(var a=t.of({}),o=function(r){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}},J=function(e){return G((function(t,r){return e(r)}))},Z=function(e){return x((function(t,r){return e(r)}))},ee=function(e){return P((function(t,r){return e(r)}))},te=function(e){return k((function(t,r){return e(r)}))};function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=y(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return re(s.Df).apply(void 0,e)}function ne(e){if("compare"in e){var t=w(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return ne(s.Df)(e)}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=I(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ie(s.Df).apply(void 0,e)}var ae=function(e){var t={};for(var r in e)if(a.e$.call(e,r)){var n=e[r];a.pC(n)&&(t[r]=n.value)}return t},oe=function(e){var t={},r={};for(var n in e)if(a.e$.call(e,n)){var i=e[n];a.nM(i)?t[n]=i.left:r[n]=i.right}return(0,o.s4)(t,r)},se="ReadonlyRecord";function ce(e){var t=g(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function ue(e){return{concat:function(t,r){if(u(t))return r;if(u(r))return t;var n=Object.assign({},t);for(var i in r)a.e$.call(r,i)&&(n[i]=a.e$.call(t,i)?e.concat(t[i],r[i]):r[i]);return n},empty:_}}var le=function(e){var t,r=(t=e,function(e){return function(r){if(u(r))return e;if(u(e))return r;var n={};for(var i in r)f(i,e)?n[i]=t.concat(r[i],e[i]):n[i]=r[i];for(var i in e)f(i,n)||(n[i]=e[i]);return n}});return{concat:function(e,t){return r(t)(e)}}};s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function pe(e,t){return a.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},3643:(e,t,r)=>{r.d(t,{H5:()=>s,Kl:()=>c,Lx:()=>l,Pd:()=>a,Yg:()=>i,li:()=>n,nq:()=>p,pL:()=>o,u4:()=>u});r(2169);function n(e){return e[0]}function i(e){return e[1]}var a=function(e,t){return function(r){return[t(n(r)),e(i(r))]}},o=function(e){return function(t){return[e(n(t)),i(t)]}},s=function(e){return function(t){return[n(t),e(i(t))]}},c=n,u=function(e,t){return function(r){return t(e,n(r))}},l=function(){return function(e){return function(t){return e(n(t))}}},p=function(e,t){return function(r){return t(n(r),e)}}},951:(e,t,r)=>{r.d(t,{UI:()=>s,XP:()=>o});var n=r(6450),i=r(229),a=(r(3226),n.dp,n.xb,function(e){return function(t){return Object.keys(t).sort(e.compare)}}),o=a(i.Df);n.dx,n.e$;n.Bu,n.P5,n.Su;var s=n.UI;n.ri;function c(e){return n.vP(e)}n._r;n.jt;n.yW,n.G,n.t9;var u=n.HA,l=(n.nn,n.kp),p=n.CC,d=n.RF,f=(n.I8,n.mS,n.RJ,n._Y,n.V_),m=n.EW,g=n.nu,h=(n.SW,n.zV,n.Ub,n.vA,n.qS),_=(n.mK,function(e){return function(t){var r=a(e);return function(e,n){var i=r(e);if(0===i.length)return t.of({});for(var a=t.of({}),o=function(r){a=t.ap(t.map(a,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}});n.hX,n.DZ,n.uK,n.tV;n.oA,n.oh;var v="Record";n.Eh,n.uZ,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,n.nr,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df},5086:(e,t,r)=>{r.d(t,{ff:()=>n});var n=function(e){return function(t){return!e(t)}}},1340:(e,t,r)=>{r.d(t,{Z$:()=>u,Fp:()=>s,VV:()=>o,n_:()=>c});var n,i=r(8614),a=r(856),o=function(e){return{concat:a.VV(e)}},s=function(e){return{concat:a.Fp(e)}},c=function(e){return{concat:function(t,r){var n={};for(var a in e)i.e$.call(e,a)&&(n[a]=e[a].concat(t[a],r[a]));return n}}},u=function(){return{concat:function(e,t){return t}}};n=void 0},7049:(e,t,r)=>{r.d(t,{Pd:()=>i,s4:()=>n});r(2169);var n=function(e,t){return{left:e,right:t}},i=function(e,t){return function(r){return n(e(a(r)),t(o(r)))}},a=function(e){return e.left},o=function(e){return e.right}},7226:(e,t,r)=>{r.d(t,{At:()=>P,Hi:()=>y,PM:()=>b,Qt:()=>D,UA:()=>E,UI:()=>f,YO:()=>x,ak:()=>G,ap:()=>m,dO:()=>v,mU:()=>S,of:()=>g,pE:()=>R,qA:()=>w,qo:()=>I,tD:()=>u,tS:()=>h,uU:()=>C});var n=r(2945),i=r(6335),a=r(7755),o=r(2169),s=r(6289),c=r(8614),u=function(e){return function(){return Promise.resolve().then(e)}};var l=function(e,t){return(0,o.zG)(e,f(t))},p=function(e,t){return(0,o.zG)(e,m(t))},d=function(e,t){return(0,o.zG)(e,h(t))},f=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},m=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},g=function(e){return function(){return Promise.resolve(e)}},h=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},_="Task";var v={URI:_,map:l},b={URI:_,of:g},y={URI:_,map:l,ap:p},w={URI:_,map:l,ap:p,of:g},I={URI:_,map:l,ap:p,chain:d},E={URI:_,map:l,of:g,ap:p,chain:d},S=(o.yR,(0,i.m)(I)),k={URI:_,fromIO:u},P=(0,a.At)(k,I),x=(c.F4,(0,s.YO)(v)),G=(0,i.a)(I),D=(0,n.Qt)(y),U=g(c.Xl),A=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return c.Od(e)?t(e):U}},z=function(e){var t=function(e){return function(t){return function(){return c.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,c.YM(t))).then(c.ri))}}}(e);return function(e){return c.Od(e)?t(e):U}},C=function(e){return A((function(t,r){return e(r)}))},R=function(e){return z((function(t,r){return e(r)}))}},132:(e,t,r)=>{r.d(t,{Do:()=>ee,Qt:()=>ne,ak:()=>re,tS:()=>M,fX:()=>W,At:()=>X,wE:()=>Z,Zl:()=>j,Y$:()=>H,Uo:()=>I,tD:()=>y,fF:()=>w,fS:()=>k,t$:()=>g,Hr:()=>te,UI:()=>R,Vn:()=>T,EQ:()=>E,LV:()=>S,of:()=>F,vx:()=>x,F2:()=>h,Ij:()=>ie,Y3:()=>P});var n=r(2945),i=r(6335),a=r(7125),o=r(4906),s=r(7755),c=r(2169);function u(e,t){return function(r){var n=(0,c.ls)(r,e.fromTask);return function(e){return t.chain(e,n)}}}var l=r(6289),p=r(8614),d=r(7226),f=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},m=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},g=a.t$(d.PM),h=a.F2(d.PM),_=a.m8(d.dO),v=a.pk(d.dO),b=(0,c.ls)(d.tD,_),y=(d.tD,b),w=_,I=d.of,E=(d.tD,a.EQ(d.dO)),S=a.LV(d.UA),k=a.fS(d.UA),P=function(e,t){return function(){return f(void 0,void 0,void 0,(function(){var r;return m(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(p.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,p.t$(t(r))];case 3:return[2]}}))}))}},x=(d.dO,d.PM,d.PM,d.UA,a.vx(d.UA)),G=(d.UA,d.UA,d.dO,function(e,t){return(0,c.zG)(e,R(t))}),D=function(e,t){return(0,c.zG)(e,O(t))},U=function(e,t){return(0,c.zG)(e,M(t))},A=function(e,t,r){return(0,c.zG)(e,q(t,r))},z=function(e,t){return(0,c.zG)(e,T(t))},C=function(e,t){return(0,c.zG)(e,L(t))},R=a.UI(d.dO),q=a.Pd(d.dO),T=a.Vn(d.dO),O=a.ap(d.Hi),M=a.tS(d.UA),j=M,L=a.wp(d.UA),F=h,N=g,$="TaskEither";var B={URI:$,map:G},Q={URI:$,map:G,ap:D},Y={URI:$,map:G,ap:D,chain:U},K={URI:$,fromEither:I},W=(0,o.fX)(K,Y),H=(0,o.Y$)(K,Y),V={URI:$,fromIO:y},X=(0,s.At)(V,Y),J={URI:$,fromIO:y,fromTask:w},Z=u(J,Y);var ee=F(p.F4),te=(0,l.Hr)(B),re=(0,i.a)(Y),ne=(0,n.Qt)(Q),ie=(p.Xl,{URI:$,bimap:A,mapLeft:z,map:G,of:F,ap:D,chain:U,alt:C,fromIO:y,fromTask:w,throwError:N})},3226:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}}function i(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}}r.d(t,{BL:()=>i,Fj:()=>n})},2169:(e,t,r)=>{r.d(t,{MZ:()=>i,Q1:()=>u,SK:()=>f,W8:()=>o,a9:()=>a,bc:()=>p,gn:()=>s,ls:()=>l,r5:()=>c,yR:()=>n,zG:()=>d});function n(e){return e}var i=n;function a(e){return function(){return e}}var o=a(!0),s=a(null),c=a(void 0),u=c;function l(e,t,r,n,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function d(e,t,r,n,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return o(a(i(n(r(t(e))))));case 8:return s(o(a(i(n(r(t(e)))))));case 9:return c(s(o(a(i(n(r(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var f=function(e,t){return t}},8614:(e,t,r)=>{r.d(t,{F2:()=>p,F4:()=>_,G:()=>s,Gb:()=>g,Od:()=>f,Wi:()=>i,Xl:()=>h,YM:()=>m,YP:()=>o,e$:()=>v,nM:()=>c,pC:()=>a,r1:()=>b,ri:()=>d,t$:()=>l,tO:()=>u});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){return"None"===e._tag},a=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},u=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},p=function(e){return{_tag:"Right",right:e}},d=function(e){return[e]},f=function(e){return e.length>0},m=function(e){return e[0]},g=function(e){return e.slice(1)},h=[],_={},v=Object.prototype.hasOwnProperty,b=function(e){return n([e[0]],e.slice(1),!0)}},3052:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};n.equals,i.compare},229:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,pn:()=>o,xb:()=>a});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},o=function(e,t){return function(r){return r.endsWith(e,t)}}},9412:(e,t,r)=>{r.r(t),r.d(t,{CleanRoomAddon:()=>o,load:()=>a});var n=r(2478);const i="clean_room",a=e=>{(0,n.Hn)(i)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[i,{}]})};class o{constructor(){}}},8356:(e,t,r)=>{r.r(t),r.d(t,{PrebidAnalyticsAddon:()=>h,load:()=>g});var n=r(5654),i=r(9912),a=r(7144),o=r(2169),s=r(8236),c=r(132),u=r(7721),l=r(4659),p=r(2390),d=r(2176),f=r(2478);const m="prebid_analytics",g=e=>{(0,f.Hn)(m)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[m,{}]})};class h{prefix="[prebid_analytics]";api;sessionManager;permutive;logger;clientContext;viewId;shouldTrackPrebidAuctions;async putOrResetUnprocessed(e){return(0,o.zG)(e,s.g_((()=>c.Y3((()=>this.unprocessedPrebidAuctions.reset()),n.w)),(e=>c.Y3((()=>this.unprocessedPrebidAuctions.put(e)),n.w))),c.vx((e=>(this.reportError(`Unprocessed auctions failed to put. Got ${e}`),c.F2((0,o.Q1)())))),(e=>e()))}unprocessedPrebidAuctions;debouncedPutOrResetUnprocessed=this.setupUnprocessedPrebidAuctions();stagedAuctions={};trackableAuctions={};get allAuctions(){return{...this.stagedAuctions,...this.trackableAuctions}}trackAuctionsInterval=null;constructor(e){this.permutive=e.permutive,this.api=e.api,this.logger=e.logger,this.unprocessedPrebidAuctions=e.unprocessedEvents.PrebidAuctions,this.sessionManager=e.sessionManager,this.clientContext=e.clientContext,this.viewId=e.viewId,this.shouldTrackPrebidAuctions=0===e.config.prebidAuctionsRandomDownsamplingThreshold||(0,l.CX)(e.userId.get())>e.config.prebidAuctionsRandomDownsamplingThreshold,this.shouldTrackPrebidAuctions?(0,o.zG)(e.pbjs,u.UI(s.EQ((()=>{this.logInfo("Waiting for PrebidJS to start PrebidAuctions tracking...")}),(e=>this.startPrebidAuctions(e))))):this.logDebug("Skipping tracking prebid auctions due to downsampling",{downsampling_threshold:e.config.prebidAuctionsRandomDownsamplingThreshold})}async startPrebidAuctions(e){await this.trackUnprocessedPrebidAuctions(),this.logDebug("Starting PrebidAuctions tracking",{prebid:e});const t=(0,d.zi)(e),r=e=>0===e.bidsReceived.length&&0===e.noBids.length?null:(0,o.zG)(this.mapToStagedAuctions(e),a.tS((()=>a.Y3((()=>e.bidsReceived.forEach((e=>{var r;("rendered"===(r=e).status||"targetingSet"===r.status)&&this.setBidToWon(t,e)}))),(e=>{const t=`Failed to process auction. Got ${(0,n.w)(e)}`;return this.reportError(t),(0,n.w)(t)})))));e.onEvent("auctionEnd",(e=>{r(e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const s=r=>{const n=(0,l.qh)(r);this.logDebug("Processing setTargeting event",{adUnitCodes:n});const s=a.DT((e=>{let[t,r]=e;return!!t&&!!r.hb_adid}),(()=>new Error("Missing targeting data"))),c=(0,o.ls)(s,a.tS((t=>{let[r,{hb_adid:n}]=t;return(0,o.zG)(e.getAllPrebidWinningBids(),(0,i.Ew)((e=>e.adId===n&&e.adUnitCode===r)),a.Yo((()=>new Error("Prebid winning bid does not exist"))))})),a.UI((e=>{this.setBidToWon(t,e)})));return n.forEach(c)};e.onEvent("setTargeting",(e=>{s(e),this.storeAuctionsAsUnprocessed(this.allAuctions)})),e.onEvent("bidWon",(e=>{this.setBidToWon(t,e),this.storeAuctionsAsUnprocessed(this.allAuctions)}));const c=(e,r)=>{this.logDebug("Processing render event",{isRendered:e,props:r}),r.bid&&(e&&this.setBidToRendered(t,r.bid),this.promoteAuctionToTrackable(r.bid),this.storeAuctionsAsUnprocessed(this.allAuctions),this.trackEligibleAuctions())};e.onEvent("adRenderSucceeded",(e=>{c(!0,e)})),e.onEvent("adRenderFailed",(e=>{c(!1,e)})),e.getEvents().forEach((e=>"auctionEnd"===e.eventType?r(e.args):"setTargeting"===e.eventType?s(e.args):"bidWon"===e.eventType?this.setBidToWon(t,e.args):"adRenderSucceeded"===e.eventType?c(!0,e.args):"adRenderFailed"===e.eventType?c(!1,e.args):void 0)),this.storeAuctionsAsUnprocessed(this.allAuctions,{debounced:!1}),(0,l.aT)((async()=>{this.trackAuctionsInterval=null;const e=this.allAuctions;this.stagedAuctions={},this.trackableAuctions={},await this.trackPrebidAuctions(e,{useBeacon:!0}),await this.storeAuctionsAsUnprocessed(null,{debounced:!1})}))}trackUnprocessedPrebidAuctions(){return(0,o.zG)(c.Y3((async()=>(0,o.zG)(await this.unprocessedPrebidAuctions.getIfPresent(),s.g_((()=>this.logDebug("No unprocessed PrebidAuctions found")),(e=>{let{props:t,...r}=e;return this.logDebug("Found unprocessed PrebidAuctions",{props:t,unprocessedData:r}),this.shouldTrackPrebidAuctions?Promise.all([this.permutive.track("PrebidAuctions",t,{unprocessedData:r}),this.unprocessedPrebidAuctions.reset()]).then((()=>this.logDebug("Tracked auctions",{unprocessedData:r}))):(this.logDebug("Skipping tracking unprocessed PrebidAuctions",{unprocessedData:r}),this.unprocessedPrebidAuctions.reset())})))),(e=>{const t=`Failed to track unprocessed PrebidAuctions. Got ${(0,n.w)(e)}`;return this.reportError(t),(0,n.w)(t)})),(e=>e()))}setupUnprocessedPrebidAuctions(){const e=new p.b(1e3,2500),t=this.putOrResetUnprocessed.bind(this);return e.schedule(t)}async storeAuctionsAsUnprocessed(e){let{debounced:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.logDebug("Store auctions as unprocessed",{auctionsToStore:e,debounced:t});const r=c.Y3((async()=>{const t=(0,l.qh)(e??{}).map((e=>{let[t,r]=e;return{...r,auction_id:t}})),r=await this.clientContext.getClientAsync();return(0,o.zG)(t,s.DT((e=>e.length>0)),s.UI((e=>({client:r,props:this.makePrebidAuctionProperties({auctions:e}),viewId:this.viewId.get(),sessionId:this.sessionManager.getSessionId()}))))}),n.w);return(0,o.zG)(r,c.EQ((e=>{this.reportError(`Failed to process auctions: ${e}`)}),(e=>{const r=this.debouncedPutOrResetUnprocessed(e);return t?r:Promise.all([this.putOrResetUnprocessed(e),r])})),(e=>e()))}mapBidProperties(e,t){return{ad_id:t.adId,ad_unit_code:t.adUnitCode,advertiser_domains:(0,d.Cg)(t),advertiser_id:(e=>{const t=e.rubicon&&"object"==typeof e.rubicon&&"advertiserId"in e.rubicon&&e.rubicon.advertiserId||e?.meta?.buyerId||e?.meta?.advertiserId;return t?`${t}`:void 0})(t),advertiser_name:(e=>{const t=e.meta?.clickUrl||e.adomain?.[0]||e.meta?.advertiserName;return t?`${t}`:void 0})(t),bid_available:"string"==typeof t.statusMessage&&t.statusMessage.indexOf("empty")<0,bidder:t.bidder,bidder_timeout:(0,l.rH)(e.bidderTimeout),brand_id:(e=>{const t=e.meta?.brandId;return t?`${t}`:void 0})(t),brand_name:(e=>e.meta?.brandName)(t),cpm:(0,d.Qd)(t),creative_id:`${t.creativeId}`,deal_id:(0,d.$7)(t),dsp_id:(0,d.cs)(t),hb_pb:t.adserverTargeting?.hb_pb,height:(0,l.rH)(t.height),request_timestamp:t.requestTimestamp,response_timestamp:t.responseTimestamp,time_to_respond:t.timeToRespond,width:(0,l.rH)(t.width)}}collectAdUnitCodes(e){const t=new Set;return e.reduce(((e,r)=>{let{adUnitCode:n}=r;return!n||t.has(n)||(t.add(n),e.push({ad_unit_code:n})),e}),[])}mapToStagedAuctions(e){return a.Y3((()=>{const{auctionId:t,bidsReceived:r,noBids:n}=e,i=this.collectAdUnitCodes(r),a=this.collectAdUnitCodes(n);return this.stagedAuctions[t]={bids:i,no_bids:a},this.logDebug("Added auction",this.stagedAuctions[t]),this.stagedAuctions[t]}),(e=>{const t=`Failed to map auction. Got ${(0,n.w)(e)}`;return this.reportError(t),(0,n.w)(t)}))}findAuction(e){return(0,o.zG)(this.getStagedAuction(e.auctionId),a.vx((()=>this.getTrackableAuction(e.auctionId))),a.vx((()=>this.mapToStagedAuctions({auctionId:e.auctionId,bidsReceived:[e],bidderRequests:[],noBids:[]}))))}setBidByOperation(e,t,r){const s=e=>e.hasOwnProperty("ad_id"),c=(r,c)=>{const u=e=>e.ad_id===r.adId,l=e=>e.ad_unit_code===r.adUnitCode,[p,d]=(0,o.zG)(c,(0,i.uK)((e=>s(e)&&u(e)&&l(e))),(e=>[e.left,e.right]));this.logDebug(`Bids for ${t}`,{nonMatching:p,matching:d});const f=(0,o.ls)(a.DT((e=>1===e.length),(()=>new Error("No matching bids"))),a.UI((e=>{let[r]=e;return this.logDebug(`Found bid for ${t}`,{found:r}),{found:r,others:p}}))),m=a.DT((e=>e.length<=1),(()=>new Error("Ad ID is not unique"))),g=(0,o.ls)(f,a.vx((()=>a.Y3((()=>{const n=this.mapBidProperties(e,r),i=p.filter((e=>!(!l(e)||!s(e))||!l(e)));return this.logDebug(`Creating bid for ${t}`,{created:n,others:i}),{found:n,others:i}}),(e=>(0,n.w)(`Failed to create bid. Got ${(0,n.w)(e)}`))))));return(0,o.zG)(d,m,a.tS(g))};return(0,o.ls)((e=>(0,o.zG)(this.findAuction(e),a.tS((i=>(0,o.zG)(c(e,i.bids),a.tS((e=>{let{found:t,others:i}=e;return a.Y3((()=>({updated:r(t),others:i})),n.w)})),a.UI((e=>{let{updated:r,others:n}=e;const a=[r,...n];i.bids=a,this.logDebug(`Bid operation ${t} successful`,r,a)}))))))),a.Vn((e=>{const r=`Failed bid operation ${t}. Got ${(0,n.w)(e)}`;return this.reportError(r),(0,n.w)(r)})))}setBidToWon(e,t){return this.setBidByOperation(e,"setWon",(e=>({...e,winning_bid:!0})))(t)}setBidToRendered(e,t){return this.setBidByOperation(e,"setRendered",(e=>({...e,winning_bid:!0,is_rendered:!0,rendered_timestamp:(new Date).getTime()})))(t)}promoteAuctionToTrackable(e){let{auctionId:t}=e;const r=this.stagedAuctions[t];if(r){if(this.trackableAuctions[t])return this.logError("Auction is already promoted to trackable",{auction:this.trackableAuctions[t]});this.trackableAuctions[t]=r,delete this.stagedAuctions[t],this.logDebug("Auction promoted to trackable",{auctionId:t,trackableAuctions:this.trackableAuctions})}}trackEligibleAuctions(){if(this.trackAuctionsInterval)return;this.trackAuctionsInterval=(0,l.PQ)((async()=>{if(!this.trackAuctionsInterval)return;this.trackAuctionsInterval=null;const e=this.trackableAuctions;this.trackableAuctions={},await this.trackPrebidAuctions(e),await this.storeAuctionsAsUnprocessed(this.stagedAuctions,{debounced:!1})}),{timeout:5e3})}async trackPrebidAuctions(e,t){const r=(0,l.qh)(e).map((e=>{let[t,r]=e;return{...r,auction_id:t}}));r.length?(await this.permutive.track("PrebidAuctions",this.makePrebidAuctionProperties({auctions:r}),t),this.logDebug("Tracked auctions",{auctions:r})):this.logDebug("No auctions to track")}makePrebidAuctionProperties(e){return{aggregations:e,isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"}}getStagedAuction(e){return(0,o.zG)(this.stagedAuctions[e],a.DT(Boolean,(()=>new Error("Staged auction not found"))),a.Vn((t=>(this.logError(t,{auctionId:e}),t))))}getTrackableAuction(e){return(0,o.zG)(this.trackableAuctions[e],a.DT(Boolean,(()=>new Error("Trackable auction not found"))),a.Vn((t=>(this.logError(t,{auctionId:e}),t))))}reportError(e){return this.api.reportError(`${this.prefix} ${e}`)}logInfo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(this.prefix,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}},1959:(e,t,r)=>{r.r(t),r.d(t,{SspAddon:()=>I,filterCohortsUsedInTargeting:()=>b,load:()=>w,realService:()=>v,sspService:()=>h,stubService:()=>_});var n=r(7721),i=r(2478),a=r(2169),o=r(7812),s=r(7479),c=r(6049),u=r(8236),l=r(132),p=r(7379),d=r(7784),f=r(2945),m=r(229),g=r(4659);const h=v;function _(e,t,r,i,a){return s.of({cohorts:u.YP,externalData:{[E]:n.a9(u.YP)}})}function v(e,t,r,h,_){const v=(0,i.Hn)(y),w=v("ssps",o.cS),I=v("all_cohort_mapping",{}),S=w.includes("google_pps"),k=v("affinity_enabled",!1);return(0,a.zG)(_.consent,s.KD([[e=>!e,s.of(p.of(u.YP))],s.K4((i=>{let{stopped:s}=i;h.debug("[ssp] Addon started, affinity enabled: ",k);const c=(0,a.zG)(_.cohorts,p.UI((0,a.ls)(o.hX((e=>e in I)),o.tS((e=>I[e]))))),d=(0,a.zG)(n.vP(_.url,s),n.UI((e=>{let[t,r]=e;return(0,a.zG)(t,u.hX((()=>k&&!r)))})),n.UI(u.UI((r=>l.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",u.YP,[["url",r]]),withCredentials:!1,dataType:"json"})),String)))),n.UI(u.UI(l.Vn((0,g.bw)((e=>r(`Failed to fetch affinity cohorts: ${e}`)))))),n.UI(u.UI(l.UI((e=>e.affinity_values)))),n.UI(u.fS((()=>l.of(o.bM())))),n.VS(p.oF(o.bM())));return(0,a.zG)((0,f.gz)(p.G5)(c,d),p.UI(o.xH),p.UI((e=>[...new Set(e)])),p.UI(u.G))}))]),s.UI(n.xH),s.UI((e=>({cohorts:(0,a.zG)(e,p.UI(u.fS((()=>o.bM()))),c.zh((e=>e),(e=>"dfp"===e.id&&S?u.G(b):u.YP)),u.G),externalData:{[E]:(0,a.zG)(d.Vh(e),n.UI(u.Uo),n.UI(u.xH),n.UI(u.UI(b)),n.D8(u.Eh(o.Eh(m.Eq))),n.UI(u.UI((e=>({ssps:w,cohorts:e})))))}}))))}const b=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],y="ssp",w=e=>{(0,i.Hn)(y)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[y,{}]})};class I{constructor(e){}}const E="_pssps"},6143:(e,t,r)=>{r.d(t,{GL:()=>s,HJ:()=>c,N1:()=>p,NC:()=>n,RP:()=>i,SF:()=>d,UM:()=>u,ho:()=>m,iE:()=>f,t_:()=>l});const n=performance.now(),i=(new Date).getTime();let a=[],o=!1;const s=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c((()=>e(...r)))},c=(e,t)=>{if(!o){const r=self.setTimeout(e,t);return()=>self.clearTimeout(r)}let r;const n=()=>{void 0!==r&&o&&a.length<1e4&&a.push([r,performance.now()]),r=void 0},i=[self.setTimeout((()=>{r=performance.now(),self.requestAnimationFrame(n),e()}),t),self.setTimeout(n,t)];return()=>{void 0===r&&i.forEach((e=>self.clearTimeout(e)))}},u=(e,t)=>{if(!o){const r=self.setInterval(e,t);return()=>self.clearInterval(r)}let r=!1,n=()=>{};const i=self.setInterval((()=>{n=c((()=>{r||e()}))}),t);return()=>{r=!0,n(),self.clearInterval(i)}},l=e=>new Promise(((t,r)=>e.then(s(t),s(r)))),p=e=>()=>l(e()),d=e=>{const t=p(e);return()=>new Promise((e=>c((()=>e(t())))))},f=()=>{const e=a;return a=[],e},m=e=>{o=e}},2327:(e,t,r)=>{r.d(t,{G5:()=>p,OZ:()=>u,S3:()=>c,dO:()=>l,of:()=>o});var n=r(7226),i=(r(6143),r(3643));const a="Eventual",o=e=>[e,n.of(e)],s=e=>i.Pd((t=>n.ap(e[1])(t)),(t=>t(e[0]))),c=i.li,u=i.Yg,l={URI:a,map:(e,t)=>(e=>i.Pd(n.UI(e),e))(t)(e)},p={URI:a,map:l.map,ap:(e,t)=>s(t)(e)};l.map},7379:(e,t,r)=>{r.d(t,{G5:()=>_,oF:()=>g,UI:()=>f,of:()=>d});var n=r(2945),i=r(6289),a=r(7721),o=r(7125),s=r(7144),c=r(2327);const u=e=>c.of(s.F2(e));c.dO,c.G5;var l=r(7784);const p="RefEventualEither",d=e=>a.a9(u(e)),f=i.UI(l.dO,s.dO),m=n.ap(l.G5,s.G5),g=e=>l.fF(s.F2(e)),h={URI:p,map:(e,t)=>f(t)(e)},_={URI:p,map:h.map,ap:(e,t)=>m(t)(e)}},7784:(e,t,r)=>{r.d(t,{G5:()=>g,UI:()=>p,Vh:()=>f,dO:()=>m,fF:()=>u,of:()=>l});var n=r(7721),i=r(2327),a=r(2169),o=r(7226),s=r(8236);const c="RefEventual",u=(i.of,e=>t=>{const r=t();return(0,a.zG)(n.fF((()=>r)),n.UI(s.fS((()=>e))),n.UI((e=>(0,a.bc)(e,(()=>r)))))}),l=e=>n.a9(i.of(e)),p=e=>t=>n.vP((0,a.zG)(t,n.UI(i.S3),n.UI(e)),(0,a.zG)(t,n.UI(i.OZ),n.UI(o.UI(e)))),d=e=>t=>n.vP((0,a.zG)(n.vP((0,a.zG)(e,n.UI(i.S3)),(0,a.zG)(t,n.UI(i.S3))),n.UI((e=>{let[t,r]=e;return r(t)}))),(0,a.zG)(n.vP((0,a.zG)(e,n.UI(i.OZ)),(0,a.zG)(t,n.UI(i.OZ))),n.UI((e=>{let[t,r]=e;return o.ap(t)(r)})))),f=n.UI(i.S3),m=(i.OZ,{URI:c,map:(e,t)=>p(t)(e)}),g={URI:c,map:m.map,ap:(e,t)=>d(t)(e)};m.map},7721:(e,t,r)=>{r.d(t,{ap:()=>y,a9:()=>_,Ue:()=>m,gS:()=>g,D8:()=>U,VS:()=>w,xH:()=>I,En:()=>h,p4:()=>D,fF:()=>x,UI:()=>b,u4:()=>E,Rp:()=>S,vP:()=>k,bw:()=>A,yY:()=>G,YP:()=>v});var n=r(5654),i=r(7144),a=r(2169),o=r(8236),s=r(7812),c=r(4659);function u(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};r=[...r,a];return()=>{r=r.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function l(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function p(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=d(n(),(e=>"might_change"!==e&&t())),o=()=>a(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),o();break;case"might_change":a("might_change");break;case"nominal":o();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function d(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:i}=u(e),a={state:e,onStateChange:i},o=l("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{t?.(e),a.state=e,n(e)}finally{"final"===e&&r()}}));return[a,o]}var f=r(4694);function m(e){const[t,r,n]=function(){const[e,t]=d("nominal"),r=l("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[i,a]=z(t,e);return[i,e=>r((()=>a(e))),n]}function g(e){let t=e.empty;const r=()=>()=>{const r=t;return t=e.empty,r},[n,i,a]=m(r());return[n,n=>{t=e.concat(t,n),i(r())},a]}function h(e,t){return r=>{let n=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,i)=>(0,a.zG)(r,b(f.UI((e=>{const r=t.concat(n[i],e);return n=n.map(((r,n)=>n===i?t.empty:t.concat(r,e))),r}))))))}}function _(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function v(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function b(e,t){if(t){const[r,n]=z(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>b(e,t)}const y=e=>w((t=>b(t)(e)));function w(e,t){return t?I(b(e,t)):t=>I(b(e,t))}function I(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[i,a]=d(n),o=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(o((()=>r)));const s=o((()=>e));let c=r.onStateChange(s);return[i,e=>{r=e,c(),c=e.onStateChange(s),s(r.state)}]}(e.branch,e.current.branch),[n,i]=z(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),r(e.branch),i(e.current)})),n}function E(e){return t=>{if("final"===t.branch.state)return t;let r=o.YP;return b((t=>{if(o.Wi(r))return r=o.G(t),t;const n=e(r.value,t);return r=o.G(n),n}),t)}}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{if(2===t.length){let r=t[0];return b((e=>(r=t[1](r,e),r)),e)}let r=o.bM();return b((e=>{const n=t[0](r,e);return r=o.G(n),n}),e)}}function k(){if(0===arguments.length||C(arguments.length<=0?void 0:arguments[0]))return P(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>P(...e)),b((0,a.ls)(s.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return _([]);if(1===t.length)return b((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,u(t.map((e=>e.current))))},o=p(i,a),[s,u]=z(o,t.map((e=>e.current)));return s}function x(e){const[t,r,n]=m(o.YP);return e().then((0,a.ls)(o.G,r,n)),t}const G=e=>()=>o.pC(e.current)?Promise.resolve(e.current.value):new Promise((t=>{const r=(0,a.zG)(e,v(o.UI((e=>{r(),t(e)}))))}));function D(e){const[t,r,s]=m(o.YP);return e.then(i.F2).catch((0,a.ls)(n.w,i.t$)).then((0,a.ls)(o.G,r,s)),t}function U(e){const t=e.hasOwnProperty("equals")?e.equals:e;return E(((e,r)=>t(e,r)?e:r))}function A(e){return t=>(v(e)(t),t)}function z(e,t){if("final"===e.state)return[_(t),()=>{}];const r=u(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},l("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function C(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},7479:(e,t,r)=>{r.d(t,{Hr:()=>g,K4:()=>c,KD:()=>h,UI:()=>p,ak:()=>m,bw:()=>d,dQ:()=>u,of:()=>l,vP:()=>f});var n=r(7721),i=r(2169),a=r(4659),o=r(6450),s=r(8236);const c=e=>(0,i.ls)((t=>{let{previousState:r,...n}=t;return e(n)}),(e=>({value:e,state:n.a9(void 0)}))),u=i.yR,l=(0,i.ls)(i.a9,c),p=e=>t=>(0,i.ls)(t,(0,a.rO)({value:e})),d=e=>t=>(0,i.ls)(t,(0,a.rO)({value:(0,a.bw)(e)}));function f(e){return t=>{let{previousState:r,...a}=t;const s=b(r)?r:{},c=(0,i.zG)(e,o.Su(((e,t)=>t({previousState:s[e],...a}))));return{value:(0,i.zG)(c,o.UI((e=>e.value))),state:(0,i.zG)(c,o.UI((e=>e.state)),(e=>n.vP(e)))}}}function m(e,t){return r=>(0,i.ls)((0,a.rO)({previousState:v}),(a=>{const o=r(a),s=t(o.value)({...a,previousState:a.previousState[e]});return{value:(0,i.zG)([o.value,s.value],(t=>{let[r,n]=t;if(!b(r))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...r,[e]:n}})),state:(0,i.zG)(n.vP(o.state,s.state),n.UI((t=>{let[r,n]=t;if(void 0===r)return{[e]:n};if(!b(r))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...r,[e]:n}})))}}))}const g=(e,t)=>p((r=>({...r,[e]:t(r)})));const h=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],o=[...t.map((e=>{let[t,r]=e;return[t,(0,i.a9)(r)]})),(0,i.a9)(r)];return s=(0,a.lo)(o),(0,i.ls)(n.UI(s),_);var s};function _(e){const t=(0,i.zG)(e,n.Rp(0,(e=>e+1)));return r=>{let{previousState:a,stopped:o,...c}=r;return(0,i.zG)(n.vP(e,t),n.Rp(((e,r)=>{let[u,l]=r;return(0,i.zG)(e,s.UI((e=>e.state.current)),s.fS((()=>a)),(e=>u({previousState:e,stopped:(0,i.zG)(n.vP(o,t),n.UI((e=>{let[t,r]=e;return t||r!==l}))),...c})))})),(e=>({value:n.UI((e=>e.value),e),state:n.VS((e=>e.state),e)})))}}function v(e){return b(e)?e:{}}function b(e){return"object"==typeof e&&null!==e}},3897:(e,t,r)=>{r(3296)},680:(e,t,r)=>{r.d(t,{lg:()=>g,Bt:()=>_});var n=r(9912),i=r(2169),a=r(8236),o=r(229),s=r(4659);var c=r(7144);class u{userId;network;api;logger;tcf;constructor(e,t,r,n,i){this.userId=e,this.network=t,this.api=r,this.logger=n,this.tcf=i}tag="appnexus";ttlInSeconds=86400;usedForThirdPartyData=!0;invalidAliases=["","0","-1"];logPrefix="identities[appnexus]:";async getId(){if((0,s.G6)(navigator.userAgent))return this.logger.debug(this.logPrefix,"skipped for Safari"),{type:"skipped"};const e=await this.tcf.getStatusOrAbortOnTimeout(2e3),t=(0,i.zG)(this.getGDPRParams(e),c.fS((()=>"")),(e=>`https://ib.adnxs.com/getuidj${e.length>0?`?${e}`:""}`));try{this.logger.debug(this.logPrefix,"start HTTP request");const e=await this.api.appnexus(t);return this.logger.debug(this.logPrefix,"end HTTP request"),{type:"attempted",result:(0,i.zG)(a.Y3((()=>e.uid)),a.tS(a.ij),a.hX((e=>this.isValidAlias(e))))}}catch(e){return this.logger.warn(this.logPrefix,"Failed to fetch id",e),{type:"attempted",result:a.YP}}}getGDPRParams(e){return c.Y3((()=>{if("missing"===e.type||"loaded"===e.type&&!e.data.gdprApplies)return"gdpr=0";return`gdpr=1&gdpr_consent=${"loaded"===e.type?e.data.tcString:""}`}),(e=>`Failed to retrieve GDPR query params. Got ${e}`))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class l{config;network;api;userId;logger;url;resetUrl;constructor(e,t,r,n,i){this.config=e,this.network=t,this.api=r,this.userId=n,this.logger=i,this.url=`https://0cf17917-395b-4f25-91cc-db3bdd6044b0.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}tag="pxid";ttlInSeconds=86400;usedForThirdPartyData=!1;getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,s.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,a.ij)(e.uid)})),(e=>({type:"attempted",result:a.YP})))}reset(){return(0,s.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}var p=r(7721),d=r(6450),f=r(5086);const m=f.ff((e=>void 0===e));class g{metrics;trace;permutiveData;identityProviderEnv;logger;ref;setReady;thirdParty;rawRef;identityMapRef;setIdentityMap;providers={};static emailSHA256Regex=/^[a-f0-9]{64}$/;constructor(e,t,r,n,c){this.metrics=e,this.trace=t,this.permutiveData=r,this.identityProviderEnv=n,this.logger=c;const u=this.getCachedIdentitiesAndMigrateIfRequired(),[l,f]=p.Ue(u);this.identityMapRef=l,this.setIdentityMap=f,l.onChange((0,i.ls)(d.z7((e=>!h.has(e))),(0,s.bw)((e=>{this.logger.debug("[identities] Persisting",e),this.permutiveData.setData("identities",e)})))),this.rawRef=(0,i.zG)(l,p.UI((0,i.ls)(d.UI((e=>e.value)),d.hX(m))),p.D8(d.Eh(o.Eq)));const[g,_]=p.Ue(!1);this.ref=(0,i.zG)(p.vP(g,this.rawRef),p.UI((e=>{let[t,r]=e;return(0,i.zG)(r,(0,a.DT)((()=>t)))}))),this.setReady=()=>{e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"identity_ready",time_origin:"sdk_init"}),_(!0)},this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),r=[{load:e=>{return t=e.config,r=e.network,n=e.api,i=e.userId,o=e.logger,(0,a.G)(new l(t,r,n,i,o));var t,r,n,i,o}},{load:e=>{return t=e.userId,r=e.network,n=e.api,i=e.logger,o=e.tcf,a.G(new u(t,r,n,i,o));var t,r,n,i,o}},{load:e=>(e.cookies,e.messages,a.YP)},{load:e=>(e.cookies,a.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,a.YP)}],o=(0,n.oA)(r.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,i.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(o).then((e=>e.map((e=>{let[t,r]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,r,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,s.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},r=Object.entries(e).map((e=>{let[t,{id:r,expiry:n,priority:i}]=e;return{tag:t,...r?{id:r}:{},...n?{expiry:n}:{},...void 0!==i?{priority:i}:{}}})),i=r.filter((e=>((e,t)=>!!e.id&&!(0,n.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),s=r.filter((e=>((e,t)=>!!e.id&&!!(0,n.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,n.DZ)((e=>(0,a.ij)(e.priority)))(i),u=c.length>0?Math.max(...c):0,l=i.map((e=>void 0!==e.priority?{...e,priority:e.priority}:{...e,priority:u+1})),p=s.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+v}:{tag:e.tag,id:e.id,priority:u+b}));return l.concat(p)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,r=e=>"string"==typeof e.id&&"string"==typeof e.tag,a=e=>"email_sha256"!==e.tag||g.emailSHA256Regex.test(e.id);return"string"==typeof e?(s=e).length>0?{left:[],right:[{id:s,tag:"default"}]}:{left:[t],right:[]}:Array.isArray(e)?(o=e,(0,i.zG)(o,n.tV((0,i.ls)(c.DT(r,(()=>t)),c.Y$(a,(()=>"Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")))))):{left:[t],right:[]};var o,s}extractIdentifyFromQueue(e){let{global:t}=e;const r=()=>t.q.findIndex((e=>"identify"===e.functionName)),n=(e,i)=>{if(e<0)return i;const a=t.q.splice(e,1)[0],o=this.parseCustomerDefinedIdentities(a.arguments[0]);return n(r(),{left:i.left.concat(o.left),right:i.right.concat(o.right)})},{left:i,right:a}=n(r(),{left:[],right:[]});return i.forEach((e=>this.logger.warn("Invalid identity provided during init",e))),a}setIdentities(e){const t=e.reduce(((e,t)=>{let{tag:r,id:n,expiry:i,priority:a}=t;return void 0===this.identities[r]&&this.logger.debug(`identities[${r}]: added`),e[r]={...n?{value:n}:{},...i?{expiry:i}:{},...void 0!==a?{priority:a}:{}},e}),{}),r=this.rawRef.current;this.setIdentityMap({...this.identities,...t});const n=this.rawRef.current;return{identifyRequestRequired:()=>!d.xb(n)&&!d.Eh(o.Eq).equals(r,n)}}async reset(){this.setIdentityMap({}),await Promise.all(Object.values(this.providers).map((e=>e.reset())))}getFilteredIdentities(e){return(0,s.m8)(...Object.entries(this.identities).filter((t=>{let[r,n]=t;return e(r,n)})).map((e=>{let[t,{value:r,expiry:n,priority:a}]=e;return(0,i.bc)(t,{id:r,...n?{expiry:n}:{},...void 0!==a?{priority:a}:{}})})))}shouldAskForNewIdentity(e){const t=(0,a.ij)(this.identities?.[e.tag]);return(0,a.g_)((()=>!0),this.isIdentityExpired)(t)}getCachedTPDIdentity(e){return this.identities[e]?(0,a.ij)(this.identities[e].value):a.YP}mapTPDIdentityIfPresent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const n=()=>Date.now()+Math.floor(1e3*r);return(0,a.g_)((()=>({tag:e,expiry:n()})),(t=>({tag:e,id:t,expiry:n()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,i.bc)(e,a.YP):(0,i.zG)(t.result,(t=>this.metrics.track({name:(0,a.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(r=>(0,i.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,s.m8)(...Object.entries(e).filter((e=>{let[t,r]=e;return!this.isIdentityExpired(r)&&!h.has(t)}))))(this.permutiveData.getData("identities")||{})}}const h=new Set(["public","email","email_md5","ip_address"]),_=(e,t,r,i,a)=>{const s=(e,t)=>{const r=["(null)"];return r.indexOf(e)>-1||!!w[e]||(0,n.jV)(o.Eq)(t,r).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":s,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,r)=>["thestudentroom.co.uk"].some((e=>r.indexOf(e)>-1))&&(0,n.jV)(o.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":s,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},l={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!y[e]},p=u[e]||l[t];return!!p&&p(a,r,i)},v=2,b=3,y={},w={}},100:(e,t,r)=>{r.d(t,{z:()=>n});class n{ingestIfEligible(e){return Promise.resolve()}}},1129:(e,t,r)=>{r.d(t,{u6:()=>a});var n=r(7479);r(7721),r(4659);const i={prebid:{onReady:()=>({})}},a=e=>n.of(i)},8890:(e,t,r)=>{r.d(t,{CL:()=>s,EW:()=>c,PH:()=>o,eV:()=>i,jH:()=>u,t2:()=>a});var n=r(2478);const i=(0,n.MU)("track_form_submission",!0),a=((0,n.MU)("track_pageview_complete",!0),(0,n.MU)("track_pageview_engagement",!0)),o=((0,n.$S)("sync_segments_cookie",!1),(0,n.$S)("track_slot_clicked",!0)),s=(0,n.$S)("track_slot_rendered",!0),c=(0,n.$S)("track_slot_viewable",!1),u=(0,n.$S)("track_targeting_keys",!1)},4335:(e,t,r)=>{r.d(t,{v:()=>o});class n{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,r,n,i,a,o){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=i,this.config=a,this.workspaceLevelConfig=o}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var i=r(2478);const a={dfp:{dfp:[118667,84737,128352,141104,121935,85653,128345,89866,115305,141137,87523,98423,90680,92389,121962,89152,95572,83722,87605,118636,118640,148305,121927,115304,156606,118692,121964,89855,156477,121928,118699,87806,83657,118682,121937,141128,90742,156605,87592,87500,121932,156604,156611,90030,90584,141095,141107,166684,84739,90422,121968,90419,118678,90423,141138,118641,87505,85010,167167,115032,90029,141108,87313,127872,89859,121973,156471,87497,156609,147354,121958,85015,141093,135504,87522,87502,85012,87618,141130,118687,118695,87504,87487,87601,175337,88974,87510,121942,156602,127873,124301,90420,128348,84746,87317,84738,141127,98843,118658,118653,90754,87511,118637,90678,121967,87614,93351,118663,83658,121934,84753,141116,84745,118672,89858,90741,90424,121933,102174,90752,133921,87501,92387,89857,128349,90683,87604,92383,87493,87422,121930,121936,141094,99355,84735,98954,90760,125057,89861,118655,141993,85007,87611,89862,84750,141119,84732,84736,121969,118676,141136,141092,156608,84751,87521,103324,118698,121940,118683,118701,140205,130673,87508,118700,118696,89863,121965,141131,123885,87615,118664,88975,128347,95574,141106,87515,84748,118697,87314,89867,87518,141133,84733,141113,84677,87517,118681,87524,141118,84744,87503,118661,124302,87495,87492,118670,124303,84742,118656,149425,121970,121974,118659,156473,99356,83659,118680,146387,114090,89864,141117,92380,90681,141135,87312,84749,103327,95575,92385,114092,121963,141096,90759,121956,121944,87488,87595,87512,141126,118671,114961,121929,118665,88152,121957,141102,89865,156607,90756,121966,118703,156469,141123,92388,118660,130672,175336,90679,118674,87617,141114,141098,118686,84754,121961,163182,141103,118689,141111,141109,141091,141100,118690,88973,87603,156476,118644,118684,99352,87588,98842,114959,121926,115033,118638,92386,84740,118694,87591,156610,118654,121971,118646,118657,90755,118662,95573,85302,118650,156468,156603,141122,141124,121451,121959,118704,87491,87490,114091,85016,141134,90421,141125,84413,118639,118693,118679,87613,87606,118645,121939,118651,118669,85011,83650,103313,99357,89856,90682,84743,87608,118668,118648,141099,85014,141120,87619,90753,84734,83654,156474,163181,90745,87509,90740,87513,90427,141090,118649,85017,87514,90583,118642,141112,141105,87519,130647,84747,141115,87506,121931,89860,156470,99360,141121,85403,156472,141994,118635,87612,84741,87602,165534,121941,114960,121972,90758,141139,118675,87594,90749,141132,127875,87507,121975,118691,118643,87616,87421,92384,118647,85008,88153,141101,118702,87520,156475,84752,118677,99359,99358,118673,92377,141110,121960,118666,118685,90757,127658,118688,141097,115031,115303,85593,100800,121943,141089,141129,85009,87494,121938,167934,177711,177712,177715,177810,177812,181379,181377,181375,183399,102196,184227,187915,187916,187917,180105,180104,189930,192429,193022,193023,193025,193026,193027,193028,195993,197982,197983,197997,197998,197999,198001,198003,198004,198005,198591,198002,201567,201566,201565,201564,201563,201562,201561,201560,201559,202776,202911,201568,208476,208480,208537,208539,208559,208771,210691,228875,237974,230348,238174,238172,242265,242266,242267,244915,246178,248492,248493,248494,248495,248497,248499,248500,248501,124320,123783,72374,109017,187099,187100,185616,187101,187102,187103,187109,185622,185635,187137,185636,187146,185630,188044,187096,187097,187108,187111,187112,206405,237324],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{207970:40308915,246737:41268956,248104:41359328},appnexus_adserver:[83650,124320,123783],nativo:[],rubicon_ssp:[83650,83654],smart:[],freewheel:[],adswizz_keyvalue:[],curation_platforms:{72374:["ctnl","ctno","ctnl"],87512:["dnlt"],87588:["dfjx","dnlt","dfjr","dfjr"],87592:["dnlt"],87594:["dnlt"],87596:["dnlt"],109500:["dnnh"],121924:["dnlt"],121935:["dnlt"],121938:["dnlt"],121951:["dnlt"],121957:["dnlt"],121959:["dnlt"],121962:["dnlt"],121969:["dnlt"],121973:["dnlt"],145919:["dnnh"],206405:["dnlt"],230348:["dnlt"],adv:["adv"]}};class o{logger;permutive;clientContext;constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r}getSpecializedActivations(e){return a[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},2478:(e,t,r)=>{r.d(t,{$S:()=>o,Hn:()=>i,MU:()=>a});const n={standard_cohorts:{auto_init:!0,standard_audiences:{affinity_enabled:!0},activationConfigs:[]},ssp:{auto_init:!0,ssps:["pubmatic","appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!0,activationConfigs:[]},contextual_data:{auto_init:!0,activationConfigs:[]},curation_platforms:{auto_init:!0,prebid_ssp_codes:["pubmatic","appnexus","ix","openx"],activationConfigs:[]},prebid_analytics:{auto_init:!0,event_sampling_config:{prebid_auctions:{probability_threshold:.9}},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!0,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"11492",activationConfigs:[]},brightcove:{auto_init:!1,activationConfigs:[]},clean_room:{auto_init:!0,default_config:{},cohort_ssp_config:[],activationConfigs:[]},local_storage:{auto_init:!0,activationConfigs:[{id:"c490d78c-f46a-4f34-be6e-8a50202fa507",short_id:"84751",tt:"EveryTime",sc:84751,c:{storage_key:"_pnewscorp"},wc:{}},{id:"de35a6b1-cb36-444c-9f94-2874c6459720",short_id:"84750",tt:"EveryTime",sc:84750,c:{storage_key:"_pnewscorp"},wc:{}}]},ctv:{auto_init:!1,ctv_engagement_enabled:!0,ctv_engagement_event_seconds:5,activationConfigs:[]},pubmatic__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"pubmatic",type:"curation_platform",activationConfigs:[]},xandr__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"appnexus",type:"curation_platform",activationConfigs:[]},appnexus:{auto_init:!0,member_id:7228,activationConfigs:[]},appnexus_adserver:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},privacy_sandbox_topics:{auto_init:!0,prebid:!1,topics_iframe_url:"https://cdn.permutive.app/topics.html",activationConfigs:[]}},i=e=>{const t=n[e];return(e,r)=>t?.[e]??r},a=i("web"),o=i("dfp");i("facebook_pixel_v2")},9630:(e,t,r)=>{r.d(t,{J:()=>c});var n=r(2169),i=r(8236),a=r(2939);const o=e=>t=>class extends t{key=(()=>e)();put(e){return this.db.then((t=>t.put(e,this.key))).then(n.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},s=e=>(0,n.zG)(class{db;constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consent))}},o(e));class c extends(s("permutive-unprocessed-pba")){constructor(e){super(e)}}},2081:(e,t,r)=>{r.d(t,{LP:()=>a,dG:()=>n,eP:()=>i});const n=4096,i=`Cookie exceeds maximum supported size of ${n} bytes for most browsers.`,a="Cookie is missing required parameters."},4838:(e,t,r)=>{r.d(t,{Eq:()=>p,X:()=>d,b:()=>l});var n=r(7721),i=r(7479),a=r(3689),o=r(229),s=r(3052),c=r(2169),u=r(8236);const l=()=>({country:void 0,continent:void 0,environment:"",events_count:0,os:"",sample_rate:0,sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0,user_agent:""}),p=a.n_({country:{equals:(e,t)=>e===t},continent:{equals:(e,t)=>e===t},environment:o.Eq,events_count:s.Eq,os:o.Eq,sample_rate:s.Eq,sdk_version:o.Eq,segments_count:s.Eq,session_count:s.Eq,session_init_count:s.Eq,session_view_count:s.Eq,user_agent:o.Eq}),d=e=>{const t=m(e.userId),r=(0,c.zG)(n.vP(e.userId,e.sessionId),n.UI((e=>{let[t,r]=e;return`${t},${r}`})),m),a=String(Math.random()),o=(0,c.zG)(e.sdkVariant,u.UI((e=>`-${e}`)),u.fS((()=>""))),s={environment:"web",events_count:0,os:f(window.navigator.userAgent||""),sample_rate:e.sampleRate,sdk_version:"v20.55.0"+o,segments_count:0,user_agent:window.navigator.userAgent||""};return(0,c.zG)(i.vP({session_count:t(e.sessionId),session_init_count:r(n.a9(a)),session_view_count:r(e.viewId)}),i.UI((0,c.ls)((t=>n.vP({...t,continent:(0,c.zG)(e.geoInfo,n.UI(u.tS((e=>u.ij(e.continent)))),n.UI(u.FS)),country:(0,c.zG)(e.geoInfo,n.UI(u.tS((e=>u.ij(e.country)))),n.UI(u.FS))})),n.UI((e=>({...s,...e}))))))},f=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},m=e=>t=>i.dQ((r=>{let{previousState:i}=r;const u=(0,c.zG)(n.vP(e,t),n.Rp(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(i),((e,t)=>{let[r,n]=t;return{scope:r,lastValue:n,count:r!==e.scope?1:n!==e.lastValue?e.count+1:e.count}})),n.D8(a.n_({scope:o.Eq,lastValue:o.Eq,count:s.Eq})));return{state:u,value:(0,c.zG)(u,n.UI((e=>e.count)))}}))},6915:(e,t,r)=>{r.d(t,{p:()=>d});var n=r(5654),i=r(2169),a=r(4659),o=r(4838),s=r(7721),c=r(7812),u=r(132),l=r(7226),p=r(6143);const d=e=>{let t=e.context.current;(0,i.zG)(e.context,s.D8(o.Eq),s.Rp((0,i.bc)(o.b(),o.b()),((e,t)=>{let[,r]=e;return(0,i.bc)(r,t)})),(e=>e.onChange((e=>{let[r,n]=e;o.Eq.equals({...r,continent:void 0,country:void 0},{...n,continent:void 0,country:void 0})||f({beacon:!1}),t=n}))));const r="[Metrics Reporter]";let d=!0;const f=async a=>{let{beacon:o}=a;const s=t,p=(0,i.zG)(u.of(e.metrics.consume()),u.Y$((()=>d),(()=>{})),u.tS(c.EQ((()=>u.of(void 0)),(t=>u.Y3((()=>(async(t,r)=>{if(!t)return e.api.metrics(r);if(!e.api.metricsBeacon(r))throw new Error("Failed to send beacon.")})(o,{context:s,items:t})),(i=>{d=!1,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.logger.error(r,...n)}(`Failed to publish metrics ${(0,n.w)(i).message}`,t)}))))),l.UI(i.Q1));return p()},m=()=>{(0,p.HJ)((()=>f({beacon:!1}).finally((()=>m()))),5e3)};m(),(0,a.Bf)((()=>f({beacon:!0})),{capture:!1})}},5416:(e,t,r)=>{r.d(t,{u:()=>n});class n{trace;metrics;messages;_isRealtime=!1;_isReady=!1;constructor(e,t,r){this.trace=e,this.metrics=t,this.messages=r}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){const t=performance.now();this._isRealtime=!0,this.trace.measureSinceInit("sdk_realtime").finish(),this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{},t),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_realtime",time_origin:"sdk_init"},t),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){const e=performance.now();this._isReady=!0,this.trace.measureSinceInit("sdk_ready").finish(),this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{},e),this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"sdk_ready",time_origin:"sdk_init"},e),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},5332:(e,t,r)=>{r.d(t,{a:()=>a});var n=r(2169),i=r(951);class a{config;localStorage;logger;permutiveData;cookies;externalData;constructor(e,t,r,n,i,a){this.config=e,this.localStorage=t,this.logger=r,this.permutiveData=n,this.cookies=i,this.externalData=a}async reset(){return this.logger.log("Resetting State"),(0,n.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,i.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-prebid-id":!0,"permutive-events-cache":!0,_pssps:!0,_ppsts:!0,_pamzn_cohorts:!0,_pamzn_ids:!0,_padswizz:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataMiscKey),this.localStorage.delete(this.config.permutiveDataQueriesKey)])),n.Q1)}}},6110:(e,t,r)=>{r.d(t,{u:()=>n});class n{permutiveData;permutiveReset;userId;viewId;logger;constructor(e,t,r,n,i){this.permutiveData=e,this.permutiveReset=t,this.userId=r,this.viewId=n,this.logger=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.logger.warn("getStateSizeInBytes needs to be updated to reflect new event persistence"),this.permutiveData.getDataSize()}reset(){return this.permutiveReset.reset()}}},5147:(e,t,r)=>{r.d(t,{W:()=>n});class n{ref;constructor(e){this.ref=e}get(){return this.ref.current}}},2939:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(301);const i=(e,t,r)=>{const i=window.localStorage;return(0,n.rK)(i,"[Local Storage]",e,t,r)}},3564:(e,t,r)=>{r.d(t,{u:()=>i});r(9003);var n=r(301);const i=(e,t,r)=>{const i=window.sessionStorage;return(0,n.rK)(i,"[Session Storage]",e,t,r)}},301:(e,t,r)=>{r.d(t,{oP:()=>c,rK:()=>p});var n=r(5654),i=r(842),a=r(7144),o=r(2169),s=r(4459);class c{storage;namespace;constructor(e,t){this.storage=e,this.namespace=t}async put(e,t){const r=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(r,JSON.stringify(e)),t}async get(e){const t=this.namespace.getNamespacedStorageKey(e.toString()),r=this.storage.getItem(t);return null===r?null:(0,i.A)(r)}async delete(e){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}async deleteStore(){}}const u=e=>{const{logger:t,consent:r,prefix:n}=e,i=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{put=(()=>(0,s.v)(super.put.bind(this),i,(()=>!r.current)))()}},l=e=>{const{logger:t,prefix:r,storage:i}=e;return e=>class extends e{isSupported=null;isStorageSupported(){return null!==this.isSupported||(this.isSupported=a.Y3((()=>{const e="_permutive_ls_test";return i.setItem(e,e),i.getItem(e),i.removeItem(e),!0}),n.w),(0,o.zG)(this.isSupported,a.EQ((e=>{t.warn(`${r} Is NOT supported`,e)}),(()=>{t.debug(`${r} Is supported`)})))),this.isSupported}async put(e,t){return(0,o.zG)(this.isStorageSupported(),a.EQ((e=>{throw e}),(()=>super.put(e,t))))}async get(e){return(0,o.zG)(this.isStorageSupported(),a.EQ((()=>null),(()=>super.get(e))))}async delete(e){return(0,o.zG)(this.isStorageSupported(),a.EQ(o.Q1,(()=>super.delete(e))))}async deleteStore(){return(0,o.zG)(this.isStorageSupported(),a.EQ(o.Q1,(()=>super.deleteStore())))}}},p=(e,t,r,n,i)=>new((0,o.zG)(c,l({logger:n,prefix:t,storage:e}),u({logger:n,consent:i,prefix:t})))(e,r)},3296:(e,t,r)=>{r.d(t,{SD:()=>d});var n=r(8236),i=r(7144),a=r(7812),o=r(6450),s=r(2169),c=r(7721),u=r(4659);const l={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468},p="[TCF]",d=(e,t)=>{const[r,d,m]=(0,s.zG)(c.Ue(n.YP),(e=>{let[r,...i]=e;return[(0,s.zG)(r,c.bw(n.UI((e=>{t.debug(p,`Status "${e.type}"`,e)})))),...i]})),g=e.__tcfapi;if(g){const e=new Set(["tcloaded","useractioncomplete"]);g("addEventListener",2,((r,i)=>{i?"loaded"===r.cmpStatus&&e.has(r.eventStatus)&&(t.debug(p,"TCF API loaded",r),d(n.G({type:"loaded",data:r}))):(t.warn(p,"TCF API failed to register event listener"),d(n.G({type:"aborted"})),m())}))}else t.debug(p,"TCF API missing from the page"),d(n.G({type:"missing"})),m();const[h,_]=(0,s.zG)(c.gS(a.uZ()),(e=>{let[t,r]=e;return[t,(0,s.ls)(a.of,r)]}));return(0,s.zG)(c.vP(r,h),c.bw((e=>{let[r,a]=e;return(0,s.zG)(r,n.UI((e=>{const r=a();switch(t.debug(p,`Processing ${r.length} listeners`,r),e.type){case"missing":r.forEach((r=>{let[n,i]=r;t.debug(p,`Invoking ${n} as TCF API missing`),i(e)}));break;case"aborted":r.forEach((e=>{let[r]=e;t.debug(p,`Invoking ${r} skipped as TCF API aborted`)}));break;case"loaded":r.forEach((r=>{let[a,c]=r;(0,s.zG)(f(e.data),n.EQ((()=>{t.debug(p,`Invoking ${a} as GDPR does not apply`),c(e)}),(r=>(0,s.zG)((0,s.zG)(a,i.EQ((e=>n.G(e)),(e=>(0,s.zG)(l,o.P5(e))))),n.tS((e=>(0,s.zG)(r,o.P5(e.toString())))),n.UI((r=>{r?(t.debug(p,`${a} has consent`,{vendor:a}),c(e)):t.debug(p,`${a} does not have consent`,{vendor:a})}))))))}))}})))}))),{registerVendorOnValidConsent:(e,t)=>_([(0,s.zG)(e,i.DT((e=>"string"==typeof e),(()=>e))),t]),getStatusOrAbortOnTimeout:e=>new Promise((t=>{const i=setTimeout((()=>t({type:"aborted"})),e);(0,s.zG)(r,c.UI(n.UI((e=>{clearTimeout(i),t(e)}))))})).then((0,u.bw)((e=>t.debug(p,"TCF status resolved as",{status:e})))),tcfApiStatusRef:r}},f=e=>e.gdprApplies?n.G(e.vendor.consents):n.YP},7665:(e,t,r)=>{r.d(t,{C:()=>c});var n=r(9912),i=r(2169);var a=r(3726);r(1129);const o=(s=[[{name:"dfp",import:Promise.resolve().then(r.bind(r,4914))}],[{name:"appnexus_adserver",import:Promise.resolve().then(r.bind(r,3580))}],[],[],[{name:"appnexus",import:Promise.resolve().then(r.bind(r,7055))}],[{name:"brightcove",import:Promise.resolve().then(r.bind(r,2609))}],[{name:"clean_room",import:Promise.resolve().then(r.bind(r,9412))}],[{name:"prebid_analytics",import:Promise.resolve().then(r.bind(r,8356))}],[],[],[],[],[],[],[],[{name:"local_storage",import:Promise.resolve().then(r.bind(r,6036))}],[],[],[],[],[],[],[],[],[{name:"rubicon_ssp",import:Promise.resolve().then(r.bind(r,1756))}],[],[],[],[],[{name:"web",import:Promise.resolve().then(r.bind(r,4446))}],[],[{name:"ctv",import:Promise.resolve(a)}],[{name:"ssp",import:Promise.resolve().then(r.bind(r,1959))}],[],[],[]],(0,i.zG)((0,n.xH)(s),(0,n.u4)({},((e,t)=>({...e,[t.name]:t.import})))));var s;const c=e=>{const t=Object.entries(o).map((async t=>{let[r,n]=t;return e.logger.log(`Loading addon ${r}`),(await n).load(e)}));return Promise.all(t)}},3580:(e,t,r)=>{r.r(t),r.d(t,{APPNEXUS_SEGMENTS_STORAGE_KEY:()=>d,AppNexusAdServerAddon:()=>_,appnexusAdServer:()=>v,appnexusContextualAdServer:()=>k,load:()=>h});var n=r(2478),i=r(4659),a=r(2169),o=r(7144),s=r(7812),c=r(7721),u=r(6143);const l="[appnexus]",p=(0,n.Hn)("appnexus_adserver")("auto_init",!1),d="_papns",f=()=>{try{return window.apntag.getTag()}catch{return{}}},m=e=>{try{return window.apntag.getTag(e)}catch{return}};let g=o.t$("Not initialised");const h=e=>{if(p&&e.q.push({functionName:"addon",arguments:["appnexus_adserver",{}]}),void 0!==window.apntag&&window.apntag.anq&&window.apntag.anq.push){e.permutive.ready((0,i.Z_)(e.api,e.userId,(()=>{let t=!1;const r=f();Object.keys(r).forEach((e=>{r[e].displayed&&(t=!0)}));const n=t?"sdk_targeting_realtime_fail_count":"sdk_targeting_realtime_success_count";e.metrics.track({name:n,value:1,labels:{target:"appnexus"}})})),"realtime"),g=(0,a.zG)(S(),(0,i.bw)(o.pF((t=>e.logger.error(l,t)))));const t=y({listenerRepository:g,logger:e.logger,permutive:e.permutive});w(t),(0,a.zG)(g,o.UI((e=>I(t,e.signal))))}};class _{options;logger;userId;api;activationManager;externalData;segments={cloudCohorts:[],live:[]};eligibleSegments={};constructor(e){this.options=e,this.logger=e.logger,this.userId=e.userId,this.api=e.api,this.activationManager=e.activationManager,this.externalData=e.externalData;const t=(0,a.zG)(e.nextGenOutput.activations.xandr_ssp??c.a9(s.cS),c.UI((e=>e||[]))),r=(0,a.zG)(e.nextGenOutput.activations.xandr_ssp_contextual??c.a9(void 0));this.segments=this.initSegments(e.externalData,t.current,r.current),this.logger.debug(l,"initialised with segments",this.segments),this.eligibleSegments={};const n=this.activationManager.getSpecializedActivations("appnexus_adserver");for(let e=0;e<n.length;e++){const t=n[e];this.eligibleSegments[t]=1}const o=this.options.nextGenOutput.queryLanguageCohorts.all;if(this.updateSegments(this.filterSegments(o.current)),window.apntag&&window.apntag.anq&&window.apntag.anq.push){const e=this;window.apntag.anq.push((function(){const t=window.apntag.defineTag;window.apntag.defineTag=function(r){const n=t(r);return(0,i.Z_)(e.api,e.userId,(function(){if(r.targetId){const t=o.current;e.updateSegments(e.filterSegments(t),r.targetId)}}))(),n}}))}o.onChange((0,i.Z_)(this.api,this.userId,(e=>this.updateIfNecessary(e)))),t.onChange((e=>{this.logger.debug(l,"received updated cloud cohorts",e),this.segments.cloudCohorts=[...e],this.updateSegments(this.segments.live)})),p&&e.viewId.ref.onChange((()=>{this.reset()}))}reset(){this.logger.debug(l,"resetting"),g=(0,a.zG)(g,(0,i.bw)(o.pF((e=>this.logger.error(l,`Skip listeners due to ${e}`)))),o.tS((e=>(0,a.zG)(e.recreate(),(0,i.bw)(o.pF((e=>this.logger.error(l,e))))))));const e=y({listenerRepository:g,logger:this.options.logger,permutive:this.options.permutive});(0,a.zG)(g,o.UI((t=>I(e,t.signal)))),this.updateSegments(this.segments.live),this.logger.debug(l,"reset")}get liveSegments(){return this.segments.live}initSegments(e,t,r){const n={cloudCohorts:[...t],live:this.externalData.getExternalJsonData(d)??[]};return r&&(n.contextualCohorts=r),n}cacheAppnexusSegments(e){const t=JSON.stringify(e);this.externalData.setExternalData(d,t)}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.segments.live)||this.updateSegments(t)}updateSegments(e,t){window.apntag&&window.apntag.anq&&window.apntag.anq.push&&window.apntag.anq.push((()=>{const r={permutive:[...e,...this.segments.cloudCohorts,"rts"]};this.segments.contextualCohorts&&(r.prmtvctx=[...this.segments.contextualCohorts,"rts"]),t?window.apntag.setKeywords(t,r,{overrideKeyValue:!0}):Object.keys(f()).forEach((e=>window.apntag.setKeywords(e,r,{overrideKeyValue:!0})))})),this.cacheAppnexusSegments(e),this.segments.live=e,this.logger.debug(l,"live segments updated to",this.segments.live)}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}const v=e=>{const t=(0,a.zG)(Object.values(e)??[],s.UI(String),(e=>new Set(e)));return{id:"xandr_ssp",filterCohorts:s.hX((e=>t.has(e)))}},b=e=>(t,r,n)=>{const i=new AbortController;let a=!1;const o=e=>()=>{a||e()},s=(r,o)=>{m(t)?a||(a=!0,(0,u.HJ)((()=>{a=!1}),1e3),e.logger.debug(l,`click on "${r}" because "${o}"`),e.permutive.track("AppNexusAdClick",n)):i.abort("click on non-registered tag")};i.signal.addEventListener("abort",(()=>{e.logger.debug(l,`aborting click listeners for target "${t}". reason: ${i.signal.reason}`)})),e.logger.debug(l,"registering listeners on dom elements:",r.join(", "));const c={signal:i.signal,capture:!0};return r.forEach((t=>{const r=document.getElementById(t);if(!r)return void e.logger.warn(l,`element not found for ${t}`);r.addEventListener("click",o((()=>s(t,"click"))),c);const n=o((()=>((t,r)=>{try{if(document.activeElement===r)return s(t,"activeElement === element");if(Array.from(r.querySelectorAll("iframe")).some((e=>e===document.activeElement)))return s(t,"activeElement === element>iframe")}catch(t){e.logger.warn(l,"Caught error checking activeElement:",t)}})(t,r)));window.addEventListener("blur",n,c),window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&n()}),c)})),e=>{i.abort(e)}},y=e=>{const t=b(e);return r=>{try{e.logger.debug(l,'processing "adLoaded" event',r);const n=m(r.targetId),i=((e,t)=>{const r=[];return t?.keywords&&Object.keys(t.keywords).forEach((e=>{r.push({key:e,value:E(t.keywords[e])})})),{slot:{target_id:e.targetId,tag_id:e.tagId,height:e.height,width:e.width,targeting:r},ad:{type:e.adType,source:e.source,creative_id:e.creativeId,auction_id:e.auctionId,buyer_member_id:e.buyerMemberId,brand_category_id:e.brandCategoryId,media_type_id:e.mediaTypeId,media_sub_type_id:e.mediaSubType}}})(r,n);(0,a.zG)(e.listenerRepository,o.UI((e=>{if(n){e.getAbort(n.targetId)?.("re-registering listeners");const r=[n.targetId,n.utDivId,n.utiframeId].filter((e=>"string"==typeof e)),a=t(n.targetId,r,i);e.setAbort(n.targetId,a)}}))),e.permutive.track("AppNexusAdImpression",i)}catch(t){e.logger.error(l,'error processing "adLoaded" event:',t)}}},w=e=>{window.__permutive=window.__permutive||{},window.__permutive.appnexusEvents=window.__permutive.appnexusEvents||[],window.__permutive.appnexusEvents.forEach((function(t){"adLoaded"==t.eventType&&t.arg&&e(t.arg)}))},I=(e,t)=>{let r=!0;window.apntag.anq.push((function(){window.apntag.onEvent("adLoaded",(t=>{t&&r&&e(t)}))})),t.addEventListener("abort",(()=>{r=!1}))};function E(e){return(Array.isArray(e)?e:[e]).map((e=>e.toString()))}const S=()=>o.Y3((()=>{const e=new Map,t=new AbortController;return t.signal.addEventListener("abort",(()=>{e.forEach((e=>e(t.signal.reason))),e.clear()})),{close:()=>t.abort("close called"),getAbort:t=>e.get(t),setAbort:(t,r)=>{e.set(t,r)},get signal(){return t.signal},recreate(){return this.close(),S()}}}),(e=>`Listener repo factory failed with ${o.KC(e)}`)),k=()=>({id:"xandr_ssp_contextual",filterCohorts:a.yR})},2609:(e,t,r)=>{r.r(t),r.d(t,{load:()=>o});var n=r(6143),i=r(4432),a=r(4659);const o=e=>{(function(){function t(e,t,r){let i=0;const a=(0,n.UM)((function(){(e()||i===r)&&a(),i++}),t)}async function r(t){return{userId:e.state.userId.get(),visitId:e.state.viewId.get(),sessionId:e.sessionManager.getSessionId(),client:await e.clientContext.getClientAsync(),segments:t}}async function o(t){const n=e.nextGen.queryLanguageCohorts.all,i=await r(n.current);t.postMessage({type:"Init",data:i},"*"),t.postMessage({type:"permutive:init",data:i},"*"),n.onChange((0,a.Z_)(e.api,e.userId,(async function(e){t.postMessage({type:"permutive:update",data:await r(e)},"*")})))}const s=function(){return"undefined"!=typeof videojs&&(Object.values(videojs.players).filter((e=>!!e)).forEach((e=>e.on("loadedmetadata",(()=>o(window))))),o(window),!0)},c=function(){!function(){const e=document.getElementsByTagName("iframe");if(0===e.length)return;[].slice.call(e).forEach((e=>{if("amp-brightcove"!==e.parentNode?.nodeName.toLowerCase()&&-1!==(e.src?.indexOf("brightcove")??-1)&&e.contentWindow){const{contentWindow:t}=e;o(t),e.addEventListener("load",(()=>o(t)))}}))}(),function(){const e=document.getElementsByTagName("amp-brightcove");if(0===e.length)return;[].slice.call(e).forEach((e=>{t((function(){const t=e.getElementsByTagName("iframe");return!!(t.length>0&&t[0].contentWindow)&&(o(t[0].contentWindow),!0)}),500,10)}))}(),"complete"===document.readyState?s():window.addEventListener("load",(function(){t(s,500,10)}),!1)},u=function(){e.state?.userId?.get()?c():e.messages.on("permutive:user:ready",c)};(0,i.p)((()=>e.extMessages.listen("brightcove-init",u)),"permutive:internals:extMessages:ready",e.messages).catch((t=>e.api.reportError(`Error on brightcove-init. Got ${t.message}`))),u()})()}},5058:(e,t,r)=>{r.r(t),r.d(t,{createAddon:()=>w,getCachedDFPSegments:()=>b});var n=r(5654),i=r(7144),a=r(2169),o=r(8236),s=r(7812),c=r(7721),u=r(2478),l=r(4659);const p="_pdfps";r(2081);var d=r(9912),f=r(229);let m=!1;let g=null;const h=(e,t)=>{const{logger:r}=t;(0,a.zG)(e,o.UI((e=>{!0!==m&&e.pubadsReady&&(g??=n=>{let{slot:i}=n;const{getContentUrl:o}=i;if(!o||"function"!=typeof o)return;(0,a.zG)(o(),(0,f.pn)("&trunc=1"))&&(r.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:r}=e;m||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),m=!0,r.debug("DFP has exceeded targeting limit"))})(t),g&&e.pubads().removeEventListener("slotRenderEnded",g),g=null)},e.pubads().addEventListener("slotRenderEnded",g))})))},_=(e,t,r,n,i)=>{const{logger:s}=t;h(e,t);(0,a.zG)(e,o.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),o=t("permutive")||[],c=t("prmtvctx")||[],u=(0,d.uK)((e=>i.has(e))),{left:l}=u(o),{left:p}=u(c),f=n.concat(l).concat("rts");if(s.debug("DFP setTargeting for 'permutive'",f),a("permutive",f),r.contextualCohorts){const e=r.contextualCohorts.concat(p).concat("rts");s.debug("DFP setTargeting for 'prmtvctx'",e),a("prmtvctx",e)}}))})(e))))};var v=r(4914);const b=e=>e.getExternalJsonData(p)||[],y=(e,t,r,i,a)=>{const{logger:o,externalData:s,api:c}=t;let l=r.map(String).concat(i.cloudCohorts);o.debug("DFP is updating with targeting values",l),_(e,t,i,l,a);try{s.setExternalJsonData(p,l)}catch(e){const t=(0,n.w)(e),r="DFP failed to set data. Got:";o.error(r,t),c.reportError(`${r} ${t.message}`)}return((e,t)=>{let{api:r,logger:n}=e;(0,u.$S)("sync_segments_cookie",!1)?(n.debug("DFP syncing segment cookie _pdfps"),r.segmentSync({key:p,value:t})):n.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(l)),o.debug("DFP live segments updated to",r),r},w=async e=>{const t={segments:{liveSegments:[],cloudCohorts:[],eligibleSegments:{}},getGAMKeyValues:()=>({permutive:""})};const{api:r,logger:n,activationManager:u,messages:d,externalData:f,nextGenOutput:m,userId:g,cookies:h}=e,_=await(0,l.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1});o.Wi(_)&&n.error("[DFP]: unable to find google tag script on the page"),(0,a.zG)(_,o.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));t.getGAMKeyValues=()=>{const n={...(0,a.zG)((0,v.generateProjectSpecificKVs)(e),i.Vn((e=>{var t;return t=e,r.reportError(`[DFP] ${t}`,g.get()),e})),i.fS((()=>({})))),permutive:t.segments.liveSegments.join(",")};return t.segments.contextualCohorts&&(n.prmtvctx=t.segments.contextualCohorts.join(",")),n};const b=new Set("rts");t.segments.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),r={};for(const e of t.dfp)r[e]=e;for(const e of Object.keys(t.dfp_legacy)){const n=Number(e);r[n]=t.dfp_legacy[n]}return r})(u),Object.values(t.segments.eligibleSegments).forEach((e=>{b.add(String(e))}));const w=(0,a.zG)(m.queryLanguageCohorts.all,c.UI((e=>{return n.debug("DFP received QL segments",{qlSegments:e}),r=e,i=t.segments.eligibleSegments,r.filter((e=>e in i)).map((e=>i[e]));var r,i})),c.D8(l.cO)),I=(0,a.zG)(m.activations.dfp??c.a9(s.cS),c.UI((e=>e||s.cS))),E=m.activations.dfp_contextual??c.a9(void 0);return(0,a.zG)(c.vP(I,(0,a.zG)(E,c.UI((e=>e||[])))),c.UI(s.xH),c.Rp(s.bM(),((e,t)=>[...new Set([...e,...t])])),c.bw((e=>e.forEach((e=>b.add(e)))))),(0,a.zG)(c.vP(w,I,E),c.YP((0,l.Z_)(r,g,(r=>{let[i,a,o]=r;n.debug("DFP received updated cohorts",{filteredQlSegments:i,cloudCohorts:a,contextualCohorts:o}),t.segments.cloudCohorts=a,o&&(t.segments.contextualCohorts=o),t.segments.liveSegments=y(_,e,i,t.segments,b)})))),n.debug("DFP initialised with segments",t.segments),(0,a.zG)(_,o.UI((e=>{e.secureSignalProviders=e.secureSignalProviders||[],e.secureSignalProviders.push({id:"permutive-secure-signal",collectorFunction:c.yY(m.addons.secureSignal)})}))),d.on("permutive:reset",(0,l.Z_)(r,g,(()=>{n.debug("DFP received 'permutive:reset' event"),f.removeExternalData(p),h.deleteCookie(p)}))),d.emit("permutive:dfp:ready"),t}},4914:(e,t,r)=>{r.r(t),r.d(t,{generateProjectSpecificKVs:()=>x,load:()=>d});var n=r(5654),i=r(7144),a=r(8236),o=r(2169),s=r(8890),c=r(2478),u=r(4659),l=r(5058);const p={},d=e=>{(0,c.Hn)("dfp")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dfp",{}]}),window.googletag=window.googletag||{},window.googletag.cmd.push((()=>f(e)))},f=e=>{e.permutive.ready((0,u.Z_)(e.api,e.userId,(()=>E(e.metrics))),"realtime");S(e.externalData);(0,o.zG)(x(e),i.tS((e=>i.Y3((()=>(0,u.qh)(e).forEach((e=>{let[t,r]=e;googletag.pubads().setTargeting(t,r)}))),n.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),b(e.permutive),googletag.cmd.push((()=>{y(e.permutive),w(e.permutive)})),window.addEventListener("message",g(e.permutive),!1)},m=e=>{let{advertiserId:t,campaignId:r,lineItemId:n,creativeId:i}=e;return{advertiser_id:(0,u.rH)(t),campaign_id:(0,u.rH)(r),line_item_id:(0,u.rH)(n),creative_id:(0,u.rH)(i)}},g=e=>t=>{try{const r=JSON.parse(t.data);if(!r.permutive_type||"google_ad_click"!==r.permutive_type)return;const{ad_unit_path:n,creative_id:i,advertiser_id:a,order_id:o,line_item_id:s}=r?.data??{},c=m({lineItemId:s,advertiserId:a,campaignId:o,creativeId:i});let u;Object.keys(p).some((e=>{const{slot:t,creative_id:r}=p[e];if(t?.ad_unit_path===n&&r===c.creative_id)return u=p[e],!0})),u=u??{...c,is_empty:!1},h(e,u)}catch{}},h=(e,t)=>{s.PH&&t&&e.track("SlotClicked",t)},_={},v=(e,t,r)=>{p[t]=r,I(e,r),_[t]&&_[t](),_[t]=P(e,t)},b=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const r=t.getResponseInformation();if(!r)return;const n={...m(r),is_empty:!1,service_name:"publisher_ads",slot:k(t)},i=t.getSlotElementId();v(e,i,n)}))},y=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const r={...m(t),is_empty:t.isEmpty,service_name:t.serviceName,slot:k(t.slot)};if(t.size){const[e,n]=t.size;"number"==typeof e&&"number"==typeof n&&(r.width=e,r.height=n)}const n=t.slot.getSlotElementId();v(e,n,r)}))},w=e=>{s.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:r,serviceName:n}=t;const i=r.getResponseInformation();if(!i)return;const a={...m(i),service_name:n,slot:k(r)};e.track("SlotViewable",a)}))},I=(e,t)=>{if(!s.CL)return;var r;r={...t,rendered_timestamp:Date.now()},e.track("SlotRendered",r)},E=e=>{let t=0;const r=googletag.pubadsReady&&googletag.pubads().getSlots();r&&r.forEach((e=>e.getResponseInformation()&&t++));const n=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:n,value:1,labels:{target:"dfp"}})},S=e=>{const t=(0,l.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:r}=googletag.pubads(),n=e("permutive")||[];r("permutive",[...new Set([...t.map(String),...n])])}))},k=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return s.jH?{...t,...(()=>{const t={},r=[];let n=[];const i=(e,i)=>{const a="slot"===e?e=>t[e]=1:()=>{},o=i.getTargetingKeys();n=o;for(let o=0;o<n.length;o++){const s=n[o];if(void 0!==t[s]&&"service"===e)continue;const c=[],u=i.getTargeting(s);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(s),r.push({key:s,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:r}})()}:t},P=(e,t)=>{let r=[];const n=()=>(0,o.zG)((0,o.bc)((0,o.zG)(a.Y3((()=>document.getElementById(t))),a.tS(a.ij),a.tS(a.KQ((e=>e.querySelector("iframe"))))),a.ij(document.activeElement)),a.RD,a.UI((r=>{let[n,i]=r;"hidden"===document.visibilityState&&n===i&&h(e,p[t])})));return document.addEventListener("visibilitychange",n),r.push((()=>document.removeEventListener("visibilitychange",n))),()=>{r.forEach((e=>e())),r=[]}},x=e=>{let{userId:t,viewId:r}=e;return i.Y3((()=>({})),n.w)}},6036:(e,t,r)=>{r.r(t),r.d(t,{LocalStorageAddon:()=>c,load:()=>s});var n=r(2478),i=r(4659),a=r(7721),o=r(2169);const s=e=>{(0,n.Hn)("local_storage")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["local_storage",{}]})};class c{options;activations;storageKeyToSegments;constructor(e){this.options=e;const t=this;this.activations=this.options.activationManager.getActivations("local_storage"),this.storageKeyToSegments={};for(let e=0;e<this.activations.length;e++){const t=this.activations[e],r=t.getSegmentCode(),n=t.getConfig().storage_key;n in this.storageKeyToSegments||(this.storageKeyToSegments[n]={}),this.storageKeyToSegments[n][r]=!0}(0,o.zG)(e.nextGenOutput.queryLanguageCohorts.all,a.YP((0,i.Z_)(this.options.api,this.options.userId,(e=>t.exportSegments(e)))))}exportSegments(e){const t=this;Object.keys(this.storageKeyToSegments).forEach((r=>{const n=[],i=t.storageKeyToSegments[r];e.forEach((e=>{e in i&&n.push(e.toString())})),n.length>0&&this.options.externalData.setExternalData(r,JSON.stringify(n))}))}}},7055:(e,t,r)=>{r.r(t),r.d(t,{AppnexusPixel:()=>o,load:()=>s});var n=r(2478);class i{isFirstRun;cachedSegmentsMembership;constructor(e,t){this.isFirstRun=void 0===e.permutiveData.getData(t),this.cachedSegmentsMembership=new Set(e.nextGenOutput.queryLanguageCohorts.all.current),this.isFirstRun&&e.permutiveData.setData(t,!0),e.messages.on("permutive:reset",(()=>e.permutiveData.setData(t,!1)))}}class a extends i{constructor(e,t,r){super(e,r);const n=e.activationManager.getSpecializedActivations(t);this.processSpecialisedActivations(e.permutive,n)}}class o extends a{constructor(e){super(e,"appnexus","addon:appnexus")}processSpecialisedActivations(e,t){if(this.isFirstRun)for(const e of this.cachedSegmentsMembership){const r=String(e);r in t&&this.firePixel(t[r])}e.on("SegmentEntry",(e=>{const r=e.properties.segment_number,n=String(r);n in t&&this.firePixel(t[n])}))}firePixel(e){(new Image).src=`https://secure.adnxs.com/seg?add=${e}&t=1`}}const s=e=>{(0,n.Hn)("appnexus")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["appnexus",{}]})}},1756:(e,t,r)=>{r.r(t),r.d(t,{RubiconSspAddon:()=>c,load:()=>s});var n=r(2169),i=r(4659),a=r(7721);const o="_prubicons",s=e=>{e.q.push({functionName:"addon",arguments:["rubicon_ssp",{}]})};class c{options;liveSegments=[];eligibleSegments={};constructor(e){this.options=e,this.liveSegments=e.externalData.getExternalJsonData(o)||[];const t=this.options.activationManager.getSpecializedActivations("rubicon_ssp");for(let e=0;e<t.length;e++)this.eligibleSegments[t[e]]=!0;(0,n.zG)(e.nextGenOutput.queryLanguageCohorts.all,a.YP((e=>this.updateIfNecessary(e))))}updateIfNecessary(e){const t=this.filterSegments(e);(0,i.cO)(t,this.liveSegments)||this.options.externalData.setExternalJsonData(o,t),this.liveSegments=t}filterSegments(e){return e.filter((e=>e in this.eligibleSegments))}}},4446:(e,t,r)=>{r.r(t),r.d(t,{WebAddon:()=>I,load:()=>w});var n=r(5654),i=r(7144),a=r(2169),o=r(3052),s=r(8236),c=r(856),u=r(8890),l=r(2478),p=r(4659);const d=(0,l.MU)("add_alchemy_entities",!1),f=(0,l.MU)("add_alchemy_taxonomy",!1);function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{...e&&f?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{},...e&&d?{entity_names:"$alchemy_entity_names"}:{},classifications_watson:{taxonomy_labels:"$taxonomy_labels"},privacy_sandbox_topics_v2:"$privacy_sandbox_topics_v2"}}function g(e,t,r,n){const i={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",...h(),...e,...t};r.track("Pageview",i).then((e=>{e&&n.emit("permutive:event:pageview",e)}))}function h(){return{}}var _=r(6143);const v=["mousemove","click","scroll"],b=["email","tel","submit","reset","button","file","password","radio","checkbox"],y=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],w=e=>{(0,l.Hn)("web")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["web",{auto_init:!0}]})};class I{permutive;options;api;clientContext;logger;dirtyState=!1;cancelEngagementTimer=()=>{};totalCompletion=0;totalEngagedTime=0;pageEngagementDetected;cleanupPageEngagementDetection=(()=>a.Q1)();constructor(e){this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.options.customProperties.setCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0}).bind(this),g(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),u.t2&&(this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}sendFormSubmissionEvent(e){{const t=e.currentTarget,r={form:{method:t.method||"GET",properties:this.serializeForm(t),..."string"==typeof t.id?{id:t.id}:{},...t.name&&"string"==typeof t.name?{name:t.name}:{},...t.action&&"string"==typeof t.action?{action:t.action}:{}}};this.permutive.track("FormSubmission",r)}}async trackEngagementInterval(e){const t=this.updateState(e);!function(e,t,r,n,i,a){const o={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t,...i,completion:r,total_completion:n};a.track("PageviewEngagement",o)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive)}async reset(e){this.disablePageEngagementDetection(),this.dirtyState=!1;const t=this.updateWebOptions(e);this.options.pageviewState.setState(((e,r)=>({viewId:t.context?.view_id??(0,p.k$)(),watsonEnabled:t.watson?.enabled??r.watsonEnabled}))),this.totalCompletion=0,this.totalEngagedTime=0,this.options.customProperties.setCustomProps(this.options.page||{}),this.enablePageEngagementDetection(),g(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),u.t2&&(this.cancelEngagementTimer(),this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==b.indexOf(e.type.toLowerCase())||-1!==y.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return(0,_.UM)((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,r=t=>e(t)?(0,s.G)(t):t.parentElement?e(t.parentElement)?(0,s.G)(t.parentElement):r(t.parentElement):s.YP;u.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,a.ls)(s.DT(this.canTrackPermutiveEvent("FormSubmission")),s.UI((0,p.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this)))))));(0,l.MU)("track_link_click",!0)&&document.body.addEventListener("click",(0,a.ls)(s.DT(this.canTrackPermutiveEvent("LinkClick")),s.UI((e=>({event:e,anchor:(0,a.zG)(e.target,s.ij,s.tS(s.DT(t)),s.tS(r))}))),s.DZ((e=>{let{event:t,anchor:r}=e;return s.pC(r)?s.G({event:t,anchor:r.value}):s.YP})),s.UI((e=>{let{event:t,anchor:r}=e;return E(this.permutive,r,(n=t,!("_blank"===r.target||n.metaKey||n.ctrlKey||n.shiftKey||2===n.which||3===n.which)));var n}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),r=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:r,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,a.zG)((0,i.Y3)((0,a.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,c.uZ)(o.Df)(0,1)),n.w),(0,i.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,i.Y3)((()=>{e(),this.cleanupPageEngagementDetection=a.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,n.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,a.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const r=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>r(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||v}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>(0,a.zG)(this.options?.filterPermutiveEvent?.[e],s.DT((e=>"function"==typeof e)),s.tS((0,a.ls)((e=>i.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,n.w)(e)}`)))),i.tS(i.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,p.bw)(i.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),s.Uo)),s.fS((()=>!0)))}updateWebOptions(e){(0,p.Kn)(e)||(e={}),e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent,"context"in e&&!(0,p.Kn)(e.context)&&delete e.context;const t={addPageEngagementDetection:void 0,context:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options={...this.options,...t,...e}}}const E=(e,t,r)=>{if(window.location.href&&t.href){const n=0===t.href.indexOf("data:")?"NOT_URL":t.href;e.track("LinkClick",{dest_url:n},{useBeacon:r})}}},1841:(e,t,r)=>{r.d(t,{a:()=>n});class n{messages;handlers={};messageQueue={};constructor(e){this.messages=e;window.addEventListener?.("message",(e=>{"permutive"===e?.data?.origin&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){window.postMessage?.({origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const r=t[e];this.handle(r)}}}handle(e){if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(this.messageQueue[e.data.type]??=[]).push(e)}}}},7542:(e,t,r)=>{r.d(t,{o:()=>n,s:()=>i});class n extends Error{static errorName="NetworkRequestFailedError";name=(()=>n.errorName)();constructor(){super(n.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class i extends Error{static errorName="NetworkRequestTimeoutError";name=(()=>i.errorName)();constructor(){super(i.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}},3631:(e,t,r)=>{r.d(t,{F:()=>p});var n=r(5654),i=r(2169),a=r(8236),o=r(7812),s=r(2059),c=r(7542),u=r(4694);class l{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>a.YP;this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=i,this.webClient=o}async reportError(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const l=(0,n.w)(e);if(this.logError("Reporting error:\n",l),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const p=(0,i.zG)(this.webClient,u.UI(a.fS((()=>({domain:self.location?.hostname??"",referrer:"document"in self?self.document?.referrer:"",url:self.location?.href??"",user_agent:navigator?.userAgent??""})))),u.UI((e=>{const n={error_message:l?.message?.toString()??"",stack_trace:l?.stack?.split("\n")},i=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.55.0",ql_runtime_version:"v14.1.0",timestamp:r,domain:e.domain,url:(0,s.bk)(e.url),referrer:(0,s.bk)(e.referrer),user_agent:e.user_agent,error_message:n.error_message??String(l),stack_trace:n.stack_trace,...i}}))),d=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",a.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),f=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,i.zG)([c.o,c.s],o.Ew((e=>l.name===e.errorName||l.message.indexOf(e.errorName)>=0||l.message.indexOf(e.defaultMessage)>=0)),a.g_((()=>{const e=p();return d(e).catch((0,i.ls)(n.w,(e=>this.logError(e))))}),(async e=>f(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}class p extends l{identifyPromise;identify(e,t,r){const n=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",a.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:r},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(n):this.identifyPromise=n()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",a.G(this.config.apiVersion)),payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",a.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[],ahoCorasickLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",a.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,r){const n=e.startTimer(t,{});return this.network.req(r).then((r=>(0,i.zG)(e.stopTimer(t,n),(e=>r))))}}},8955:(e,t,r)=>{r.d(t,{E:()=>b});var n=r(7144),i=r(2169),a=r(7542),o=r(6143),s=r(8236),c=r(8614),u=function(e){return"Left"===e._tag},l=function(e){return"Right"===e._tag};function p(e){return{_tag:"Left",left:e}}function d(e){return{_tag:"Right",right:e}}function f(e,t){return{_tag:"Both",left:e,right:t}}var m=function(e,t,r){return function(n){switch(n._tag){case"Left":return e(n.left);case"Right":return t(n.right);case"Both":return r(n.left,n.right)}}},g=m;g(d,p,(function(e,t){return f(t,e)}));var h=d,_="These",v=(i.yR,i.yR,c.Xl,r(4659));class b{metrics;logger;constructor(e,t){this.metrics=t,this.logger=e.withPrefix("network")}req(e){return this.logger.withPrefix("request").debug(e.method,e.url,..."POST"===e.method?[{payload:e.payload}]:[]),this.reqImpl(e).then((e=>(0,i.MZ)(e))).then((t=>(this.logger.withPrefix("response").debug(e.method,e.url,{response:t}),t)),(t=>{throw this.logger.withPrefix("response").error(e.method,e.url,t),t}))}reqWithBeacon(e){let{url:t,payload:r}=e;const n=JSON.stringify(r),i=navigator?.sendBeacon?.(t,JSON.stringify(r))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!i,request:{method:"POST",url:t,content_length:n.length}}),i}reqImpl(e){const t="arraybuffer",{url:r,dataType:u,contentType:l,method:p,withCredentials:m,timeout:g}=e;return new Promise(((h,_)=>{const b=new XMLHttpRequest,y="POST"===e.method?"string"==typeof(w=e.payload)?w:JSON.stringify(w):null;var w;const I=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:p,url:r,content_length:y?.length??0},response:e});b.onload=(0,o.GL)((()=>{return(0,i.zG)(b.status,n.DT((e=>e<400),(()=>{const e="text"===b.responseType||""===b.responseType?b.responseText:"Couldn't access response text";return`Failed ajax request. Status code was ${b.status}. ${e}`})),n.tS((()=>"json"===u?b.responseText?n.Y3((()=>JSON.parse(b.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(b.responseText)}. Got ${e}`)):n.F2(null):"text"===u?n.F2(b.responseText):n.F2(b.response))),(0,v.bw)((0,i.ls)(s.IS,(e={content_length:"text"===b.responseType||""===b.responseType?b.responseText?.length??0:b.responseType===t?b.response.byteLength:0,response_time_ms:self.performance.now()-E,status_code:b.status},function(t){return c.Wi(t)?d(e):f(t.value,e)}),I)),n.EQ(_,h));var e})),b.onerror=(0,o.GL)((()=>{I(n.t$("network error")),_(new a.o)})),b.ontimeout=(0,o.GL)((()=>{I(n.t$("timeout")),_(new a.s)})),b.open(p,r,!0),l&&b.setRequestHeader("content-type",l),b.timeout=g||b.timeout,b.withCredentials=m||b.withCredentials,b.responseType="binary"===u?t:b.responseType;const E=self.performance.now();b.send(y)}))}trackRequestMetrics(e){if(!this.metrics?.isEnabled())return;const t=new URL(e.request.url).pathname;if(t.includes("metrics"))return;const r=r=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:t,request_content_length:e.request.content_length,...r}});var n;!0===e.is_beacon?r({is_beacon:!0,is_error:e.is_error}):(0,i.zG)((n=e.response,u(n)?c.YP:(l(n),c.G(n.right))),s.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!l(e.response),...t})),r)}}},4321:(e,t,r)=>{r.r(t),r.d(t,{startMaster:()=>ue});var n=r(7721),i=r(2169),a=r(7479),o=r(8236),s=r(7812),c=r(4659),u=r(4694),l=r(6450),p=r(2945),d=r(4327),f=r(4214);var m=r(7226),g=r(6335),h=r(6289),_=r(7049);function v(e,t){return function(r){return e.map(r,t.compact)}}function b(e,t,r){var n=v(e,t),a=(0,h.UI)(e,r);return function(e){return _.s4(n((0,i.zG)(e,a(o.IS))),n((0,i.zG)(e,a(o.EK))))}}function y(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filter(e,r)}))}}}function w(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filterMap(e,r)}))}}}function I(e,t){var r=y(e,t);return function(e){var t=r((0,d.ff)(e)),n=r(e);return function(e){return(0,_.s4)(t(e),n(e))}}}function E(e,t){var r=w(e,t);return function(e){return function(t){return(0,_.s4)((0,i.zG)(t,r((function(t){return(0,o.IS)(e(t))}))),(0,i.zG)(t,r((function(t){return(0,o.EK)(e(t))}))))}}}var S=r(8614);function k(e){return(0,i.ls)(o.G,e.of)}function P(e){return(0,i.a9)(e.of(o.YP))}function x(e){return function(t){return e.map(t,o.G)}}function G(e){return(0,i.ls)(o.ij,e.of)}function D(e){var t=G(e);return function(e){return(0,i.ls)(e,t)}}function U(e){var t=L(e),r=D(e);return function(e){return t(r(e))}}function A(e){return function(t){return(0,i.ls)(t,e.of)}}function z(e){var t=L(e),r=A(e);return function(e){return t(r(e))}}function C(e){return function(t){return function(r){return e.of(o.DT(t)(r))}}}function R(e){return(0,i.ls)(o.Uo,e.of)}function q(e){return function(t,r){return function(n){return e.map(n,o.EQ(t,r))}}}function T(e){return function(t,r){return function(n){return e.chain(n,o.EQ(t,r))}}}function O(e){return function(t){return function(r){return e.chain(r,o.EQ(t,e.of))}}}function M(e){return(0,h.UI)(e,o.dO)}function j(e){return(0,p.ap)(e,o.G5)}function L(e){var t=P(e);return function(r){return function(n){return e.chain(n,o.EQ((function(){return t()}),r))}}}function F(e){var t=k(e);return function(r){return function(n){return e.chain(n,o.EQ(r,t))}}}var N=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},$=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},B=k(m.PM),Q=(m.PM,m.of,m.PM,m.dO,m.UI(o.Uo)),Y=(m.dO,m.qo,m.UA,m.PM,function(e){return function(){return N(void 0,void 0,void 0,(function(){return $(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e().then(S.G)];case 1:return[2,t.sent()];case 2:return t.sent(),[2,S.YP];case 3:return[2]}}))}))}}),K=(m.PM,m.UA,m.PM,m.UA,M(m.dO)),W=j(m.Hi),H=B,V=L(m.UA),X=(m.UA,m.PM,m.dO,o.Ri,m.dO,o.Ri,o.dO,m.dO,o.xu,m.dO,o.xu,m.dO,o.xu,m.dO,o.xu,function(e,t){return(0,i.zG)(e,K(t))}),J=function(e,t){return(0,i.zG)(e,W(t))},Z=function(e,t){return(0,i.zG)(e,V(t))},ee="TaskOption",te={URI:ee,map:X},re={URI:ee,map:X,ap:J,chain:Z},ne=(S.F4,(0,h.YO)(te)),ie=(0,g.a)(re),ae=(S.Xl,r(6143)),oe=r(3643);const se=(e,t)=>{const[r,a]=n.gS(s.uZ());return(0,i.zG)(t,n.UI(u.UI((t=>{s.Od(t)&&e.all().then((e=>(0,i.zG)(t,s.UI((0,oe.H5)((()=>e))),a)))}))),n.UI((e=>e()))),r},ce=(e,t)=>{let r=!1;return n.UI(u.UI((0,c.bw)((n=>{r||(r=(0,i.zG)(n,s.G((e=>{let[,t]=e;return"Pageview"===t.name}))),r&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))};function ue(e){let{eventsCacheFactory:t,metrics:g,trace:h,migratedStateMaps:_,worker:v,...b}=e;return e=>a.dQ((0,i.ls)((0,c.rO)({previousState:le}),(a=>{let{stopped:c,previousState:y}=a;(0,i.zG)(c,n.YP((e=>e&&v.stop()))),v.send({...b,migratedStateMaps:y.stateMigrated?{external:o.YP,internal:o.YP}:_(),previousState:y.workerState}),h.measureSinceInit("post_worker_config_duration").finish(),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_config",time_origin:"sdk_init"},performance.now());const w=h.startSpan("worker_config_response_duration"),I=v.next();I.then((()=>{w.finish(),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_received_worker_config_response",time_origin:"sdk_init"},performance.now())}));const E=((e,t)=>{const a=(0,i.zG)((()=>t),m.UI((e=>o.lo(!e))),V((()=>Q(e()))),ne("eventsCache"),ie("eventsCacheService",(()=>(0,i.zG)((0,ae.N1)(Y((()=>Promise.resolve().then(r.bind(r,9114))))),K((e=>e.eventCacheService)))))),c=a();return e=>{let{priorCachedEventsRequests:t,...r}=e;return e=>{let{previousState:a,stopped:l}=e;const p=n.a9(u.of(s.bM())),[d,f]=n.Ue({eventsToPublish:n.a9(u.of(s.bM())),priorCachedEventsResponses:p,state:n.a9(a)});return c.then(o.EQ((()=>f({eventsToPublish:r.eventsToPublish,priorCachedEventsResponses:p,state:n.a9(void 0)})),(e=>{let{eventsCache:n,eventsCacheService:i}=e;const{state:o,value:{newEvents:s}}=i({eventsCache:n,newEvents:r.eventsToPublish})({previousState:a,stopped:l});f({eventsToPublish:s,priorCachedEventsResponses:se(n,t),state:o})}))),{state:(0,i.zG)(d,n.VS((e=>e.state))),value:(0,i.bc)((0,i.zG)(d,n.VS((e=>e.priorCachedEventsResponses))),{...r,eventsToPublish:(0,i.zG)(d,n.VS((e=>e.eventsToPublish)))})}}}})(t,I.then((e=>e.eventsCachedInWorker)));return(0,i.zG)((()=>v.read()),function(e,t){const r=e=>(0,i.zG)(e,l.Hd((e=>e in t)),(e=>{let{left:t,right:r}=e;return{buffers:r,nonBuffers:t}}));return a=>{const{buffers:o,nonBuffers:s}=r(e),[c,u]=n.Ue({...s,...(0,i.zG)(o,l.Su((e=>()=>{const r=o[e];return o[e]=t[e].empty,r})))});return(async()=>{for(;;){const e=(0,i.zG)(await a(),f.UI(r),f.ur({concat:(e,r)=>({nonBuffers:{...e.nonBuffers,...r.nonBuffers},buffers:(()=>{const n={...e.buffers};for(const e in r.buffers)n[e]=e in n?t[e].concat(n[e],r.buffers[e]):r.buffers[e];return n})()})})),n=(0,i.zG)(e.buffers,l.Su(((e,r)=>(o[e]=t[e].concat(o[e],r),()=>{const r=o[e];return o[e]=t[e].empty,r}))));u({...c.current,...e.nonBuffers,...n})}})(),(0,i.zG)(e,l.Su((e=>(0,i.zG)(c,n.UI((t=>t[e]))))))}}({activations:y.activations,cohorts:y.cohorts,context:{},eventsToPublish:s.cS,eventsToPublishOnPageUnload:s.cS,externalData:{},geoIP:o.YP,metrics:s.cS,priorCachedEventsRequests:s.cS,realtime:!1,state:y.workerState,transitionsSinceInit:{segmentsEntered:s.cS,segmentsExited:s.cS},workerStateFlushed:!1,stateMigratedThisInitialisation:!1,secureSignal:o.YP},{eventsToPublish:s.uZ(),metrics:s.uZ(),priorCachedEventsRequests:s.uZ()}),(e=>{let{metrics:t,...r}=e;return t.onChange((e=>e().forEach((e=>g.track(e))))),r}),(t=>{let{workerStateFlushed:r,stateMigratedThisInitialisation:a,activations:f,cohorts:m,state:h,secureSignal:_,...b}=t;const{value:[w,I],state:S}=E(b)({stopped:c,previousState:y.masterEventsCache});return function(e,t,r){const a=(0,i.zG)(n.vP(t),n.UI((0,i.ls)(l.UI((e=>"function"==typeof e?e:u.of(e))),(0,p.Yt)(u.G5))));let s=a.current();e(s),(0,i.zG)(a,n.YP((t=>{const n=t(),a=(0,i.zG)(n,l.z7(((e,t)=>t!==s[e]&&!r[e]?.isEmpty(t))),o.DT((0,d.ff)(l.xb)));o.pC(a)&&(s={...s,...a.value},e(a.value))})))}(v.send,{consent:e.consent,contextualCohorts:e.contextualCohorts,enrichmentReplacementMap:e.enrichmentReplacementMap,eventSourceId:e.eventSourceId,identities:e.identities,userId:e.userId,userIdIsNewlyGenerated:e.userIdIsNewlyGenerated,newEvents:(0,i.zG)(e.newEvents,ce(g,"pageview_sent_to_worker")),sessionId:e.sessionId,viewId:e.viewId,webClient:e.webClient,pageviewState:e.pageviewState,priorCachedEventsResponses:w},{newEvents:{isEmpty:s.xb},priorCachedEventsResponses:{isEmpty:s.xb}}),g.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"master_sent_worker_input",time_origin:"sdk_init"},performance.now()),{state:n.vP({activations:f,cohorts:m,masterEventsCache:S,workerState:h,stateMigrated:(0,i.zG)(n.vP(r,a),n.Rp(y.stateMigrated,((e,t)=>{let[r,n]=t;return e||r&&n})))}),value:{...I,stateMigratedThisInitialisation:a,activations:f,cohorts:{all:n.UI((e=>e.all),m),ql:n.UI((e=>e.ql),m),qlCustom:n.UI((e=>e.qlCustom),m),qlStandard:n.UI((e=>e.qlStandard),m)},secureSignal:_}}}))})))}const le=e=>ge(e)?{activations:pe(e.activations),cohorts:fe(e.cohorts),masterEventsCache:e.masterEventsCache,workerState:e.workerState,stateMigrated:!!e.stateMigrated}:{activations:pe(null),cohorts:fe(null),masterEventsCache:null,workerState:null,stateMigrated:!1},pe=e=>ge(e)?{dfp:me(e.dfp),dfp_contextual:void 0,xandr_ssp:me(e.xandr_ssp),xandr_ssp_contextual:void 0,adswizz_keyvalue:me(e.adswizz_keyvalue),adswizz_keyvalue_contextual:void 0}:de(),de=()=>({dfp:s.cS,dfp_contextual:void 0,xandr_ssp:s.cS,xandr_ssp_contextual:void 0,adswizz_keyvalue:s.cS,adswizz_keyvalue_contextual:void 0}),fe=e=>ge(e)?{all:me(e.all),ql:me(e.ql),qlCustom:me(e.qlCustom),qlStandard:me(e.qlStandard)}:he(),me=e=>Array.isArray(e)?e:s.cS,ge=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),he=()=>({all:s.cS,ql:s.cS,qlCustom:s.cS,qlStandard:s.cS})},2187:(e,t,r)=>{r.r(t),r.d(t,{runNextGenFeatures:()=>Tt});var n=r(2169),i=r(7721),a=r(7479),o=r(6143),s=r(8236),c=r(4659);function u(e){let{messages:t}=e;const[r,n]=i.Ue(new Set);return t.on("permutive:addon:preinit",(e=>n(new Set([...r.current,e])))),r}function l(){const e=()=>Math.floor(Date.now()/1e3),[t,r]=i.Ue(e());return(0,o.UM)((()=>r(e())),1e3),t}function p(){const[e,t]=i.Ue(!1);return(0,c.aT)((()=>t(!0)),navigator.userAgent),e}var d=r(7812),f=r(5654),m=r(7144),g=r(4214),h=r(5086),_=r(6450),v=r(7049),b=r(1340),y=r(2478),w=r(9144),I=r(2176);const E="[Prebid Monitoring]",S=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},k=(e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_bidder_ortb2_count_total",labels:t,value:1})},P=Math.random()<.05?function(e,t){const r=x(e);return a.K4((()=>(0,n.zG)(t,i.UI((0,n.ls)(s.DT((e=>e.consent)),s.UI((e=>e.prebidJS)))),i.D8(s.Eh((0,c.Or)())),i.bw((0,n.ls)(s.tS((e=>e.completedChecks?e.mainPair:s.YP)),s.UI((t=>S(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),i.UI(s.UI((e=>(0,n.zG)(e.mainPair,s.UI((t=>[t,...e.otherPairs])),s.fS((()=>e.otherPairs)))))),i.Rp(new Set,((t,i)=>(0,n.zG)(i,s.UI(d.hX((e=>!t.has(e.windowPropertyKey)))),s.hX(d.Od),(0,c.bw)(s.EQ((()=>e.logger.debug(E,"Nothing to report")),(t=>e.logger.debug(E,"Reporting",t)))),s.fS((()=>[])),d.UI((t=>(0,n.zG)((t=>(0,n.zG)(m.Y3((function(){const{pbjs:r,windowPropertyKey:i}=t;e.logger.log(E,`Reporting on "${i}"`,t);const a=G(r);e.logger.debug(E,`Version ${r.version} parsed as`,a);const o=(0,I.zi)(r);e.logger.debug(E,"Read config",o);const s=(0,n.zG)(o.realTimeData?.dataProviders??[],d.Ew((e=>"permutive"===e.name)));e.logger.debug(E,"Read data provider config",s);const c=r.installedModules||[];return e.logger.debug(E,"Read initial installed modules",c),{pbjs:r,config:o,dataProviderConfig:s,installedModules:c,version:a,windowPropertyKey:i}}),f.w),m.ak("bidders",(e=>r.sspBidders(e))),m.ak("permutiveRTDProvider",(e=>r.permutiveRTDProvider(e))),m.ak("consent",(e=>r.consent(e))),m.ak("prebidConfig",(e=>r.prebidConfig(e))),m.ak("targeting",(e=>r.targeting(e)))))(t),m.Pd((r=>e.reportError(`${E} Failed to report pair "${t.windowPropertyKey}", ${r.message}`)),(()=>t.windowPropertyKey))))),d.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))}:function(){return a.K4((()=>({reportedKeys:i.a9(new Set)})))};const x=e=>({sspBidders:t=>m.Y3((()=>{(0,y.Hn)("prebid")("data_provider_config",{ac_bidders:[]});const r=[],i=(0,n.zG)(t.dataProviderConfig,s.UI((e=>e?.params?.acBidders??[])),s.fS((()=>[]))),a=[...new Set([...r,...i])];a.forEach((r=>{((e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})})(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:r})}));const o=[...new Set(["pubmatic","appnexus","ix","openx",...a])];return e.logger.debug(E,"Determined ssp bidders as",{sspBidders:o,acBidders:a,dynamicBidders:r,staticBidders:i}),{sspBidders:o,acBidders:a,dynamicBidders:r,readBidders:i}}),f.w),consent:t=>m.Y3((()=>{const r=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&S(e,{prebid_key:r,flag:"prebid_has_consent_management"});const n=t.installedModules.includes("gdprEnforcement");n&&S(e,{prebid_key:r,flag:"prebid_gdpr_enforcement_module"});const i=t.config?.consentManagement?.gdpr?.rules?.find((e=>"storage"===e?.purpose))?.vendorExceptions?.includes("permutive")||!1;return i&&S(e,{prebid_key:r,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:n,addedAsStorageException:i}}),f.w),prebidConfig:t=>m.Y3((()=>{const r=t.windowPropertyKey,i=[t.version.major,t.version.minor,t.version.patch].join("."),a=(0,n.zG)(t.dataProviderConfig,s.UI((e=>({waitForIt:e.waitForIt,params:e.params})))),u=(0,n.zG)(s.ij(t.config.realTimeData?.dataProviders?.find((e=>"jwplayer"===e.name))),s.UI((e=>({waitForIt:e.waitForIt})))),l=e=>e.enabled?s.G({bidders:e.bidders||[],aliases:e.extPrebid?.aliases||{}}):s.YP,p=b.n_({bidders:d.jG(),aliases:_.Dv(b.Z$())}),f=(0,n.zG)(s.ij(t.config.s2sConfig),s.tS((e=>Array.isArray(e)?(0,n.zG)(d.DZ(l)(e),g.c2,s.UI(g.ur(p))):l(e))),s.UI((e=>({bidders:e.bidders.join(","),aliases:e.aliases}))),s.tS((0,n.ls)(w.P,s.Uo)),s.FS),m=(0,n.zG)(s.ij(t.config.realTimeData),s.UI((e=>({auctionDelay:e.auctionDelay,permutive:s.FS(a),jwplayer:s.FS(u)}))),s.tS((0,n.ls)(w.P,s.Uo)),s.FS),h=(0,n.zG)((0,w.P)((()=>{if(t.config.consentManagement&&(0,c.Kn)(t.config.consentManagement)){const e=t.config.consentManagement?.gdpr;if(e){const t=(e?.rules||[]).filter((e=>"storage"===e?.purpose));return{gdpr:{cmpApi:e?.cmpApi,rules:t}}}return{}}})()),s.Uo,s.FS);(0,o.HJ)((()=>{((e,t)=>{e.metrics.trackCounter({name:"sdk_prebid_monitoring_config_count_total",labels:t,value:1})})(e,{prebid_key:r,version:i,installed_modules:t.pbjs.installedModules.join(","),rtd_config:m,s2s_config:f,consent_management:h})}),5e3)}),f.w),permutiveRTDProvider:t=>m.Y3((()=>{const r=t.installedModules.includes("permutiveRtdProvider");return r&&S(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),r}),f.w),targeting:t=>{const r=e=>{const t=(()=>{const t=new Set((e.bids||[]).flatMap((e=>(0,c.Kn)(e.mediaTypes)?Object.keys(e.mediaTypes):[])));return Array.from(t).join(",")})(),r=e.ortb2?.user;if(!r)return{has_ortb2_user:!1,media_types:t,user_keywords:"",user_ext_data:"",user_data:""};const n=new Set(["adv","cur"]),i=e=>{const t={everyones:new Set,complete:!1};return{key:e,addIfEveryone:e=>{n.has(e)&&t.everyones.add(e)},isComplete:()=>t.everyones.size===n.size,serialize:()=>t.everyones.size>0?`${e}=${Array.from(t.everyones).sort().join(",")}`:""}},a=i("p_standard"),o=i("p_standard_aud"),s=i("p_standard"),u=i("permutive.com");r.keywords?.split(",").some((e=>{const[t,r]=e.split("=");return t===a.key?a.addIfEveryone(r):t===o.key&&o.addIfEveryone(r),o.isComplete()&&a.isComplete()}));const l=r.ext?.data?.[s.key];Array.isArray(l)&&l.some((e=>(s.addIfEveryone(e),s.isComplete())));const p=r.data?.find((e=>e.name===u.key))?.segment?.map((e=>e.id));return Array.isArray(p)&&p.some((e=>(u.addIfEveryone(e),u.isComplete()))),{has_ortb2_user:!0,media_types:t,user_keywords:[a.serialize(),o.serialize()].filter(Boolean).join("&"),user_data:u.serialize(),user_ext_data:s.serialize()}},i=(0,n.ls)(d.UI((e=>[e,null])),_.sq),a=(t,i)=>(0,n.zG)(t,(0,c.bw)((t=>e.logger.debug(E,`Processing ${t.length} bidder request(s)`,t))),d.hX((e=>i.hasOwnProperty(e.bidderCode)&&null===i[e.bidderCode])),g.vM((e=>e.bidderCode)),_.DZ(d.f2((e=>(0,n.zG)(s.ij(e),s.UI(r))))),(0,c.bw)((t=>e.logger.debug(E,"Bidders targeting method's updated",t)))),o=r=>{e.logger.debug(E,"Bidders found with no targeting method",r);let o=i(r);const s=r=>(0,n.zG)(a([r],o),(0,c.bw)((e=>{o={...o,...e}})),(0,c.bw)(_.Su(((r,n)=>k(e,{prebid_key:t.windowPropertyKey,prebid_bidder:r,...n})))),(0,c.bw)((()=>{Object.values(o).includes(null)||(e.logger.debug(E,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",s))})));t.pbjs.onEvent("bidRequested",s)};return m.Y3((()=>{const r=(0,n.zG)(t.pbjs.getEvents(),d.DZ((0,n.ls)(s.DT((e=>"bidRequested"===e.eventType)),s.UI((0,c.vg)("args")))));return(0,n.zG)(t.bidders.sspBidders,s.DT(d.Od),s.EQ((()=>e.logger.debug(E,"No bidders for targeting")),(0,n.ls)(i,(e=>({...e,...a(r,e)})),_.uK(h.ff((e=>null===e))),v.Pd((0,n.ls)(_.XP,s.DT(d.Od),s.UI(o)),_.Su(((r,n)=>k(e,{prebid_bidder:r,prebid_key:t.windowPropertyKey,...n})))))))}),f.w)}}),G=e=>{const[t,r,n]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:r,patch:n}},D="[monitoring][video_player]";function U(){return function(){const e={name:"brightcove",detect:()=>!!(window?.bc&&"object"==typeof window.bc||window?.brightcove&&"object"==typeof window.brightcove)};return[{name:"jwplayer",detect:()=>!(!window?.jwplayer||"function"!=typeof window.jwplayer||"function"!=typeof window.jwplayer().getConfig)},{name:"kaltura",detect:()=>!!(window?.KalturaPlayer&&"object"==typeof window.KalturaPlayer||window?.kWidget&&"object"==typeof window.kWidget)},e,{name:"videojs",detect:()=>!e.detect()&&!(!window?.videojs||"function"!=typeof window.videojs)}]}().reduce(((e,t)=>({...e,[t.name]:{name:t.name,result:t.detect()}})),{})}function A(e){return{data:e,error:void 0}}function z(e){return{data:void 0,error:e}}function C(e){return void 0===e.error}function R(){return{parse:e=>"string"==typeof e?A(e):z("Expected value to be a string, got "+typeof e)}}function q(e){return{parse:t=>{if(!(0,c.Kn)(t))return z("Expected value to be an object, got "+typeof t);return Object.keys(e).reduce(((r,n)=>{if(!C(r))return r;const i=e[n].parse(t[n]);return C(i)?A({...r.data,[n]:i.data}):i}),A({}))}}}function T(e){return{parse:t=>void 0===t?A(void 0):e.parse(t)}}function O(e){return{parse:t=>{if(!Array.isArray(t))return z("Expected an array, got "+typeof t);const r=t.map((t=>e.parse(t))),n=r.filter((e=>!C(e)));return n.length>0?n[0]:A(r.map((e=>e.data)))}}}function M(e,t){return{parse:r=>{const n=e.parse(r);if(C(n))return n;return t.parse(r)}}}function j(e){const t=window?.jwplayer?.()?.getConfig?.(),r=q({advertising:T(q({client:T(R()),bids:T(q({bidders:T(O(q({name:T(R())}))),settings:T(q({mediationLayerAdServer:T(R())}))})),schedule:T(M(R(),O(q({tag:T(R())}))))}))}).parse(t);return C(r)?r.data:(e.warn("JW Player properties could not be parsed",r.error),null)}function L(e,t){const{metrics:r}=e,o=e.logger.withPrefix(D);return r.isEnabled()&&Math.random()<.8?a.K4((()=>{(0,n.zG)(t.consent,i.UI((e=>{if(e){!function(e){e.track({name:"sdk_video_player_count_total",labels:{},value:1})}(r),U();const e=U();if(function(e,t,r){const n=Object.keys(e).filter((t=>e[t]?.result));r.debug("Currently detected video players:",n),Object.values(e).forEach((e=>{e.result&&t.track({name:"sdk_video_player_sdk_exists_count_total",labels:{video_player:e.name},value:1})}))}(e,r,o),e.jwplayer?.result){const e=j(o);try{!function(e,t,r){if(!e)return r.warn("JW Player properties could not be parsed"),void t.track({name:"sdk_video_player_properties_parse_error_count_total",labels:{video_player:"jwplayer"},value:1});if(e.advertising&&(e.advertising.bids||e.advertising.schedule)){const i=e.advertising,a=i.client||void 0;r.debug("JW Player advertising configuration detected");const o=i.bids?.settings?.mediationLayerAdServer||void 0,c=(0,n.zG)(i.bids?.bidders,s.ij,s.UI((e=>e.filter((e=>e.name&&e.name.trim().length>0)).map((e=>e.name?.trim().slice(0,20))).join(","))),s.FS),u=(0,n.zG)(i.schedule,s.ij,s.UI((e=>"string"==typeof e?[e]:e.map((e=>e.tag)))),s.FS),l=u?.map((e=>e.trim().slice(0,40))).join(",");r.debug("JW Player advertising configuration found"),t.track({name:"sdk_video_player_jwplayer_advertising_count_total",labels:{client:a,schedule_tags:l,mediation_ad_server:o,bidders:c},value:1})}else r.debug("No JW Player advertising configuration detected"),t.track({name:"sdk_video_player_jwplayer_advertising_not_found_count_total",labels:{},value:1})}(e,r,o)}catch(e){o.error("Error tracking JW Player properties",e)}}o.debug(D,"Video player monitoring completed")}else o.debug(D,"No consent given, not tracking")})))})):(o.debug("Video player monitoring disabled or user not sampled"),a.K4((()=>{})))}const F=function(e,t){const r=(0,n.zG)(t.pbjs,i.VS((0,n.ls)(s.tS(s.KQ((e=>e.getUserIdsAsync?.().then((()=>e.getUserIdsAsEids?.()??[]))))),s.UI(i.p4),s.fS((()=>i.a9(s.YP))))),i.UI(s.tS(s.Uo)),i.bw(s.mU((t=>(t.length>0?t.forEach((t=>{e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{alternative_user_id_name:t.source},value:1})})):e.metrics.trackCounter({name:"sdk_prebid_alternative_identifiers_count_total",labels:{identifier:"NONE"},value:1}),s.YP))))),o=(0,n.zG)(t.pbjs,i.UI(s.tS(s.KQ((e=>e.getUserIdsAsEids?.())))));return a.K4((()=>(0,n.zG)(i.vP(r,o),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,s.wp((()=>r)))})),i.UI((0,n.ls)(s.UI(d.DZ((e=>"string"==typeof e.uids?.[0]?.id?s.G((0,n.bc)(e.source,{id:e.uids[0].id})):s.YP))),s.tS(g.c2),s.UI(_.sq))),i.bw((t=>{s.pC(t)&&e.logger.debug("[Prebid Identifiers]","Found identifiers",t.value)})))))};const N=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData($)}))};const $="_pfws",B=new Set(["AdRequest","Reaction","PageviewEngagement","SegmentEntry","SegmentExit","VideoEngagement"]);class Q{events;listeners;static highVolumeEvents=(()=>{const e=new Set([...B]);return e.delete("Reaction"),e})();constructor(){this.events=[],this.listeners=[]}newEvent(e,t){Q.highVolumeEvents.has(e.name)||this.events.push([e,t]),[...this.listeners].forEach((r=>{this.handle(e,t,r)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,r){const n="string"==typeof r.name&&e.name===r.name,i=r.name.test&&r.name.test(e.name),a=n||i;if(a)try{r.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&r.once&&this.remove(r)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let r=0;r<this.events.length&&t;r++)this.handle(this.events[r][0],this.events[r][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var Y=r(4694),K=r(2945);var W=r(3643),H=r(132),V=r(7226);const X="[Event Upload]",J=(e,t,r,s)=>a.dQ((a=>{let{stopped:u,previousState:l}=a;Array.isArray(l)&&(0,n.zG)(l,d.UI((0,W.H5)((0,c.rO)({event:(0,c.rO)({time:oe})}))),ne(e))();const p=new Set([...B]),[f,{appendUntrackedEvents:g,appendUploadResults:h}]=(0,n.zG)((()=>{const[e,t]=i.gS(d.uZ()),[r,a]=i.gS(d.uZ());return(0,n.bc)({uploadResults:e,untrackedEvents:r},{appendUploadResults:t,appendUntrackedEvents:a})})(),(0,W.pL)((0,n.ls)((function(e){const[t,r]=(0,n.zG)(e.uploadResults,ie(d.bj));return{...e,uploadResults:t,erroredEventsAsJSON:r}}),(function(e){const[t,r]=(0,n.zG)(e.erroredEventsAsJSON,ie(d.UI((0,W.H5)((0,c.rO)({event:(0,c.rO)({time:e=>new Date(e)})})))));return{...e,erroredEventsAsJSON:t,erroredEvents:r}}),(function(e){let{uploadResults:t,untrackedEvents:r,...a}=e;const o=(0,n.zG)(t,i.UI(Y.UI((0,n.ls)(d.hp,d.UI((0,W.H5)((0,c.rO)({time:e=>new Date(e)}))))))),s=(0,n.zG)(i.vP(o,r),i.UI(Y.RD),i.UI(Y.UI((e=>{let[t,r]=e;return r.concat(t)}))));return{...a,successEvents:s}}),(function(e){const[t,r]=(0,n.zG)(e.successEvents,ie(d.UI((0,W.H5)((0,c.rO)({time:e=>e.toISOString()})))));return{...e,successEvents:t,successEventsAsJSON:r}})))),[_,v]=i.Ue(0),[b,y]=i.Ue(0),w=(0,n.zG)(t,i.UI(Y.UI((e=>(0,n.zG)(e,d.uK((e=>{let[,t]=e;return!p.has(t.event.name)})),(e=>{let{left:t,right:r}=e;return(0,n.zG)(t,d.UI((0,W.H5)((e=>e.event))),g),r}))))),i.UI(Y.UI((e=>(e.length>0&&((0,o.HJ)((()=>v(_.current+e.length)),500),(0,o.HJ)((()=>y(b.current+e.length)),5e3)),e))))),I=e=>t=>(0,n.zG)(e,d.hX((e=>{let[r]=e;return!t.closeEventsProcessed.includes(r)})),d.zo(t.queue)),E=(0,n.zG)(i.vP(_,b,w,r,u,s),i.Rp({closeEventsProcessed:d.cS,noQueueItemsProcessed:0,queue:d.cS},((t,r)=>{let[i,a,o,s,u,l]=r;return u?t:(0,n.zG)(t,(0,c.rO)({queue:d.zo(o())}),(t=>l?(0,n.zG)(t,(t=>r=>(0,n.zG)(r,I(t),re(e),(0,c.rO)({right:(0,c.bw)((0,n.ls)(d.UI((0,n.ls)((0,W.H5)((0,c.rO)({time:e=>e.toISOString()})),m.F2)),h))}),(e=>{let{left:t,right:i}=e;return(0,n.zG)(r,(0,c.rO)({closeEventsProcessed:(0,n.zG)(i,d.UI(W.li),d.zo),queue:(0,n.zG)(t.map(W.li),(e=>new Set(e)),(e=>d.hX((t=>{let[r]=t;return e.has(r)})))),noQueueItemsProcessed:e=>e+r.queue.length}))})))(s)):a>t.noQueueItemsProcessed||i===t.noQueueItemsProcessed+t.queue.length?(t=>((0,n.zG)(t.queue,ne(e),V.UI(h))(),{closeEventsProcessed:t.closeEventsProcessed,noQueueItemsProcessed:t.noQueueItemsProcessed+t.queue.length,queue:d.cS}))(t):t))}))),S=(0,n.zG)(r,i.UI(I),i.ap(E),i.D8(d.Eh({equals:(e,t)=>e[0]===t[0]})),i.UI(d.UI((0,W.H5)((0,c.rO)({event:(0,c.rO)({time:ae})})))));return{state:S,value:f}})),Z=(e,t)=>e.permutiveUrls.getEndpointUrl("/batch/events",s.G(e.config.apiVersion),[["enrich",JSON.stringify(t.requiresEnrichment)],["sdkp",JSON.stringify(t.sdkProcessed)]]),ee=e=>(0,n.zG)(e.events,d.UI((0,n.ls)(W.Yg,(e=>e.event)))),te=(0,n.ls)(g.vM((e=>{let[t,r]=e;return`${r.requiresEnrichment}${r.sdkProcessed}`})),(e=>Object.values(e)),d.UI((e=>({requiresEnrichment:e[0][1].requiresEnrichment,events:e,sdkProcessed:e[0][1].sdkProcessed})))),re=e=>(0,n.ls)(te,d.YO("request"),d.Hr("success",(t=>{let{request:r}=t;return e.logger.debug(X,"Uploading via beacon",r),e.permutiveApi.reqWithBeacon({url:Z(e,r),payload:ee(r)})})),d.tS((e=>(0,n.zG)(e.request.events,d.UI((t=>{let[r,{event:i}]=t;return e.success?m.F2((0,n.bc)(r,i)):m.t$((0,n.bc)(r,i))}))))),d.UI((0,c.bw)(m.EQ((t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_fail_count_total",labels:{event_name:r.name},value:1})}),(t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_beacon_success_count_total",labels:{event_name:r.name},value:1})})))),d.oh),ne=e=>t=>(0,n.zG)(te(t),V.uU((t=>(0,n.zG)(t,(e=>t=>(e.logger.debug(X,"Uploading",t),H.Y3((()=>e.permutiveApi.req({payload:ee(t),url:Z(e,t),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1})),(t=>(e.reportError(`Error sending events batch. Got ${m.KC(t)}`),t)))))(e),H.UI(d.UI((e=>e.body))),H.EQ((e=>(0,n.zG)(t.events,d.UI((()=>m.t$(e))))),d.UI(m.F2)),V.UI(d.$R(t.events))))),V.UI(d.tS(d.UI((t=>{let[r,[i,{event:a}]]=t;return(0,n.zG)(r,m.EQ((e=>m.t$((0,n.bc)(i,{event:{...a,time:a.time.toISOString()},error:e}))),(e=>"request_id"in e?m.t$((0,n.bc)(i,{event:{...a,time:a.time.toISOString()},error:e})):m.F2((0,n.bc)(i,{...a,id:e.id,time:e.time})))),(0,c.bw)(m.EQ((t=>{let[,{event:r}]=t;return e.metrics.trackCounter({name:"sdk_event_upload_fail_count_total",labels:{event_name:r.name},value:1})}),(t=>{let[,r]=t;return e.metrics.trackCounter({name:"sdk_event_upload_success_count_total",labels:{event_name:r.name},value:1})}))))}))))),ie=e=>t=>(0,n.zG)(t,i.En(2,d.uZ()),(0,W.H5)(i.UI(Y.UI(e)))),ae=e=>oe(e).toISOString(),oe=e=>{if(null==e)return new Date;if(se(e))return e;const t=new Date(e);return se(t)?t:new Date},se=e=>isFinite(e)&&e instanceof Date,ce=(e,t,r,o)=>(0,n.zG)(a.K4((()=>{const[e,t]=i.Ue(i.a9(Y.of([])));return{eventsToPublishBufferRef:i.xH(e),publishEvents:r=>{(0,n.zG)(i.vP(e.current,r),i.UI(Y.RD),i.UI(Y.UI(d.xH)),t)}}})),a.ak("eventUpload",(t=>{let{eventsToPublishBufferRef:n}=t;return J(e,n,r,o)})),a.ak("eventHandler",(e=>{let{eventUpload:t}=e;return r=t.successEventsAsJSON,o=t.erroredEventsAsJSON,a.K4((()=>{const e=new Q;return(0,n.zG)(r,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,r]=t;return e.newEvent(r,null)}))))),(0,n.zG)(o,i.UI((e=>e())),i.bw((t=>t.forEach((t=>{let[,{event:r,error:n}]=t;return e.newEvent(r,n)}))))),{eventHandlerAfterUpload:e}}));var r,o})),a.ak("eventResolver",(e=>{let{eventUpload:r}=e;return((e,t,r,o)=>a.K4((()=>{(0,n.zG)(i.vP({unresolvedEvents:t,erroredEvents:o,successEvents:r}),i.UI((0,K.Yt)(Y.G5)),i.Rp({},((e,t)=>{const r=t();return(0,n.zG)(r.unresolvedEvents,s.DT(d.Od),s.UI((0,n.ls)(_.sq,(t=>({...e,...t})))),s.fS((()=>e)),(e=>(0,n.zG)(r.successEvents,d.u4(e,((e,t)=>{let[r,i]=t;return(0,n.zG)(_.P5(r,e),s.UI((t=>(t.succeed(i),_.EG(r)(e)))),s.fS((()=>e)))})))),(e=>(0,n.zG)(r.erroredEvents,d.u4(e,((e,t)=>{let[r,{event:i,error:a}]=t;return(0,n.zG)(_.P5(r,e),s.UI((t=>(t.fail(`Failed to track ${i.name}. ${"error"in a?a.error.message:a.message}`),_.EG(r)(e)))),s.fS((()=>e)))})))))})))})))(0,t,r.successEvents,r.erroredEvents)})),a.UI((e=>{let{publishEvents:t,eventHandler:r}=e;return{eventHandlerAfterUpload:r.eventHandlerAfterUpload,publishEvents:t}}))),ue="_pnativo",le=function(e){let{externalData:t}=e;return a.K4((()=>{t.removeExternalData(ue)}))};var pe,de,fe,me,ge,he=-1,_e=function(e){addEventListener("pageshow",(function(t){t.persisted&&(he=t.timeStamp,e(t))}),!0)},ve=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},be=function(){var e=ve();return e&&e.activationStart||0},ye=function(e,t){var r=ve(),n="navigate";return he>=0?n="back-forward-cache":r&&(document.prerendering||be()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},we=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},Ie=function(e,t,r,n){var i,a;return function(o){t.value>=0&&(o||n)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},Ee=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Se=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},ke=function(e){var t=!1;return function(){t||(e(),t=!0)}},Pe=-1,xe=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ge=function(e){"hidden"===document.visibilityState&&Pe>-1&&(Pe="visibilitychange"===e.type?e.timeStamp:0,Ue())},De=function(){addEventListener("visibilitychange",Ge,!0),addEventListener("prerenderingchange",Ge,!0)},Ue=function(){removeEventListener("visibilitychange",Ge,!0),removeEventListener("prerenderingchange",Ge,!0)},Ae=function(){return Pe<0&&(Pe=xe(),De(),_e((function(){setTimeout((function(){Pe=xe(),De()}),0)}))),{get firstHiddenTime(){return Pe}}},ze=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ce=[1800,3e3],Re=[.1,.25],qe=function(e,t){t=t||{},function(e,t){t=t||{},ze((function(){var r,n=Ae(),i=ye("FCP"),a=we("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-be(),0),i.entries.push(e),r(!0)))}))}));a&&(r=Ie(e,i,Ce,t.reportAllChanges),_e((function(n){i=ye("FCP"),r=Ie(e,i,Ce,t.reportAllChanges),Ee((function(){i.value=performance.now()-n.timeStamp,r(!0)}))})))}))}(ke((function(){var r,n=ye("CLS",0),i=0,a=[],o=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>n.value&&(n.value=i,n.entries=a,r())},s=we("layout-shift",o);s&&(r=Ie(e,n,Re,t.reportAllChanges),Se((function(){o(s.takeRecords()),r(!0)})),_e((function(){i=0,n=ye("CLS",0),r=Ie(e,n,Re,t.reportAllChanges),Ee((function(){return r()}))})),setTimeout(r,0))})))},Te=0,Oe=1/0,Me=0,je=function(e){e.forEach((function(e){e.interactionId&&(Oe=Math.min(Oe,e.interactionId),Me=Math.max(Me,e.interactionId),Te=Me?(Me-Oe)/7+1:0)}))},Le=function(){return pe?Te:performance.interactionCount||0},Fe=function(){"interactionCount"in performance||pe||(pe=we("event",je,{type:"event",buffered:!0,durationThreshold:0}))},Ne=[],$e=new Map,Be=0,Qe=[],Ye=function(e){if(Qe.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Ne[Ne.length-1],r=$e.get(e.interactionId);if(r||Ne.length<10||e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===r.entries[0].startTime&&r.entries.push(e);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};$e.set(n.id,n),Ne.push(n)}Ne.sort((function(e,t){return t.latency-e.latency})),Ne.length>10&&Ne.splice(10).forEach((function(e){return $e.delete(e.id)}))}}},Ke=function(e){var t=self.requestIdleCallback||self.setTimeout,r=-1;return e=ke(e),"hidden"===document.visibilityState?e():(r=t(e),Se(e)),r},We=[200,500],He=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},ze((function(){var r;Fe();var n,i=ye("INP"),a=function(e){Ke((function(){e.forEach(Ye);var t=function(){var e=Math.min(Ne.length-1,Math.floor((Le()-Be)/50));return Ne[e]}();t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,n())}))},o=we("event",a,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=Ie(e,i,We,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),Se((function(){a(o.takeRecords()),n(!0)})),_e((function(){Be=Le(),Ne.length=0,$e.clear(),i=ye("INP"),n=Ie(e,i,We,t.reportAllChanges)})))})))},Ve=[2500,4e3],Xe={},Je={passive:!0,capture:!0},Ze=new Date,et=function(e,t){de||(de=t,fe=e,me=new Date,nt(removeEventListener),tt())},tt=function(){if(fe>=0&&fe<me-Ze){var e={entryType:"first-input",name:de.type,target:de.target,cancelable:de.cancelable,startTime:de.timeStamp,processingStart:de.timeStamp+fe};ge.forEach((function(t){t(e)})),ge=[]}},rt=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){et(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,Je),removeEventListener("pointercancel",n,Je)};addEventListener("pointerup",r,Je),addEventListener("pointercancel",n,Je)}(t,e):et(t,e)}},nt=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,rt,Je)}))},it=[100,300];const at=function(e){let t=0;const r=r=>{if(0===t)return;const n=ot(r);n&&e.metrics.track({name:`sdk_web_vitals_${n.suffix}`,labels:{},value:n.value})},o=(0,c.HP)((()=>{qe(r),function(e,t){t=t||{},ze((function(){var r,n=Ae(),i=ye("LCP"),a=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-be(),0),i.entries=[e],r())}))},o=we("largest-contentful-paint",a);if(o){r=Ie(e,i,Ve,t.reportAllChanges);var s=ke((function(){Xe[i.id]||(a(o.takeRecords()),o.disconnect(),Xe[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Ke(s)}),!0)})),Se(s),_e((function(n){i=ye("LCP"),r=Ie(e,i,Ve,t.reportAllChanges),Ee((function(){i.value=performance.now()-n.timeStamp,Xe[i.id]=!0,r(!0)}))}))}}))}(r),function(e,t){t=t||{},ze((function(){var r,n=Ae(),i=ye("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},o=function(e){e.forEach(a)},s=we("first-input",o);r=Ie(e,i,it,t.reportAllChanges),s&&(Se(ke((function(){o(s.takeRecords()),s.disconnect()}))),_e((function(){var n;i=ye("FID"),r=Ie(e,i,it,t.reportAllChanges),ge=[],fe=-1,de=null,nt(addEventListener),n=a,ge.push(n),tt()})))}))}(r),He(r)}));return a.K4((r=>{let{stopped:a}=r;t++,(0,n.zG)(a,i.YP((e=>{e&&t--}))),e.metrics.isEnabled()&&o()}))};const ot=e=>(e=>"CLS"===e.name)(e)?{value:e.value,suffix:`${e.name.toLowerCase()}_score`}:(e=>["INP","FID","LCP"].includes(e.name))(e)?{value:e.value/1e3,suffix:`${e.name.toLowerCase()}_seconds`}:void 0;var st=r(8317);const ct=(e,t)=>{const{activationManager:r,externalData:o,metrics:s,permutiveData:c}=e;return(0,n.zG)(a.of({}),a.ak("psegs",(()=>((e,t)=>a.K4((r=>{let{stopped:a}=r;const o="_psegs";(0,n.zG)(i.vP(t,a),i.YP((t=>{let[r,i]=t;i||(0,n.zG)(r,d.EQ((()=>e.removeExternalData(o)),(t=>e.setExternalJsonData(o,t))))})))})))(e.externalData,t.qlSegments))),a.ak("webVitals",(()=>at(e))),a.ak("nativo",(()=>le({activationManager:r,externalData:o,metrics:s,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("twitterPixel",(()=>(0,st.eJ)({activationManager:r,metrics:s,permutiveData:c,queryLanguageCohorts:t.qlSegments,...t}))),a.ak("prebidJS",(()=>(0,I.dN)(e))))};var ut=r(4838);const lt=()=>{const[e,t]=i.gS(d.uZ());return{trackEvent:e=>{let r,n,{event:i,useBeacon:a}=e;const o=new Promise(((e,t)=>{r=e,n=t}));return t([{localId:(0,c.k$)(),event:i,fail:n,succeed:r,useBeacon:a}]),o},trackedEvents:e}};var pt=r(951);const dt="_ppsts",ft=function(e,t,r){return a.dQ((a=>{let{previousState:o}=a;e.externalData.removeExternalData(dt);const u=n.Q1;return(0,n.zG)(i.vP({consent:r,sessionId:t}),i.Rp((l=o,(0,n.zG)(l,s.DT((e=>Boolean(e&&"object"==typeof e))),s.UI((0,c.rO)({topics:e=>i.a9(s.of(e))})))),((t,r)=>(0,n.zG)(r,s.DT((e=>{let{consent:t}=e;return t})),s.UI((r=>{let{sessionId:a}=r;return(0,n.zG)(t,s.hX((e=>e.sessionId===a)),s.fS((()=>({sessionId:a,topics:i.fF(mt(e))}))))}))))),i.VS(s.EQ((()=>i.a9(s.YP)),(e=>(0,n.zG)(e.topics,i.UI(s.UI((t=>({topics:t,sessionId:e.sessionId})))))))),i.bw(u),(e=>({state:(0,n.zG)(e,i.UI(s.FS)),value:{replacementMap:(0,n.zG)(e,i.UI(s.EQ((()=>({$privacy_sandbox_topics_v2:[]})),(e=>({$privacy_sandbox_topics_v2:e.topics[2]??[]})))),i.UI(s.G))}})));var l}))};const mt=e=>(0,n.zG)(H.Do,H.Hr("span",(()=>e.trace.startSpan("topics_data_retrieval"))),H.ak("message",(()=>H.Y3(gt,(e=>e)))),H.At((e=>{let{span:t}=e;return t.finish})),H.EQ((t=>(e.api.reportError(`Error while registering the topics enricher: got ${t}`),{})),(e=>{let{message:t}=e;return ht(t.value??[])}))),gt=()=>{if(!("browsingTopics"in document))return Promise.resolve({value:void 0});const e="https://cdn.permutive.app/topics.html",t=new URL(e).origin,r=document.createElement("iframe");r.src=e,r.style.display="none",r.browsingtopics=!0;const n=(0,o.t_)(new Promise(((e,n)=>{window.addEventListener("message",(i=>{i.source===r.contentWindow&&i.origin===t&&(i.data.error?n(i.data.error):e(i.data))}))})));return document.body.appendChild(r),n},ht=e=>(0,n.zG)(e,g.vM((e=>e.taxonomyVersion)),pt.UI((e=>e.map((e=>e.topic)))));var _t=r(1129),vt=r(3296);r(6049),r(2327);var bt=r(229);const yt=()=>({equals:(e,t)=>JSON.stringify(e)===JSON.stringify(t)}),wt=e=>{let{consent:t,pageviewProperties:r,pageUrl:a,permutiveApi:o,permutiveUrls:c,viewId:u}=e;const l=(0,n.zG)(r,i.UI(s.NG((e=>e.client?.url))),i.D8(s.Eh(bt.Eq))),p=(0,n.zG)(u,i.VS((()=>i.fF(a))),i.D8(s.Eh(bt.Eq))),d=(0,n.zG)(i.vP(l,p),i.UI((e=>{let[t,r]=e;return(0,n.zG)(t,s.wp((()=>r)))})),i.D8(s.Eh(bt.Eq))),f=(0,n.zG)(i.vP(t,d),i.VS((e=>{let[t,r]=e;return t?(0,n.zG)(r,s.UI((0,n.ls)(Et(o,c),V.UI(m.fS((()=>It()))),i.fF)),s.fS((()=>i.a9(s.bM())))):i.fF(V.of(It()))})),i.D8(s.Eh(yt())));return(0,n.zG)(i.vP(d,r,f,t),i.UI((e=>{let[t,r,i,a]=e;return(0,n.zG)((0,K.gz)(s.g1)(t,r,i,s.lo(a)),s.hX((e=>{let[t,r,n]=e;return n.requires_segmentation})),s.UI((e=>{let[t,r]=e;return{url:t,page_properties:r}})))})),i.D8(s.Eh(yt())),i.UI(s.UI(St(o,c))),i.YP(s.UI((e=>e())))),{contextualAddon:s.YP,response:(0,n.zG)(f,i.UI(s.UI((e=>{let{requires_segmentation:t,...r}=e;return r}))))}},It=()=>({activations:{},cohorts:[],contextual_data:{classifications:{}},requires_segmentation:!1}),Et=(e,t)=>r=>H.Y3((()=>e.req({url:t.getEndpointUrl("/ctx/v1/state",s.YP,[["url",r]]),method:"GET",dataType:"json",withCredentials:!1})),(e=>`Failed to GET contextual data: ${e}`)),St=(e,t)=>r=>H.Y3((()=>e.req({url:t.getEndpointUrl("/ctx/v1/segment",s.YP),method:"POST",payload:r,contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to GET contextual data: ${e}`)),kt=e=>({enrichedEvents:(0,n.zG)(e.events,i.UI(Y.UI(d.UI(xt)))),replacementMap:(0,n.zG)(e.contextualData,i.UI(s.UI((e=>({[Gt]:e})))))}),Pt=["Pageview","PageviewEngagement"],xt=e=>Pt.includes(e.event.name)?{...e,event:{...e.event,properties:{...e.event.properties,contextual:Gt}}}:e,Gt="$contextual",Dt=e=>{const[t,r]=(0,n.zG)(e.events,i.En(2,d.uZ())),a=(0,n.zG)(Ut(e.viewId,r),i.UI(s.UI((e=>e.properties)))),{contextualAddon:o,response:c}=(u={...e,pageviewProperties:a},wt(u));var u;const l=i.D8(s.Eh(d.Eh(bt.Eq))),p=(0,n.zG)(c,i.UI(s.UI((e=>e.contextual_data))),i.D8(yt())),{enrichedEvents:f,replacementMap:m}=(e=>kt(e))({events:t,contextualData:p});return{activations:{gam:(0,n.zG)(c,i.UI(s.UI((e=>e.activations?.target_dfp??[]))),l),xandr:(0,n.zG)(c,i.UI(s.UI((e=>e.activations?.appnexus_adserver??[]))),l),adswizz_keyvalue:(0,n.zG)(c,i.UI(s.UI((e=>e.activations?.adswizz_keyvalue??[]))),l)},cohorts:(0,n.zG)(c,i.UI(s.UI((e=>e.cohorts??[]))),l),contextualAddon:o,data:p,enrichedEvents:f,replacementMap:m}},Ut=(e,t)=>{const r=(0,n.zG)(t,i.UI((e=>(0,n.zG)(e(),d.dF((e=>"Pageview"===e.event.name))))),i.u4(((e,t)=>(0,n.zG)(t,s.wp((()=>e))))),i.UI(s.UI((e=>e.event))));return(0,n.zG)(i.vP(e,r),i.UI((e=>{let[t,r]=e;return(0,n.zG)(r,s.hX((e=>e.view_id===t)))})))},At=e=>{const t=e=>{if("number"==typeof e&&!Number.isNaN(e))return e;throw new Error("Received unexpected "+(Number.isNaN(e)?"NaN":"type "+typeof e))},r=e=>Math.max(0,t(e)/1e3);return{compressed:!!e.decodedBodySize&&e.decodedBodySize!==e.encodedBodySize,decoded_body_size:t(e.decodedBodySize),dns_lookup_duration:r(e.domainLookupEnd-e.domainLookupStart),encoded_body_size:t(e.encodedBodySize),fetch_duration:r(e.responseEnd-e.fetchStart),fetch_end:r(e.responseEnd),fetch_start:r(e.fetchStart),redirect_duration:r(e.redirectEnd-e.redirectStart),request_duration:r(e.responseStart-e.requestStart),retrieved:zt(e),service_worker_duration:r(0===e.workerStart?0:e.fetchStart-e.workerStart),start_time:r(e.startTime),tcp_handshake_duration:r(e.connectEnd-e.connectStart),total_duration:r(e.duration),tls_negotiation:r(e.requestStart-e.secureConnectionStart),transfer_duration:r(e.responseEnd-e.requestStart),transfer_size:t(e.transferSize)}},zt=e=>0===e.transferSize?"cache":e.transferSize>e.encodedBodySize?"network":"revalidate";s.YP,i.a9(s.YP),i.a9([]),i.a9([]),i.a9([]),i.a9(ut.b()),i.a9(s.YP),i.a9({segmentsEntered:[],segmentsExited:[]}),i.a9(!1),i.a9((e=>{let{event:t}=e;return Promise.resolve(t)})),new Q,i.a9(s.YP),i.a9(!1);function Ct(e,t,r){const{addonsLoaded:u,consent:l,currentTimestampSecs:p,enabledAddons:f,identities:h,sdkVariant:_,sessionId:v,userId:b,userIdIsNewlyGenerated:y,viewId:w,pageviewState:I}=t,[E,S]=(0,n.zG)(i.Ue(i.a9(d.cS)),(e=>{let[t,r]=e;return[i.xH(t),r]})),k=s.ij(e.permutiveData.getData("event-source-id")),x=(0,n.zG)(b,i.Rp(-1,(e=>e+1)),i.UI((t=>(0,n.zG)(k,s.hX((()=>0===t)),s.fS((()=>{const t=(0,c.k$)();return e.permutiveData.setData("event-source-id",t),t}))))));return(0,n.zG)(a.vP({computeTimeMetrics:(G=e.metrics,a.K4((e=>{let{stopped:t}=e;const r=(0,o.HJ)((()=>{(0,n.zG)((0,o.iE)(),(0,c.bw)((()=>(0,o.ho)(!1))),d.UI((e=>{let[t,r]=e;return(r-t)/1e3})),(e=>{G.track({name:"sdk_ui_thread_compute_first10s_total_seconds",value:e.reduce(((e,t)=>e+t),0),labels:{}}),G.track({name:"sdk_ui_thread_compute_first10s_total_task_overrun_seconds",value:(0,n.zG)(e,d.hX((e=>e>.05)),d.UI((e=>e-.05)),d.u4(0,((e,t)=>e+t))),labels:{}}),G.track({name:"sdk_ui_thread_compute_first10s_longest_task_seconds",value:Math.max(0,...e),labels:{}})}))}),1e4);(0,n.zG)(t,i.YP((e=>e&&r())))}))),privacySandboxTopics:ft(e,v,l)}),a.UI((t=>{const{reset:r,trackEvent:a,trackedEvents:o}=((e,t)=>{const[r,a]=i.Ue(0),o=(0,n.zG)(i.vP(r,t),i.UI((()=>[]))),s=(0,n.zG)(i.vP(o,e),i.D8(((e,t)=>{let[,r]=e,[,n]=t;return r===n})),i.UI((e=>{let[t]=e;const r=lt();return t.forEach(r.trackEvent),r})));return{reset:()=>a(r.current+1),trackEvent:(0,n.zG)(i.vP(s,o),i.UI((e=>{let[t,r]=e;return e=>(r.push(e),t.trackEvent(e))}))),trackedEvents:(0,n.zG)(s,i.VS((e=>e.trackedEvents)))}})(b,w),{enrichedEvents:s,...c}=(e=>Dt(e))({consent:l,events:o,logger:e.logger,pageUrl:(0,n.zG)((()=>e.clientContext.getClientAsync()),V.UI((e=>e.url))),permutiveApi:e.permutiveApi,permutiveUrls:e.permutiveUrls,viewId:w}),[u,p,f]=(0,n.zG)(s,i.En(3,d.uZ()));return{...t,contextual:c,reset:r,trackEvent:a,unresolvedEvents:(0,n.zG)(u,i.UI(Y.UI(d.UI((e=>(0,n.bc)(e.localId,{fail:e.fail,succeed:e.succeed})))))),eventsToProcessLocally:(0,n.zG)(p,i.UI(Y.UI(d.hX((e=>!e.useBeacon))))),eventsToUploadViaBeacon:(0,n.zG)(f,i.UI(Y.UI(d.hX((e=>e.useBeacon)))))}})),a.ak("eventPublication",(r=>{let{unresolvedEvents:n}=r;return ce(e,n,E,t.sdkClosing)})),a.Hr("enrichmentReplacementMap",(e=>{let{contextual:t,privacySandboxTopics:r}=e;return(0,n.zG)(i.vP(t.replacementMap,r.replacementMap),i.UI((e=>{let[t,r]=e;return(0,K.gz)(s.g1)(t,r)})),i.UI(s.UI((e=>{let[t,r]=e;return{...t,...r}}))))})),a.ak("core",(o=>{let{contextual:c,enrichmentReplacementMap:u,eventPublication:f,eventsToProcessLocally:m}=o;return(0,n.zG)(r({contextualCohorts:(0,n.zG)(i.vP(c.cohorts,c.activations.gam,c.activations.xandr,c.activations.adswizz_keyvalue),i.UI(s.RD),i.UI(s.UI((e=>{let[t,r,n,i]=e;return{all:t,gam:r,xandrSsp:n,adswizz_keyvalue:i}})))),consent:l,currentTimestampSecs:p,enrichmentReplacementMap:u,eventSourceId:x,identities:h,newEvents:(0,n.zG)(m,i.UI(Y.UI(d.UI((e=>(0,n.bc)(e.localId,e.event)))))),sessionId:v,userId:b,userIdIsNewlyGenerated:y,viewId:w,webClient:t.webClient,pageviewState:I}),a.bw((e=>{let{eventsToPublish:t}=e;return(0,n.zG)(t,i.UI(Y.UI(Rt)),f.publishEvents)})),a.bw((e=>{let{eventsToPublishOnPageUnload:t}=e;return(0,n.zG)(t,i.UI(Rt),S)})),a.bw((t=>{let{externalData:r}=t;return(0,n.zG)(r,i.UI((t=>(0,n.zG)(Object.entries(t),d.UI((t=>{let[r,i]=t;return(0,n.zG)(i,s.EQ((()=>e.externalData.removeExternalData(r)),(t=>e.externalData.setExternalJsonData(r,t))))}))))))})),a.bw((t=>{let{context:r}=t;return(0,n.zG)(r,i.UI((t=>{const r=Object.entries(t);e.clientContext.updateContext(...r)})))})))})),a.bw((e=>{let{core:r,eventPublication:a,eventsToUploadViaBeacon:o}=e;return(0,n.zG)(i.vP({cohorts:r.cohorts.all,eventsIO:o,segments:r.cohorts.ql,sessionId:v,userId:b,viewId:w,webClient:t.webClient}),i.UI((e=>{let{webClient:t,...r}=e;return(0,n.zG)(t,s.UI((e=>({...r,webClient:e}))))})),i.UI(s.EQ((()=>Y.of(d.bM())),(e=>{let{cohorts:t,eventsIO:r,segments:i,sessionId:a,userId:o,viewId:s,webClient:c}=e;return(0,n.zG)(r,Y.UI(d.UI((e=>{let{event:r,localId:u}=e;return(0,n.bc)(u,{requiresEnrichment:!0,sdkProcessed:!1,event:{user_id:o,name:r.name,segments:i,cohorts:t,properties:{...r.properties,client:{...c,...r.properties.client??{}}},session_id:a,time:new Date,view_id:s}})}))))}))),a.publishEvents)})),a.ak("metricContext",(e=>{let{core:r}=e;return(0,n.zG)(r.geoIP,i.UI(s.tS((e=>s.ij(e.geo_info)))),(e=>ut.X({geoInfo:e,sampleRate:t.metricSampleRate,sdkVariant:_,sessionId:v,userId:b,viewId:w})))})),a.ak("sdkql",(t=>{let{core:r}=t;return ct(e,{addonsLoaded:u,consent:l,initdAddons:f,qlSegments:r.cohorts.ql})})),a.ak("strategicPartnerships",(t=>{let{sdkql:r}=t;return((e,t)=>a.vP({prebid_identifiers:F(e,t)}))(e,{pbjs:(0,n.zG)(r.prebidJS,i.UI((e=>(0,n.zG)(e.mainPair,s.UI((e=>e.pbjs))))))})})),a.ak("mediaAndEntertainment",(t=>{let{core:r}=t;return((e,t)=>(0,n.zG)(a.vP({freewheel:N({activationManager:e.activationManager,externalData:e.externalData,...t})}),a.UI((0,n.a9)({}))))(e,{addonsLoaded:u,consent:l,initdAddons:f,queryLanguageCohorts:r.cohorts.ql})})),a.ak("advertisers",(t=>{let{sdkql:r}=t;return((e,t)=>(0,n.zG)(a.of(t),a.ak("prebidMonitoring",(t=>{let{consent:r,prebidJS:n}=t;return P(e,i.vP({consent:r,prebidJS:n}))})),a.ak("videoPlayerMonitoring",(t=>{let{consent:r}=t;return L(e,{consent:r})})),a.UI(n.Q1)))(e,{consent:l,prebidJS:r.prebidJS})})),a.ak("identityManager",(t=>{let{core:r}=t;return(0,_t.u6)({...e,consent:l,tcfApiStatus:(0,vt.SD)(window,e.logger).tcfApiStatusRef,currentTimestampSecs:p,geoIP:r.geoIP},h)})),a.bw((function(){(0,n.zG)((0,K.gz)(s.G5)(e.performance,(0,n.zG)(t.currentScript,s.UI((e=>e.src)),s.hX((e=>"string"==typeof e)))),s.UI((r=>{let[i,a]=r;var o;(o={consent:t.consent,logger:e.logger,metrics:e.metrics,name:a,performance:i}).consent.current&&o.metrics.isEnabled()&&(0,n.zG)(g.nI(o.performance.getEntriesByName(o.name,"resource")),s.UI(g.YM),s.hX((e=>self.PerformanceResourceTiming&&e instanceof self.PerformanceResourceTiming)),s.fX((e=>m.Y3((()=>At(e)),(0,c.bw)((t=>o.logger.warn("[resource timing] Failed to compute labels",{error:t,entry:e})))))),s.UI((e=>{const{total_duration:t,...r}=e;o.metrics.track({name:"sdk_resource_timing_seconds",value:t,labels:{...r,name:o.name}})})))})))})),a.UI((e=>{let{core:t,contextual:r,metricContext:n,sdkql:a,trackEvent:o,eventPublication:s,strategicPartnerships:c,identityManager:u,reset:l}=e;return{activations:{dfp:i.UI((e=>e.dfp),t.activations),dfp_contextual:i.UI((e=>e.dfp_contextual),t.activations),xandr_ssp:i.UI((e=>e.xandr_ssp),t.activations),xandr_ssp_contextual:i.UI((e=>e.xandr_ssp_contextual),t.activations),adswizz_keyvalue:i.UI((e=>e.adswizz_keyvalue),t.activations),adswizz_keyvalue_contextual:i.UI((e=>e.adswizz_keyvalue_contextual),t.activations)},addons:{contextual:r.contextualAddon,identityManager:u,secureSignal:t.secureSignal},metricContext:n,pbjsPair:i.UI((e=>e.mainPair),a.prebidJS),queryLanguageCohorts:{all:t.cohorts.ql,custom:t.cohorts.qlCustom,standard:t.cohorts.qlStandard},segmentTransitionsSinceInit:t.transitionsSinceInit,trackEvent:o,realtime:t.realtime,eventHandlerAfterUpload:s.eventHandlerAfterUpload,prebidIdentifiers:c.prebid_identifiers,reset:l,stateMigratedThisInitialisation:t.stateMigratedThisInitialisation}})));var G}const Rt=d.UI((0,W.H5)((e=>({event:e,requiresEnrichment:!1,sdkProcessed:!0}))));function qt(e){return(0,n.ls)((0,c.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch{return{}}}}),e,(0,c.rO)({state:i.UI(JSON.stringify)}))}function Tt(e){const t=function(e){const{activationManager:t,api:r,clientContext:n,config:i,externalData:a,logger:o,metrics:c,permutiveData:u,network:l,urls:p,namespace:d,trace:f}=e;return{activationManager:t,api:r,clientContext:n,config:i,externalData:a,logger:o,metrics:c,performance:s.ij(self.performance),permutiveData:u,permutiveApi:l,permutiveUrls:p,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.reportError(e,t?.userId,t?.timestamp)},namespace:d,trace:f}}(e),r=function(e){const t={addonsLoaded:e.addonsLoaded,currentScript:e.currentScript,consent:(r=e.consentTracking,(0,n.zG)(r,s.EQ((()=>i.a9(!0)),(e=>e.consentRef)))),currentTimestampSecs:l(),enabledAddons:u(e),identities:e.identities,sdkClosing:p(),metricSampleRate:e.config.metricsSamplingPercentage/100,sdkVariant:s.ij(e.sdkVariant),sessionId:i.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,userIdIsNewlyGenerated:e.userId.isNewlyGenerated,viewId:e.viewId.ref,pageviewState:e.pageviewState,webClient:e.webClient};var r;return t}(e);return function(e,t,r,s){const u=5e3;return(0,n.zG)(e,function(e,t){return r=>a=>{const{value:s,state:c}=r(a),[u,l]=i.Ue(c.current),p=(0,o.UM)((()=>l(c.current)),e),d=(0,n.zG)(i.vP(c,u),i.UI((e=>{let[t,r]=e;return t===r})));return(0,n.zG)(t,i.bw((e=>e&&p()))),{value:(0,n.bc)(d,s),state:(0,n.zG)(i.vP(t,c,u),i.UI((e=>{let[t,r,n]=e;return t?r:n})))}}}(u,s),qt,function(e){return t=>(0,n.ls)((0,c.rO)({previousState:t=>e.current?t:void 0}),t,(0,c.rO)({state:(0,n.ls)((t=>i.vP(e,t)),i.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}(r),function(e){return t=>(0,n.ls)((0,c.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,c.rO)({state:(0,c.bw)(i.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t),a.UI((e=>{let[t,r]=e;return r})))({stopped:i.a9(!1)}).value}(Ct(t,r,e.core),e.namespace.getNamespacedStorageKey("permutive-app"),r.consent,r.sdkClosing)}},9003:(e,t,r)=>{r.d(t,{B9:()=>m,iq:()=>p,ti:()=>h});var n=r(5654),i=r(842),a=r(7144),o=r(8236),s=r(2169),c=r(4659),u=r(2059);const l="__permutive.",p="__permutiveConfigQueryParams";const d={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",apiProtocol:"https",cdnBaseUrl:"cdn.permutive.com",cdnProtocol:"https",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataQueriesKey:"permutive-data-queries",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"0cf17917-395b-4f25-91cc-db3bdd6044b0.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:[],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0},secureSignalsApiHost:"secure-signals.permutive.app",prebidAuctionsRandomDownsamplingThreshold:.9},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},f=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},r={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0,prebidAuctionsRandomDownsamplingThreshold:!0};return Object.keys(e).reduce(((n,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return{...n,[i]:t}}if(r.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?n:{...n,[i]:t}}return{...n,[i]:e[i]}}),{})},m=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[r,n]=t;if(!(0===r.indexOf(l)))return e;const i=r.replace(l,"");return[...e,[i,n]]}),[]);return(0,s.zG)(a.Y3((()=>(0,s.zG)(e(),t,(e=>(0,c.m8)(...e)),f,(e=>g({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,n.w)(e).message}`)))},g=e=>{let{queryConfig:t}=e;const r=(0,s.zG)(o.Y3((()=>window.sessionStorage.getItem(p))),o.tS(o.ij),o.tS((0,s.ls)(i.A,o.ij)),o.fS((()=>({}))));return(0,c.PM)(r,t)},h=(e,t)=>{const r=(e.environment&&d[e.environment])??{};return(0,c.PM)(d.default,r,e,t)}},4459:(e,t,r)=>{r.d(t,{v:()=>n});const n=(e,t,r)=>function(){const n=r()?t:e;return n(...arguments)}},1113:(e,t,r)=>{r.d(t,{S:()=>h});var n=r(2169),i=r(8236),a=r(9912),o=r(7721),s=r(680),c=r(4432),u=r(4659);class l{wait_prev;block_next;task;started;complete;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var p=r(2725),d=r(3726);r(2478);class f{logger;api;activationManager;sessionManager;metrics;viewId;userId;network;clientContext;unprocessedEvents;taskQueue;identities;permutiveReset;messages;addons;trace;permutiveRealtime;state;customProperties;config;permutiveData;externalData;cookies;identitiesIngestor;global;nextGen;pageviewState;tcf;initialisedAddons=[];constructor(e,t,r,n,i,a,o,s,c,u,l,p,d,f,m,g,h,_,v,b,y,w,I,E,S,k,P,x){this.logger=e,this.api=t,this.activationManager=r,this.sessionManager=n,this.metrics=i,this.viewId=a,this.userId=o,this.network=s,this.clientContext=c,this.unprocessedEvents=u,this.taskQueue=l,this.identities=p,this.permutiveReset=d,this.messages=f,this.addons=m,this.trace=g,this.permutiveRealtime=h,this.state=_,this.customProperties=v,this.config=b,this.permutiveData=y,this.externalData=w,this.cookies=I,this.identitiesIngestor=E,this.global=S,this.nextGen=k,this.pageviewState=P,this.tcf=x}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const r=(0,u.b2)(),{left:o,right:c}=this.identities.parseCustomerDefinedIdentities(e);if(o.length>0)throw new Error(o.join(" "));const d={...this.identities.getIdentitiesMap(),...c.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return{...e,[r]:{id:n,...void 0!==i?{priority:i}:{},...void 0!==a?{expiry:a}:{}}}}),{})},f=(0,n.zG)(Object.values(d),a.DZ((e=>i.ij(e.id)))),m=this.identities.getPrioritizedIdentities(d);if("string"==typeof e&&(0,s.Bt)("5dc35e4e-c442-405b-bf5f-5c2b8824b0cf","0cf17917-395b-4f25-91cc-db3bdd6044b0",f,window.location.hostname,this.userId.get()))return r.resolve(),r.promise;const g=async e=>{await(0,p.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,reset:this.permutiveReset,userId:this.userId},e.user_id)};return this.taskQueue.add(new l((async e=>{this.logger.debug("<task> identify",c);const n=async()=>{this.logger.log(t,"request identity");const e=await this.api.identify(this.metrics,this.userId,m);this.userId.isEqual(e.user_id)?this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),await g(e))};this.identities.setIdentities(c).identifyRequestRequired()?await n():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",c),e(),r.resolve(),await this.identitiesIngestor.ingestIfEligible(c).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}),{wait_prev:!0,block_next:!0})),r.promise}on(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!1})}once(e,t){return this.nextGen.eventHandlerAfterUpload.addListener({name:e,callback:t,once:!0})}pageviewTracked=!1;track(){const[e,t,r]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],n=this.trace.startSpan(`track("${e}")`);this.logger.log("<call> track",e);const i=(0,u.b2)();this.pageviewTracked||"Pageview"!==e||(this.pageviewTracked=!0,this.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"pageview_tracked",time_origin:"sdk_init"})),this.metrics.trackCounter({name:"sdk_event_track_count_total",labels:{event_name:e},value:1}),i.promise.then((()=>{this.metrics.trackCounter({name:"sdk_event_track_success_count_total",labels:{event_name:e},value:1}),n.finish()}),(()=>{this.metrics.trackCounter({name:"sdk_event_track_fail_count_total",labels:{event_name:e},value:1}),n.finish()}));const a=r.unprocessedData??{},o=a.sessionId??this.sessionManager.getSessionId(),s=a.viewId??this.viewId.get(),c={success:r.success||(e=>{}),error:r.error||((e,t)=>{})};return this.taskQueue.add(new l((n=>{this.logger.log("<task> track",e);return(a.client?Promise.resolve(a.client):this.clientContext.getClientAsync()).then((a=>{const l={name:e,properties:{...t,client:t.client?(0,u.PM)(a,t.client):a},session_id:o,view_id:s,time:new Date};return this.nextGen.trackEvent.current({event:l,useBeacon:r.useBeacon??!1}).then((e=>{this.logger.log("<done> track",l.name),c.success(e),i.resolve(l),n()})).catch((e=>{c.error(e),this.api.reportError(e,this.userId.get()),i.reject(e)}))}))}))),i.promise}trigger(e,t,r){const n=(0,u.b2)();this.logger.log("<call> trigger",e);const i=t=>(i,a)=>{if(i.properties.segment_number===e){const o={result:t};this.logger.debug("<fire> trigger",{event:i,error:a,segmentCode:e,payload:o}),r(o),n.resolve(o)}};return this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentEntry",callback:i(!0),once:!1}),this.nextGen.eventHandlerAfterUpload.addListener({name:"SegmentExit",callback:i(!1),once:!1}),this.logger.log("<done> trigger",e),n.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const r=(0,u.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new l((n=>{this.logger.log("<task> segment",e);const i=this.nextGen.queryLanguageCohorts.all.current.includes(e)||!1;t(i),r.resolve(),this.logger.log("<done> segment",e),n()}))),r.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const r=(0,u.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new l((n=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),r.resolve(i),this.logger.log("<done> segments ("+t+")"),n()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),r.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.nextGen.reset(),this.userId.reset()]).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){this.logger.debug("[Addon]",`Called for ${e}`,t);const a={...t,permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen,identities:this.identities,pageviewState:this.pageviewState,tcf:this.tcf},s=(0,n.zG)(this.nextGen.pbjsPair,o.UI(i.UI((0,u.vg)("pbjs")))),l=e=>{this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e)};if("contextual"===e&&i.pC(this.nextGen.addons.contextual))return"contextual"in this.addons||(l(e),this.addons.contextual=this.nextGen.addons.contextual.value),this.addons.contextual(t),this.addons.contextual;if(-1===this.initialisedAddons.indexOf(e)){if(l(e),"ctv"===e)return this.addons.ctv=d.makeCtvAddonFactory(a);switch(e){case"web":Promise.resolve().then(r.bind(r,4446)).then((e=>this.addons.web=new e.WebAddon(a))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"overlays":case"scriptrunner":case"nativo":case"freewheel":case"facebook_pixel_v2":case"tiktok_pixel":case"eyeota_pixel":case"rubicon":case"tracking_pixel":case"twitter_pixel":case"pinterest_pixel":case"prebid":case"classification_models":case"gam_log":case"smart":case"tradedesk":case"ddp":case"dbm":case"pubmatic":0;break;case"dfp":Promise.resolve().then(r.bind(r,5058)).then((async e=>this.addons.dfp=await e.createAddon(a)));break;case"rubicon_ssp":Promise.resolve().then(r.bind(r,1756)).then((e=>this.addons.rubicon_ssp=new e.RubiconSspAddon(a)));break;case"local_storage":Promise.resolve().then(r.bind(r,6036)).then((e=>this.addons.local_storage=new e.LocalStorageAddon(a)));break;case"appnexus_adserver":Promise.resolve().then(r.bind(r,3580)).then((e=>this.addons.appnexus_adserver=new e.AppNexusAdServerAddon(a)));break;case"clean_room":Promise.resolve().then(r.bind(r,9412)).then((e=>this.addons.clean_room=new e.CleanRoomAddon));break;case"prebid_analytics":Promise.resolve().then(r.bind(r,8356)).then((e=>{this.addons.prebid_analytics=new e.PrebidAnalyticsAddon({...a,pbjs:s,prebidIdentifiers:this.nextGen.prebidIdentifiers})}));break;case"appnexus":Promise.resolve().then(r.bind(r,7055)).then((e=>this.tcf.registerVendorOnValidConsent("appnexus",(t=>this.addons.appnexus=new e.AppnexusPixel({...a,tcfStatus:t})))));break;case"ssp":Promise.resolve().then(r.bind(r,1959)).then((e=>this.addons.ssp=new e.SspAddon(a)));break;case"amazon_publisher_services":(0,n.zG)(i.YP,i.UI((e=>this.addons.amazon_publisher_services=e)));break;case"adswizz_keyvalue":(0,n.zG)(i.YP,i.UI((e=>this.addons.adswizz_keyvalue=e)))}}else if("web"===e&&!0!==t.auto_init)(0,c.p)((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())}));else{if("ctv"===e&&!0!==t?.auto_init)return this.addons.ctv=d.makeCtvAddonFactory(a);"appnexus_adserver"===e&&!0!==t?.auto_init&&this.addons.appnexus_adserver&&this.addons.appnexus_adserver.reset()}}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const r=(0,u.b2)(),n=()=>{e(),r.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?n():this.messages.on("permutive:ready",n);break;case"realtime":this.permutiveRealtime.isRealtime()?n():this.messages.once("permutive:realtime",n)}return r.promise}}var m=r(4459);const g=e=>{const{logger:t,consentTracking:r}=e,i=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),r.isRevoked()&&this.consentRevoked(),r.listenForConsent((()=>this.consentRevoked()),n.Q1)}async consentRevoked(){return await this.sessionManager.reset(),this.reset()}track=(()=>(0,m.v)(super.track.bind(this),i,r.isRevoked))()}},h=(e,t,r,i,a,o,s,c,u,l,p,d,m,h,_,v,b,y,w,I,E,S,k,P,x,G,D,U,A)=>new((0,n.zG)(f,g({consentTracking:G,logger:e})))(e,t,r,i,a,o,s,c,u,l,p,d,m,h,_,v,b,y,w,I,E,S,k,P,x,D,U,A)},2725:(e,t,r)=>{r.d(t,{Yj:()=>c,TZ:()=>s});var n=r(5654),i=r(4659);var a=r(680);const o=async e=>{await e.identities.thirdParty,await function(e,t){return(0,a.Bt)("5dc35e4e-c442-405b-bf5f-5c2b8824b0cf","0cf17917-395b-4f25-91cc-db3bdd6044b0",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=await function(e){const t=e.trace.startSpan("identify");0;return(async e=>{const t="[Identify Init]",{logger:r,api:n,userId:a,identities:o,metrics:s,identitiesIngestor:c,messages:u,sessionManager:l}=e,p=await o.thirdParty,d=o.extractIdentifyFromQueue(e),f={...o.getIdentitiesMap(),...d.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return{...e,[r]:{id:n,...a?{expiry:a}:{},...void 0!==i?{priority:i}:{}}}}),{})},m=o.setIdentities(Object.entries(f).map((e=>{let[t,{id:r,priority:n,expiry:i}]=e;return{tag:t,id:r,...i?{expiry:i}:{},...void 0!==n?{priority:n}:{}}})));o.setReady();const g=o.getPrioritizedIdentities(f);r.log("Begin identification");const h=e.sessionCount>1&&l.sessionHasChanged()||p.identifyRequestRequired()||m.identifyRequestRequired()?await(r.debug(t,"request identity"),n.identify(s,a,g).then((e=>{const n=e.user_id;return a.isEqual(n)?{identityChanged:!1}:(r.debug(t,"fetch received new user id",n),{identityChanged:!0,userId:n})})).catch((e=>(n.reportError(`${t} Fetch failed. Got ${e}`,a.get()),{identityChanged:!1}))).then((0,i.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(r.debug(t,"skip request"),{identityChanged:!1});return c.ingestIfEligible(g).catch((e=>n.reportError(`Couldn't ingest identities, got ${e}`,h.identityChanged?h.userId:a.get()))),u.emit("permutive:user:ready"),r.debug(t,"result",h),h})(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,n.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?await c(e,t.userId):e.logger.log("Identity has not changed"),t},s=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};o(e).then(t),u(e.global,e.clientContext)};async function c(e,t){e.logger.log("Identity has changed"),await e.reset.reset(),e.userId.set(t),u(e.global,e.clientContext),e.identities.setIdentities([])}function u(e,t){return e.context=t.getContext()}},62:(e,t,r)=>{function n(e,t,r,n){n.debug("set SDK as ready"),e.emit("permutive:api:ready"),e.emit("permutive:queries:initialised"),t.track({name:"sdk_local_storage_byte_total",value:r.getStateSizeInBytes(),labels:{}}),n.warn("sdk_query_states_byte_total metric needs re-implementing")}r.d(t,{R:()=>n})},2734:(e,t,r)=>{r.d(t,{LA:()=>s});var n=r(9912),i=r(856),a=r(4659);const o=(e,t,r)=>{let{api:n,state:i}=r;n.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function s(e,t,r,n,i,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:p;const u=c(e),l=a.startSpan("queued_methods"),d={api:i,state:t},f=e=>{if(e.functionName in r){r[e.functionName].apply(n,e.arguments)}else o(new Error("Does not exist."),e,d)},m=e=>!s.includes(e);u.forEach((e=>{try{m(e.functionName)&&f(e)}catch(t){const r=t instanceof Error?t:new Error("Unknown error.");o(r,e,d)}})),l.finish()}function c(e){const t=(0,n.uK)((e=>-1!==l.indexOf(e.functionName)))(e),r=t.right,o=t.left.filter((e=>"consent"!==e.functionName)),s=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(d).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(l).compare(e.functionName,t.functionName)));return(0,n.DY)(s)(r).concat(o)}const u=e=>"addon"===e.functionName,l=["identify","trigger","addon","track"],p=["identify"],d=["dfp","appnexus_adserver","web"]},3717:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initialiseWebSDK:()=>initialiseWebSDK});var _permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(5654),fp_ts_Option__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(8236),fp_ts_Either__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(7144),fp_ts_function__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2169),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(132),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7721),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3897),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(680),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(100),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(8872),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4335),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2478),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9409),_sdkql_event_collection_events_cache_store_crypto_SHA256Digest__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6927),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8970),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(9630),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6915),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(5416),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(5332),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6110),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(5147),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2939),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3296),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(7665),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(1841),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3631),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(4659),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(822),_Config__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9003),_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2725),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(62),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2734),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(1113),_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6143),fp_ts_Task__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(7226),main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(3564),main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(8955);const prefix="[Initialisation Web]",initialiseWebSDK=_ref=>{let{cookieStore,clientContext,currentScript,consentModule,core,externalData,localStorage,logger,messages,metrics,namespace,pageviewState,partialTagWithKey,permutiveData,sessionManager,tag,trace,configFromQueryParams,urls,userId}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((async()=>{const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(pageviewState.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((e=>e.viewId)),(e=>new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_23__.W(e))),network=new main_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__.E(logger,metrics),sessionStorage=(0,main_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_19__.u)(namespace,logger,consentModule.consentTracking.consentRef),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_14__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_14__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_24__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_14__.iq)}))),window[windowKey].consent=consentValidation;const createInternalsSpan=trace.startSpan("internals");(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e])))),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(userId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["user_id",e]))));const api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_11__.F(urls,config,network,metrics,logger),tcf=(0,_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_9__.SD)(window,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger,tcf},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_25__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_26__.u(trace,metrics,messages),unprocessedArgs={consent:consentTracking.consentRef,logger,namespace},unprocessedEvents={PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_27__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_7__.X,permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_28__.a(config,localStorage,logger,permutiveData,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_13__.i(messages),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_3__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),webClient=(()=>{const[e,t]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(Date.now());return(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.UM)((()=>t(Date.now())),1e3),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(viewId.ref,e),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI((()=>clientContext.getClient())),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e===t||JSON.stringify(e)===JSON.stringify(t))))})(),eventCacheStoreFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.N1)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,1527))),String),trace.traceTask("import-DBStore-main-thread"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.UI)((e=>{let{DBStore:t}=e;return new t((0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_29__.E)(namespace,logger,consentTracking.consentRef))}))),eventsCacheFactory=()=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.Y3)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,9862))),String),trace.traceTask("import-events-cache"))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_21__.tS)((e=>{let{EventsCache:t}=e;return(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(t.initialise(config,logger,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};api.reportError(e,t?.userId,t?.timestamp)}),trace,metrics,userId.ref,eventCacheStoreFactory),trace.traceTask("initialise-events-cache-main-thread"))}))),nextGen=await(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,2187)))),trace.traceTask("import-next-gen"),fp_ts_Task__WEBPACK_IMPORTED_MODULE_30__.Qt("configureCore",core),fp_ts_Task__WEBPACK_IMPORTED_MODULE_30__.tS((e=>{let{runNextGenFeatures:t,configureCore:r}=e;return(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)((0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_18__.N1)((async()=>t({activationManager,addonsLoaded:addonsLoadedRef,api,currentScript,clientContext,config,consentTracking:fp_ts_Option__WEBPACK_IMPORTED_MODULE_31__.G(consentTracking),core:r({eventsCacheFactory,migratedStateMaps:()=>({internal:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("internal_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_31__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn)),external:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(permutiveData.getData("external_query_states"),fp_ts_Option__WEBPACK_IMPORTED_MODULE_31__.DT(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.Kn))})}),externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,sessionManager,urls,userId,viewId,pageviewState:pageviewState.ref,trace,webClient:(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(webClient,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.UI(fp_ts_Option__WEBPACK_IMPORTED_MODULE_31__.G))}))),trace.traceTask("run-next-gen-features"))})))();(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__.p)({api,context:nextGen.metricContext,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_32__.u(permutiveData,permutiveReset,userId,viewId,logger),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_17__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,clientContext,unprocessedEvents,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen,pageviewState,tcf);createInternalsSpan.finish();const context=clientContext.getMutableContextUNSAFE();[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_33__.Y3((()=>eval(s)),(e=>{api.reportError({...e,message:`Error running custom script ${s}`},userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_34__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised");const initialIdentifyResult=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_12__.b2)();let globalIdentifyBound=!1;messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods),globalIdentifyBound=!0;const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0?initialIdentifyResult.resolve(permutiveGlobal.identify(e)):initialIdentifyResult.resolve()})),messages.on("permutive:blockers:empty",(()=>{if(!globalIdentifyBound){const e=permutiveGlobal.identify;permutiveGlobal.identify=t=>(e(t),initialIdentifyResult.promise)}permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getMutableContextUNSAFE(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_16__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_10__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_35__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,namespace,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish(),await(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_15__.TZ)({api,clientContext,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,permutiveMethods,reset:permutiveReset,trace,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_36__.R)(messages,metrics,state,logger),(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_22__.zG)(_framework_ref__WEBPACK_IMPORTED_MODULE_0__.vP(nextGen.realtime,nextGen.queryLanguageCohorts.all),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.D8(((e,t)=>e[0]===t[0])),_framework_ref__WEBPACK_IMPORTED_MODULE_0__.bw((e=>{let[t,r]=e;t&&permutiveRealtime.setAsRealtime(r.length)})))}),(e=>`Exception during initialisation. Got ${e}`))}},7306:(e,t,r)=>{r.r(t),r.d(t,{runSdk:()=>me});var n=r(7144),i=r(2169);var a=r(132),o=r(7226),s=r(8236);var c=r(2081);class u{namespace;config;logger;constructor(e,t,r){this.namespace=e,this.config=t,this.logger=r}makeCookie(e,t,r){return[encodeURIComponent(this.namespace.getNamespacedStorageKey(e)),"=",t?encodeURIComponent(t):"","; expires=",r,"; domain=",this.config.cookieDomain,"; path=/; samesite=none; secure"].join("")}setCookie(e,t){if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:r,cookieDomain:n}=this.config??{};throw this.logger.warn(`Unable to set cookie. ${c.LP}`,{value:t,cookieName:e,cookieExpiry:r,cookieDomain:n}),new Error(c.LP)}const r=this.makeCookie(e,t,this.config.cookieExpiry);if(r.length>c.dG)throw this.logger.warn(`Unable to set cookie ${this.namespace.getNamespacedStorageKey(e)}. ${c.eP}`),new Error(c.eP);return this.logger.debug(`Setting cookie ${r}`),document.cookie=r,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),r=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.makeCookie(e,void 0,"Thu, 01 Jan 1970 00:00:00 UTC");return this.logger.debug(`Deleting cookie ${t}`),document.cookie=t,!0}}var l=r(4459);const p=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{setCookie=(()=>(0,l.v)(super.setCookie.bind(this),n,r.isRevoked))()}};var d=r(5654),f=r(842),m=r(9144);class g{namespace;constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,f.A)(t)}setExternalData(e,t){const r=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(r,t)}catch(e){}}setExternalJsonData(e,t){return(0,i.zG)((0,m.P)(t),(0,n.UI)((t=>this.setExternalData(e,t))),(0,n.g_)((e=>{throw(0,d.w)(e)}),i.Q1))}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}const h=e=>{const{logger:t,consentTracking:r}=e,n=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=n,a=n;return e=>class extends e{setExternalData=(()=>(0,l.v)(super.setExternalData.bind(this),i,r.isRevoked))();setExternalJsonData=(()=>(0,l.v)(super.setExternalJsonData.bind(this),a,r.isRevoked))()}};var _=r(6143),v=r(3643),b=v.li,y=v.Yg;v.Kl,v.Lx,v.u4,v.nq;class w{sdkInitTimestamp;prefix;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.initialPrefix;this.sdkInitTimestamp=e,this.prefix=t}static initialPrefix=(()=>[E("Permutive"),self.document?E("M","#43dde2"):E("W","#FF5C00")])();get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}debug(){return console.debug.bind(self.console,`%c%s${this.prefixTemplate}`,"color: blue;",this.timeDeltaFromInit,...this.prefixContent)(...arguments)}warn(){return console.warn.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}error(){return console.error.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}withPrefix(e,t){return new w(this.sdkInitTimestamp,[...this.prefix,E(e,t)])}get prefixTemplate(){return this.prefix.map(b).join("")}get prefixContent(){return this.prefix.map(y).flat()}}class I{log(){}debug(){}warn(){}error(){}withPrefix(){return this}}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0469d0";const r=[`background-color: ${t}`,"color:white",`border:1px solid ${t}`,"padding: 0px 2px","margin: 0px 1px","border-radius: 2px"].join(";");return["%c%s",[r,e]]}const S="[MESSAGES]";class k{logger;messageListenerMap={};replayQueue={};onceTracker={};defaultMessageOptions={withReplay:!1,once:!1};constructor(e){this.logger=e}on(e,t,r){const n=this.mergeMessageOptions(r);n.withReplay&&this.processReplayQueue(e,t);const i=P(e,this.messageListenerMap).push(t)-1;return n.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):P(e,this.messageListenerMap)[t]=i.Q1}emit(e,t,r){const n=this.mergeMessageOptions(r);P(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){P(e,this.replayQueue).push(t)}processReplayQueue(e,t){this.replayQueue[e]?.forEach((e=>t(e)))}emitMessageWithPayload(e,t){this.messageListenerMap[e]?.forEach(((r,n)=>{r(t),this.removeListenerIfSetToFireOnlyOnce(e,n)}))}addToOnceTracker(e,t){P(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){this.onceTracker[e]?.includes(t)&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...this.defaultMessageOptions,...e}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(S,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(S,...t)}}const P=(e,t)=>t[e]??=[];var x=r(2945);class G{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=(()=>A())();pendingMetrics=[];pendingCounters={};pendingTimers={};noMetricsTracked=0;constructor(e,t,r){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=r}isEnabled(){return!0}getNoMetricsTracked(){return this.noMetricsTracked}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),r=this.pendingCounters[e.name].findIndex((r=>Object.keys(r.labels).length===t.length&&t.every((t=>r.labels[t]===e.labels[t]))));-1===r?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][r]=U(this.pendingCounters[e.name][r],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,i.zG)(x.gz(s.G5)(this.timeOriginForContext,this.timeOriginSdkInit),s.UI((t=>{let[r,n]=t;return e+r-n})))}trackTimeSinceInit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,i.zG)(this.synchroniseTimeBetweenContexts(r),s.UI((e=>(e-this.sdkInitTimestamp)/1e3)),s.UI((r=>this.track({name:e,value:r,labels:t}))))}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class D{isEnabled(){return!1}getNoMetricsTracked(){return 0}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const U=(e,t)=>({...e,value:e.value+t}),A=()=>(0,i.zG)(s.Y3((()=>performance.timeOrigin)),s.hX((e=>"number"==typeof e&&!Number.isNaN(e))));var z=r(4659),C=r(2390),R=r(8317);class q{config;namespace;logger;prefix="[Data Store]";permutiveData={};permutiveDataSize=0;localStorageScheduler;localStorageQueue=(()=>new Set)();debouncedStorageKeys;debouncedFlush;constructor(e,t,r){this.config=e,this.namespace=t,this.logger=r,this.localStorageScheduler=new C.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return{...this.getDataChunk("misc"),...this.getDataChunk("queries")}}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),r=window.localStorage.getItem(t),n=null===r?null:(0,f.A)(r);return r&&n?(this.permutiveDataSize+=2*r.length,n):{}}chunkKeyToStorageKey(e){switch(e){case"queries":return this.config.permutiveDataQueriesKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,r]=this.dataKeyToChunkInfo(e);return n.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(r))),(t=>{const r=(0,d.w)(t);return this.logError(`Failed to set ${e}. Got ${r}`),r}))}dataKeyToChunkInfo(e){const t=e=>(0,z.eu)(this.permutiveData,e);switch(e){case"internal_query_states":case"external_query_states":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(T)];case R.Kd:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:tiktok_pixel":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(O)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}const T=["internal_query_states","external_query_states","event-source-id"],O=[R.Kd,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:tiktok_pixel","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"],M=e=>{const{logger:t,consentTracking:r}=e,i=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),n.F2(void 0));return e=>class extends e{writeData=(()=>(0,l.v)(super.writeData.bind(this),i,r.isRevoked))()}};class j{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var L=r(7721);class F{config;cookies;externalData;ref;isNewlyGenerated;setState;constructor(e,t,r,n){this.config=e,this.cookies=t,this.externalData=r;const[a,o]=L.Ue(this.getOrGenerateUserId());this.ref=(0,i.zG)(a,L.UI((e=>e.userId))),this.isNewlyGenerated=(0,i.zG)(a,L.UI((e=>e.isNewlyGenerated))),this.setState=o,(0,i.zG)(L.vP(this.ref,n),L.YP((e=>{let[t,r]=e;r?(this.cookies.setCookie(this.config.cookieName,t),this.externalData.setExternalData(this.config.cookieName,t)):(this.cookies.deleteCookie(this.config.cookieName),this.externalData.removeExternalData(this.config.cookieName))})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setState({userId:e,isNewlyGenerated:!1})}reset(){this.setState({userId:(0,z.k$)(),isNewlyGenerated:!0})}getOrGenerateUserId(){return(0,i.zG)(this.getUserIdFromCookie(),s.wp((()=>this.getUserIdFromLocalStorage())),s.UI((e=>({userId:e,isNewlyGenerated:!1}))),s.fS((()=>({userId:(0,z.k$)(),isNewlyGenerated:!0}))))}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=s.DT(z.Gz);return(0,i.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),s.ij,s.tS(t))}}class N{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${r}/audiences`;return this.getUrl("audience-matching",i,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,n){const i=this.getUrlPrefix(e),a=(0,s.g_)((()=>""),(e=>`/${e}`))(r),o=`${this.getBaseUrl()}${i}${a}${t}`;return this.makeUrlWithQueryParams(o,n.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}const $=`permutive.${self.document?"main":"worker"}.`;class B{config;shouldUsePerformanceMark=!1;constructor(e){this.config=e,this.shouldUsePerformanceMark=(self.performance?.mark&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(e){const t=this.generateSpan(`${e}_since_init`);return t.start({startTime:_.NC}),{spanId:t.spanId,finish:t.finish}}traceTask(e){return t=>async()=>{const r=this.startSpan(e),n=await t();return r.finish(),n}}measureBetween(e,t,r){const n=this.generateSpan(e);n.start({startTime:t}),n.finish({startTime:r})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:r,endMarkerName:n}=B.generateUniqueMarkerNames(e);return{spanId:r,start:e=>self.performance?.mark(r,e),finish:e=>{self.performance?.mark(n,{startTime:e?.startTime??performance.now()}),self.performance?.measure?.(t,r,n)}}}static generateUniqueMarkerNames(e){const t=`${$}${e}`,r=`${t}${B.generateId()}`;return{spanName:t,startMarkerName:`${r}_start`,endMarkerName:`${r}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}var Q=r(9003),Y=r(301);const K="permutive-consent",W=(e,t)=>(0,i.zG)((0,s.ij)(t),(t=>!1===e&&(0,s.Wi)(t)?{isValid:!0,consentData:H()}:(e=>(0,s.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>!0===e.opt_in&&"string"==typeof e.token&&e.token?.length>0)(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:V()})),H=()=>({opt_in:!0,token:K}),V=()=>({opt_in:!1,token:""}),X=e=>{return(0,i.ls)((t=e,e=>(0,i.zG)(W(t.consentRequired,e),(e=>{let{consentData:r,isValid:n}=e;return t.consentDatabase.put(r,K),n}))),(e=>{let{logger:t,messages:r}=e;return e=>{const n=e?"given":"revoked";return t.log("Consent has been",n),r.emit(`permutive:consent:${n}`),e}})(e));var t},J=e=>(t,r)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",r)},Z=async e=>{const{logger:t,namespace:r,consentRequired:o,messages:s}=e,c=new Y.oP(window.localStorage,r),u=W(o,await c.get(K)),l=await(0,i.zG)(a.Y3((()=>c.put(u.consentData,K)),(e=>new Error(`LocalStorage access is required. ${(0,d.w)(e).message}`))),(e=>e()));if(n.nM(l))return l;const{consentRef:p,giveConsent:f,revokeConsent:m,isRevoked:g,isGiven:h}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,r]=L.Ue(e),n=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(r(!1),t.current),giveConsent:()=>(r(!0),t.current),isRevoked:()=>!n(),isGiven:n}}(u.isValid),_={consentRef:p,isGiven:h,isRevoked:g,listenForConsent:J(s)};_.listenForConsent(m,f);const v=X({consentDatabase:c,consentRequired:o,logger:t,messages:s});return n.F2({consentTracking:_,consentValidation:v,consentDatabase:c})};var ee=r(9912),te=r(3717);const re=e=>{const{partialTagWithKey:t}=e,r=t.key;var a;window[r].consent=(a=e,(0,i.ls)(a.consentModule.consentValidation,s.DT(Boolean),s.UI((0,te.initialiseWebSDK)(a)),i.Q1));const c=(0,s.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,i.zG)((0,i.a9)(t.consentDatabase.get(K)),(0,o.UI)((e=>W(t.consentRequired,e).isValid)));var t}),o.of);return(0,i.zG)((0,i.zG)((e=>{let{consentModule:t,tag:r}=e;const n=(0,ee.Ew)((function(e){return"consent"===e.functionName}))(r.q);return(0,s.UI)((e=>t.consentValidation(e.arguments[0])))(n)})(e),c),(0,o.UI)((e=>e?(0,n.F2)(!0):(0,n.t$)("No consent to run on the page"))))},ne=e=>(0,i.zG)((e=>"function"==typeof e.Map?(0,n.F2)(new e.Map([["a",1]])):(0,n.t$)("Maps not supported"))(e),n.tS((e=>1===e.size?(0,n.F2)(null):(0,n.t$)("Iterable Maps not supported")))),ie=e=>(0,i.zG)((e=>"function"==typeof e.Set?(0,n.F2)(new e.Set([1,2])):(0,n.t$)("Sets not supported"))(e),n.tS((e=>2===e.size?(0,n.F2)(null):(0,n.t$)("Iterable Sets not supported")))),ae=e=>(0,i.zG)((0,x.gz)(n.G5)(ne(e),ie(e),(e=>e.Worker&&e.Blob?(0,n.F2)(null):(0,n.t$)("WebWorkers not supported"))(e)),(e=>(0,n.UI)(i.Q1)(e)));const oe=()=>{const e=(0,r(3420).Z)(),t=new MessageChannel,n=(e=>{const t=[],r=[],n=()=>{for(;t.length>0&&r.length>0;)r.shift()()},i=e=>new Promise((t=>{r.push((()=>t(e()))),(0,_.HJ)(n)}));return e.onmessage=(0,_.GL)((e=>{null!==e.data&&(t.push(e.data),(0,_.HJ)(n))})),{next:()=>i((()=>t.shift())),read:()=>i((()=>t.splice(0)))}})(t.port1);return e.postMessage({port:t.port2},[t.port2]),a=>function(e){let{worker:t,trace:n,metrics:a,...c}=e;return t.send({...c,globals:self._____workerGlobals,initialTimestampSecs:(0,i.zG)(s.lo(!1),s.UI((()=>Math.floor(Date.now()/1e3)))),metricsEnabled:a.isEnabled(),timeOriginMainContext:A()}),(0,i.zG)((0,_.SF)((()=>Promise.resolve().then(r.bind(r,4321)))),n.traceTask("import-master-low-priority"),o.UI((e=>r=>e.startMaster({...r,metrics:a,trace:n,worker:t}))))}({...a,worker:{...n,send:e=>t.port1.postMessage(e),stop:()=>e.terminate()}})};var se=r(2939);class ce{db;options;constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?{...e,last_updated:new Date(e.last_updated)}:null}reset(){return this.db.delete(this.options.session_data_key)}async persistSessionData(e){const t=e.last_updated.toISOString();await this.db.put({...e,last_updated:t},this.options.session_data_key)}static generateNewSession(e){return{session_id:(0,z.k$)(),last_updated:e}}static hasExpired(e,t,r){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*r)}static async initialise(e,t,r){const n={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:r};e.deleteCookie(n.session_data_key);const a=new Date,o=await t.get(n.session_data_key).catch(i.gn),s=ce.decodeSessionData(o),c=null===s||ce.hasExpired(a,s.last_updated,n.timeout_seconds)?{...ce.generateNewSession(a),hasChanged:!0}:{...s,last_updated:a,hasChanged:!1},u=new ce(t,(0,z.PM)(n,c));return await u.persistSessionData(c),u}}var ue=r(2059),le=r(7812);class pe{getContextFromEnvironment;context;lastContextFromEnvironment;constructor(e,t){this.getContextFromEnvironment=t,this.lastContextFromEnvironment=t(),this.context=e,this.updateContext(...Object.entries(this.lastContextFromEnvironment),...Object.entries(e))}getMutableContextUNSAFE(){return this.refresh(),this.context}getContext(){return this.refresh(),{...this.context}}getClient(){return this.refresh(),{domain:this.context.domain,referrer:this.context.referrer,title:this.context.title,type:this.context.type,url:this.context.url,user_agent:pe.applyUserAgentExtension(this.context.user_agent)}}static applyUserAgentExtension(e){const t="PermutiveWebSDK/v20.55.0";return e?`${e} ${t}`:t}refresh(){const e=this.getContextFromEnvironment(),t=t=>this.lastContextFromEnvironment[t]===this.context[t]?e[t]:this.context[t]||e[t];this.updateContext(...(0,i.zG)(Object.keys(e),le.UI((e=>(0,i.bc)(e,t(e)))))),this.lastContextFromEnvironment=e}updateContext(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((e=>{let[t,r]=e;this.context[t]=r}))}}class de extends pe{constructor(e,t){super(e,(()=>({type:"web",user_agent:navigator.userAgent,url:(0,ue.bk)(window.location.href),domain:window.location.hostname||"",title:document.title,referrer:(0,ue.bk)(document.referrer),path:window.location.pathname,view_id:t()})))}async getClientAsync(){return this.getClient()}}const fe=e=>(0,i.zG)(a.Do,(0,i.ls)(a.Qt("support",a.Uo(ae(self))),a.Qt("partialTagWithKey",a.Uo((e=>{const t="0cf17917-395b-4f25-91cc-db3bdd6044b0",r=void 0!==e[t]?.q&&void 0!==e[t]?.config?t:"permutive";return(0,i.zG)(e[r],(0,n.ij)("Can't find permutive tag on the page"),(0,n.UI)((e=>({tag:e,key:r}))))})(window))),a.UI((e=>{const t=e.partialTagWithKey.key;return window[t].sdkVersion="v20.55.0",e})),a.Qt("configFromQueryParams",a.Uo((0,Q.B9)())),a.Hr("tag",(e=>((e,t)=>{let{tag:r,key:n}=e;return{...r,config:(0,Q.ti)({...r.config,windowKey:n},t)}})(e.partialTagWithKey,e.configFromQueryParams))),a.UI((e=>{{const r=e.partialTagWithKey.key,n=window[r];t=n,window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const e=googletag.pubads(),r=()=>{t.track("AdRequest",{ad_server_id:"dfp",cohorts:e.getTargeting("permutive")})},n=e.getSlots().filter((e=>e.getResponseInformation())).length;for(let e=0;e<n;e++)r();e.addEventListener("slotRequested",r)}))}var t;return e})),a.Hr("trace",(e=>{let{tag:t}=e;return new B(t.config)})),a.Hr("namespace",(e=>{let{tag:t}=e;return new j(t.config)})),a.Hr("logger",(e=>{let{tag:t}=e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.RP;return e.loggingEnabled&&void 0!==self.console?.log?new w(t):new I}(t.config)}))),a.Hr("urls",(e=>{let{tag:t}=e;return new N(t.config)})),a.Hr("messages",(e=>{let{logger:t}=e;return new k(t)})),a.Hr("worker",(()=>oe())),a.ak("consentModule",(e=>(0,i.zG)((()=>Z({...e,consentRequired:e.tag.config.consentRequired})),a.Vn((e=>e.message))))),a.Hr("cookieStore",(e=>{let{consentModule:t,logger:r,namespace:n,tag:a}=e;return((e,t,r,n)=>new((0,i.zG)(u,p({consentTracking:n,logger:r})))(e,t,r))(n,a.config,r,t.consentTracking)})),a.Hr("externalData",(e=>{let{consentModule:t,logger:r,namespace:n}=e;return((e,t,r)=>new((0,i.zG)(g,h({consentTracking:r,logger:t})))(e))(n,r,t.consentTracking)})),a.Hr("userId",(e=>{let{cookieStore:t,consentModule:r,externalData:n,tag:i}=e;return new F(i.config,t,n,r.consentTracking.consentRef)})),a.Hr("permutiveData",(e=>{let{tag:t,namespace:r,logger:n,consentModule:a}=e;return((e,t,r,n)=>new((0,i.zG)(q,M({consentTracking:n,logger:r})))(e,t,r))(t.config,r,n,a.consentTracking)})),a.Hr("metrics",(t=>{let{tag:r,logger:n,permutiveData:i}=t;return function(e,t,r,n,i){const a=n.getData("metricsEnabled")??(()=>{const e=Math.random()<=r.metricsSamplingPercentage/100;return n.setData("metricsEnabled",e),e})()?new G(e,t,i):new D;return a.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}}),a}(e.contextsInitTimestampPerformance,A(),r.config,i,n)})),a.Hr("pageviewState",(e=>{let{tag:t}=e;return(e=>{const t={viewId:(0,i.zG)(e.viewId,s.DT((e=>"string"==typeof e&&(0,z.Gz)(e))),s.fS(z.k$)),watsonEnabled:e.watson.enabled};return(0,i.zG)(L.Ue(t),(e=>{let[r,n]=e;return{ref:r,setState:(0,i.ls)((e=>e(r.current,t)),n)}}))})(t.config)})),(0,i.ls)(a.Hr("localStorage",(e=>{let{logger:t,namespace:r,consentModule:n}=e;return(0,se.E)(r,t,n.consentTracking.consentRef)})),a.ak("sessionManager",(e=>{let{cookieStore:t,localStorage:r,logger:n}=e;return a.Y3((()=>ce.initialise(t,r,n)),(e=>`Failed to initialise session manager: ${e.message}`))})),a.Hr("clientContext",(e=>{let{tag:t,pageviewState:r}=e;return new de(t.context||{},(()=>r.ref.current.viewId))})),a.Hr("core",(t=>{let{clientContext:r,consentModule:n,metrics:a,pageviewState:o,permutiveData:c,sessionManager:u,trace:l,tag:p,userId:d,worker:f}=t;const{eventSourceId:m,isFirstPageview:g}=(0,i.zG)(s.ij(c.getData("event-source-id")),s.hX(z.Gz),s.UI((e=>({eventSourceId:e,isFirstPageview:!1}))),s.fS((()=>({eventSourceId:(0,z.k$)(),isFirstPageview:!0})))),h=n.consentTracking.consentRef;if(g)if(h.current)c.setData("event-source-id",m);else{let e=!1;h.onChange((()=>{e||(e=!0,c.setData("event-source-id",m))}))}return f({consent:h.current,eventSourceId:m,isFirstPageview:g,isSecureContext:(_=p.config,"development"===_.environment?self.isSecureContext:"https:"===self.location.protocol),metrics:a,permutiveConfig:p.config,organizationId:"0cf17917-395b-4f25-91cc-db3bdd6044b0",pageviewState:o.ref.current,sdkInitTimestampPerformance:e.contextsInitTimestampPerformance,sdkInitTimestampDate:e.contextsInitTimestamp,sessionId:u.getSessionId(),trace:l,trackPageviewComplete:!0,userId:d.get(),userIdIsNewlyGenerated:d.isNewlyGenerated.current,webClient:r.getClient()});var _})),a.Hr("currentScript",(()=>s.ij(e.currentScript))),a.ak("consent",(e=>re(e))),a.tS((e=>(0,i.zG)((0,_.SF)((()=>Promise.resolve().then(r.bind(r,3717)))),e.trace.traceTask("permutive.main.import_permutiveWebLowPriority"),o.tS((t=>t.initialiseWebSDK(e)))))))),me=e=>(e=>{e().then((0,n.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),i.Q1))})(fe(e))},4659:(e,t,r)=>{r.d(t,{BJ:()=>d,Bf:()=>w,CX:()=>L,G6:()=>P,Gz:()=>E,HD:()=>p,HP:()=>C,Kn:()=>l,Or:()=>D,PM:()=>g,PQ:()=>x,Z_:()=>A,a4:()=>_,aT:()=>y,b2:()=>h,bw:()=>T,cO:()=>G,eu:()=>v,jn:()=>f,k$:()=>I,lW:()=>U,lo:()=>O,m8:()=>S,mQ:()=>R,qh:()=>m,rH:()=>j,rO:()=>q,vg:()=>z});var n=r(9912),i=r(2169),a=r(8236),o=r(856),s=r(4327),c=r(229),u=r(6143);const l=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,p=e=>"string"==typeof e,d=e=>"number"==typeof e&&!Number.isNaN(e),f=e=>"boolean"==typeof e,m=e=>Object.entries(e);function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>({...e,...t})),{})}s.ff(c.xb);function h(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}function _(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:o,exponentialBackOff:s,maxAttempts:c}=g(n,r);let l=0;const p=r=>new Promise((n=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>n((0,a.G)(e)))):(0,i.zG)(l++,(e=>e<c?(0,u.HJ)((()=>n(p(r*(s?2:1)))),r):n(a.YP)))))));return p(o)}function v(e,t){const r=Object.create(null);for(const n of t)r[n]=e[n];return r}let b=[];function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(b.unshift(e),b.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=b;b=[],e.forEach((e=>{try{e()}catch{}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&k(t);i(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t={capture:!0,...t};const r=["visibilitychange","pagehide"];r.forEach((r=>window.addEventListener(r,(()=>a.Y3((()=>{"pagehide"!==r&&"hidden"!==document.visibilityState||e()}))),{capture:t.capture})))}function I(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function E(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function S(){const e={},t=arguments.length;for(let r=0;r<t;r++){const[t,n]=r<0||arguments.length<=r?void 0:arguments[r];e[t]=n}return e}function k(e){return/Mobi|Android/i.test(e)}function P(e){return/^((?!chrome|android).)*safari/i.test(e)}function x(e,t){return new Promise((r=>{(0,u.HJ)((()=>{Promise.resolve(e()).then(r)}),t?.timeout??0)}))}function G(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}const D=()=>({equals:(e,t)=>Object.is(e,t)});function U(e){return(0,o.Zt)(((t,r)=>{const n=e.indexOf(t),i=e.indexOf(r);switch(!0){case-1===n&&-1===i:return 0;case-1!==n&&-1===i:return-1;case-1===n&&-1!==i:return 1;default:return n<=i?-1:1}}))}function A(e,t,r){return function(){try{return r(...arguments)}catch(r){e.reportError(r,t.get())}}}function z(e){return t=>null!=t&&e in t?t[e]:void 0}function C(e){let t=a.YP;const r=(0,a.fS)((()=>{const r=e();return t=(0,a.G)(r),r}));return()=>r(t)}const R=e=>{const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},q=e=>t=>{const r={...t};for(const n in e)r[n]=e[n]?.(t[n]);return r};function T(e){return t=>(e(t),t)}const O=e=>t=>{const r=e.slice(0,-1),o=e.slice(-1)[0];return(0,i.zG)(r,n.f2((e=>{let[r,n]=e;return(0,i.zG)(t,a.DT(r),a.UI(n))})),a.fS((()=>o(t))))},M=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}},j=M(parseInt);M(parseFloat);function L(e){return Math.abs(function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(e))/Math.pow(2,31)}},4432:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(8236),i=r(6143);const a=(e,t,r,a)=>new Promise(((o,s)=>{const c=(0,n.Y3)(e);if((0,n.pC)(c))return o(c.value);r.once(t,(()=>(0,n.g_)((()=>s(new Error(`Error after waiting for event ${t}`))),o)((0,n.Y3)(e))));const u=a?.timeout??1e4;(0,i.HJ)((()=>s(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)}))},2390:(e,t,r)=>{r.d(t,{b:()=>a});var n=r(4659),i=r(6143);class a{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,n.aT)(e)}debounce(e,t,r,a){let o,s,c,u=[];return l=>{a&&(c=a.concat(c??a.empty,l));const p=(0,n.b2)();u.push(p);return o?.(),o=(0,i.HJ)((()=>{s?.(),s=void 0;const t=e(c||l);u.forEach((e=>e.resolve(t))),c=a?.empty,u=[]}),t),s||(s=(0,i.HJ)((()=>{o?.(),s=void 0;const t=e(c||l);u.forEach((e=>e.resolve(t))),c=a?.empty,u=[]}),r)),p.promise}}}},822:(e,t,r)=>{r.d(t,{i:()=>i});var n=r(6143);class i{messages;queue=[];nextNotify=null;constructor(e){this.messages=e,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,(0,n.HJ)(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];if(i.complete)r+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,r)}size(){return this.queue.length}}},2059:(e,t,r)=>{r.d(t,{_Y:()=>o,bk:()=>a,zM:()=>i});var n=r(2169);const i=()=>{const e=window.location.href.split("?")[1]?.split("#")[0]?.split("&");return void 0===e?{}:e.reduce(((e,t)=>{const[r,n]=t.split("=");return{...e,[r]:n}}),{})},a=e=>{if(!e)return"";return(0,n.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function o(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),r=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),n=e.match(/localhost/);if(r&&r.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&t?.length>0?t[0]:n&&n?.length>0?"localhost":""}},3726:(e,t,r)=>{r.r(t),r.d(t,{load:()=>u,makeCtvAddonFactory:()=>l});var n=r(2169),i=r(8236),a=r(2478),o=r(4659),s=r(6143);const c="ctv",u=function(e){(0,a.Hn)(c)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[c,{}]})};const l=function(e){const t=(0,a.Hn)(c),r=t("ctv_engagement_enabled",!0),u=t("ctv_engagement_event_seconds",5);function l(){const e=new Date,t=-e.getTimezoneOffset(),r=t>=0?"+":"-",n=e=>e.toString().padStart(2,"0");return e.getFullYear()+"-"+n(e.getMonth()+1)+"-"+n(e.getDate())+"T"+n(e.getHours())+":"+n(e.getMinutes())+":"+n(e.getSeconds())+r+n(Math.floor(Math.abs(t)/60))+":"+n(Math.abs(t)%60)}return new class{options;input;trackerState;clearInterval;commonPlaybackState;pausedState;resumedState;shouldTrackCTVEngagement=(()=>r&&u>0)();DEFAULT_DURATION=0;eventProperties;constructor(e){this.options=e,this.input=this.sanitiseOrPassThroughInput({duration:e.duration,videoProperties:e.videoProperties,client:e.client}),this.eventProperties={isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",video:this.input.videoProperties,client:this.input.client},this.updateClientContext(this.input.videoProperties),this.options.pageviewState.setState((0,o.rO)({viewId:o.k$})),this.trackerState="Paused",this.commonPlaybackState={},this.resumedState={},this.pausedState={},this.setDuration(this.input.duration),this.trackVideoView()}play(e){const t=()=>{this.shouldTrackCTVEngagement&&!this.clearInterval&&(this.clearInterval=this.registerEngagementInterval(u))},r=e=>(0,n.zG)(this.sanitisePosition(e??this.pausedState.pausedPosition,(()=>0)),(e=>(this.updateResumedState({resumedPosition:e,resumedTimestamp:Date.now()}),e)),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e)})));switch(this.trackerState){case"Paused":t(),this.updateTrackerState("Resumed"),r(e);break;case"Resumed":r(e)}}pause(e){const t=e=>(0,n.zG)(this.sanitisePosition(e,(()=>this.calculateCurrentPosition())),(e=>(this.updatePausedState({pausedPosition:e,pausedTimestamp:Date.now()}),e)),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e),accumulatedEngagementTime:this.calculateAccumulatedEngagementTime()})));"Resumed"===this.trackerState&&(this.clearInterval?.(),this.clearInterval=void 0,this.updateTrackerState("Paused"),t(e))}stop(e){this.clearInterval?.(),this.clearInterval=void 0,"Resumed"===this.trackerState&&(0,n.zG)(this.sanitisePosition(e,(()=>this.calculateCurrentPosition())),(e=>this.calculateMaximumViewedPosition(e)),(e=>this.updateCommonPlayBackState({maximumViewedPosition:e,percentageViewed:this.calculatePercentageViewed(e)})));const t="Resumed"===this.trackerState?this.calculateTotalEngagedTime():this.commonPlaybackState.accumulatedEngagementTime;this.updateTrackerState("Stopped"),this.trackVideoCompletion({completion:this.commonPlaybackState.percentageViewed,engaged_time:t})}setDuration(e){this.commonPlaybackState.totalVideoDuration=e}track(){this.options.permutive.track(...arguments)}trackVideoView(){this.track("Videoview",{...this.eventProperties,local_time:l()})}trackVideoEngagement(e){this.track("VideoEngagement",{...this.eventProperties,local_time:l(),engaged_time:e})}trackVideoCompletion(e){this.track("VideoCompletion",{...this.eventProperties,local_time:l(),aggregations:{VideoEngagement:e}})}updateTrackerState(e){this.trackerState=e}registerEngagementInterval(e){return(0,s.UM)((()=>{this.trackVideoEngagement(e)}),1e3*e)}sanitisePosition(e,t){return(0,n.zG)(e,i.ij,i.EQ(t,(e=>"number"!=typeof e||Number.isNaN(e)?t():Math.max(e,0))))}calculateCurrentPosition(){return Date.now()-this.resumedState.resumedTimestamp+this.resumedState.resumedPosition}updateResumedState(e){this.resumedState={...this.resumedState,...e}}updatePausedState(e){this.pausedState={...this.pausedState,...e}}updateCommonPlayBackState(e){const t=e.accumulatedEngagementTime?e.accumulatedEngagementTime+this.commonPlaybackState.accumulatedEngagementTime||0:this.commonPlaybackState.accumulatedEngagementTime||0;this.commonPlaybackState={...this.commonPlaybackState,...e,accumulatedEngagementTime:t}}calculateAccumulatedEngagementTime(){return this.pausedState.pausedTimestamp-this.resumedState.resumedTimestamp}calculateMaximumViewedPosition(e){return Math.max(e,this.commonPlaybackState.maximumViewedPosition??0)}calculateTotalEngagedTime(){return Date.now()-this.resumedState.resumedTimestamp+this.commonPlaybackState.accumulatedEngagementTime}calculatePercentageViewed(e){if(0===this.commonPlaybackState.totalVideoDuration)return 0;const t=e/this.commonPlaybackState.totalVideoDuration;return t>1||t<0?0:t}updateClientContext(e){const t=(0,o.qh)(e);this.options.clientContext.updateContext(...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.options.logger.debug("[ctv]",...t)}sanitiseOrPassThroughInput(e){const t=e=>(0,n.ls)(i.DT(e),i.pF(n.r5)),r=t(o.jn),a=t(o.HD),s=t(o.BJ),c=t((e=>Array.isArray(e)&&e.every(o.HD))),u=(0,n.ls)(i.DT(o.Kn),i.UI((0,o.rO)({age_rating:a,audio_language:a,consecutive_episodes:s,content_type:c,country:a,episode_number:s,genre:c,iab_categories:c,original_language:a,runtime:s,season_number:s,subtitles:(0,n.ls)(i.DT(o.Kn),i.UI((0,o.rO)({enabled:r,language:a})),i.pF(n.r5)),title:a})),i.fS((()=>({}))));return(0,n.zG)(e,(0,o.rO)({client:(0,n.ls)(i.DT(o.Kn),i.fS((()=>({})))),duration:(0,n.ls)(i.DT(o.BJ),i.pF((()=>this.DEFAULT_DURATION))),videoProperties:u}),(0,o.bw)((t=>this.logDebug("validated input",{original:e,validated:t}))))}}(e)}},2176:(e,t,r)=>{r.d(t,{$7:()=>h,Cg:()=>f,Qd:()=>g,cs:()=>m,dN:()=>p,zi:()=>d});var n=r(7144),i=r(2169),a=r(8236),o=r(7812),s=r(7479),c=r(7721),u=r(4659);const l="[PrebidJS]";function p(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(l,"Found keys",t);return s.K4((()=>(0,i.zG)(t,o.UI((0,i.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let r;return{windowPropertyKey:e,pbjs:(0,u.a4)((()=>r),(()=>{const t=(0,i.zG)(window,(0,u.vg)(e));return!(!t?.que||"function"!=typeof t?.getEvents||(r=t,0))}),t)}})(e)),(t=>(0,i.zG)(c.p4(t.pbjs),c.UI((r=>{const o=n.pF((r=>(r.message=`Failed to resolve key "${t.windowPropertyKey}". ${r.message}`,e.reportError(`${l} ${r.toString()}`),a.YP)));return(0,i.zG)(r,(0,u.bw)(a.UI((r=>e.logger.debug(l,`Completed check for key "${t.windowPropertyKey}"`,{result:r})))),a.UI(o),a.UI(a.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>c.vP(...e)),c.UI((e=>({completedChecks:e.every(a.pC),pbjsKeyPairs:e.map(a.xH)}))),c.UI((e=>{let{pbjsKeyPairs:t,completedChecks:r}=e;const n=t.filter(a.pC),[s,...c]=n;return{completedChecks:r,mainPair:s??a.YP,otherPairs:(0,i.zG)(c,o.DZ(i.yR))}})))))}const d=e=>"function"==typeof e.readConfig?e.readConfig():e.getConfig();function f(e){const t=e.meta?.advertiserDomains;if("string"==typeof t)return[t];if(Array.isArray(t)){const e=t.filter((e=>"string"==typeof e));return e.length>0?e:void 0}}const m=e=>{const t=e.appnexus&&"object"==typeof e.appnexus&&"buyerMemberId"in e.appnexus&&e.appnexus.buyerMemberId,r=e.rubicon&&"object"==typeof e.rubicon&&"networkId"in e.rubicon&&e.rubicon.networkId,n=t||r||e?.meta?.networkId;return n?`${n}`:void 0},g=e=>{const t=e=>isNaN(e)?void 0:e;try{return"number"==typeof e.cpm?t(e.cpm):(0,i.zG)(e.cpm??"",parseFloat,t)}catch{return}},h=e=>e.dealId?`${e.dealId}`:void 0},8872:(e,t,r)=>{r.d(t,{X:()=>n});const n=e=>{let t=!0;const r=[];return{addBlocker:n=>{r.push(n),e.logger.log("<blockers> added blocker "+n),e.messages.on(n,(()=>{if(t){const i=r.indexOf(n);i>=0&&(r.splice(i,1),e.logger.log("<blockers> removed blocker "+n)),0===r.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},6049:(e,t,r)=>{r.d(t,{zh:()=>c});var n=r(7379),i=r(8236),a=r(2169),o=(r(7784),r(7812)),s=(r(4214),r(2945),r(4659));const c=(e,t)=>r=>({all:(0,a.zG)(r,n.UI(e)),byAdServer:(0,s.mQ)((0,a.ls)(t,i.UI((e=>(0,a.zG)(r,n.UI(e))))))});n.of(o.bM()),(0,s.mQ)((e=>i.YP))},8970:(e,t,r)=>{r.d(t,{X:()=>i});var n=r(7721);class i{ref;setCustomProps;constructor(){const[e,t]=n.Ue({});this.ref=e,this.setCustomProps=t}getCustomProps(){return this.ref.current}}},9862:(e,t,r)=>{r.r(t),r.d(t,{EventsCache:()=>I,RESET_HISTORICAL:()=>b});var n=r(5654),i=r(2945),a=r(7812),o=r(7144),s=r(2169),c=r(8236),u=r(7226),l=r(132);const p=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),d=e=>({id:e.id,name:e.name,time:(f(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),f=e=>isFinite(e)&&e instanceof Date;var m=r(4659),g=r(2390);class h extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const _="permutive-events-cache",v="permutive-events-for-page",b="historical",y="[EVENTSCACHE]",w=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class I{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=(()=>this.makeEventsRepository(_))();eventsForPage=(()=>this.makeEventsRepository(v))();eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new g.b(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,r,n,i,a,o){return(0,s.zG)(o(),l.UI((s=>new I(e,t,r,n,i,a,o,s))))}constructor(e,t,r,n,i,a,o,l){this.config=e,this.logger=t,this.reportError=r,this.trace=n,this.metrics=i,this.userId=a,this.makeEventsStore=o,this.eventStore=l,this.eventsTTLInMilliseconds=(0,s.zG)((0,c.ij)(this.config.eventsTTLInDays),(0,c.tS)((e=>"number"==typeof e&&e>0?(0,c.G)(24*e*3600):c.YP))),this.eventsCache.events=(0,m.HP)((()=>(0,m.PQ)((0,s.zG)(u.tD((()=>this.trace.startSpan("load_event_cache"))),u.tS((e=>(0,s.zG)(this.loadFromDisk(),u.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),a.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,u.pE)((e=>(0,l.Y3)((()=>e.flush()),n.w)));return(0,s.zG)([this.eventsForPage,this.eventsCache],t,(0,u.UI)((t=>{const r=a.bj(t);return r.length>0&&this.reportError(`Migrate previous events failed. Got:\n${r.join("\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(a.xH)}async add(e,t){let{persistOnDisk:r}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,s.zG)(this.eventsForPage.events,u.UI((t=>[...t,e])),m.HP),r&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:r});let n=1,i=[...e];for(;t>r;)i.splice(0,n),n*=2,t=2*JSON.stringify(i).length;return this.logDebug("Events after pruning",{count:i.length,sizeInBytes:t}),{events:i,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,s.zG)(this.eventsTTLInMilliseconds,c.EQ((()=>s.yR),(e=>a.hX((t=>e>Date.now()-t.time.getTime())))));return(0,s.zG)(u.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),u.YO("loadEventsCacheTask"),u.ak("eventsFromDisk",(()=>(0,s.zG)(a.nI([this.eventStore.get(_),this.eventStore.get(v)]),a.UI(l.LV((0,m.lo)([[e=>e instanceof h,(0,s.ls)(e,u.of)],t=>(0,s.zG)(u.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),u.tS((()=>()=>this.reset("historical"))),u.UI(e))]),(0,s.ls)(c.fS(e),u.of))),a.vP(u.qA)))),u.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:r}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",r)}})),u.UI((0,s.ls)((0,m.vg)("eventsFromDisk"),a.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),a.UI(p),t)))}async reset(e){return(0,s.zG)(u.tD((()=>this.logDebug("Resetting Events Cache"))),u.tS((()=>this.eventStore.deleteStore())),l.tS((()=>this.makeEventsStore())),l.Zl((t=>(this.eventStore=t,e===b?i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.flush):i.gz(l.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),l.wE((()=>()=>this.all())),l.fS((()=>u.of(E()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(o.F2((0,s.Q1)()));return t=>e=e.then(t)})(),r=e=>(0,s.zG)(u.tD((()=>this.logDebug(`Writing ${e.length} events to ${_.key}`))),u.tS((()=>this.eventStore.put(e.map(d),_.key))),l.UI(s.Q1)),i=(0,s.zG)(u.tD((()=>this.logDebug(`Deleting events for ${_.key}`))),u.tS((()=>this.eventStore.delete(_.key))),l.Vn(n.w)),a=(0,s.ls)(u.of,u.At((e=>()=>this.logError(`Events cache failed to put ${_.key}. Got ${e}`))),u.tS((0,m.lo)([[e=>w(e)&&_.retryAttempts<9,()=>(0,s.zG)(u.tD((()=>{_.retryAttempts+=1,this.logDebug(`Attempt #${_.retryAttempts} to write ${_.key} to EventsStore`)})),u.tS((()=>h)),u.tS((()=>p)))],[e=>w(e),e=>(0,s.zG)(u.tD((()=>this.logDebug(`Attempted ${_.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),u.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${_.key}. Got ${e}`,userId:this.userId.current}))),u.tS((()=>l.t$(e))))],l.t$]))),c=e=>l.tD((()=>{this.logDebug(`Successfully wrote events for ${_.key} after ${_.retryAttempts} attempts`),_.retryAttempts=0,_.sizeInBytes=2*JSON.stringify(e).length,_.sizeInBytesLastSuccessfulWrite=_.sizeInBytes})),p=(0,s.zG)((()=>_.events()),u.tS((e=>(0,s.zG)(r(e),u.mU(o.EQ(a,(()=>c(e)))))))),f=(e,t)=>(0,s.zG)(e.events,u.UI((r=>{const n=2*JSON.stringify(r).length,i=this.pruneEventsToSizeLimit(r,n,t);return e.events=u.of(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes}))),g=(e,t)=>{let[r,...n]=e;return r&&0!==t?(0,s.zG)(f(r,t),u.tS((e=>(this.logDebug(`${e} left after pruning ${r.key}`),g(n,e))))):u.of((0,s.Q1)())},h=(0,s.zG)(l.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),l.fX(o.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),l.tS((e=>{const t=1.2*e,r=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,r),(0,s.zG)(g(r,t),l.fF)}))),_={key:e,events:u.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,s.zG)(u.tD((()=>this.trace.startSpan(`write_${_.key}`))),u.tS((e=>(0,s.zG)(p,u.At((()=>()=>e.finish()))))),t),reset:()=>(0,s.zG)(u.tD((()=>{_.events=u.of([]),_.sizeInBytes=0,_.sizeInBytesLastSuccessfulWrite=0})),u.tS((()=>i)),t)};return _}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(y,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn(y,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(y,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(y,...t)}}const E=()=>[]},1527:(e,t,r)=>{r.r(t),r.d(t,{DBStore:()=>o});var n=r(5654),i=r(8236),a=r(132);class o{db;constructor(e){this.db=Promise.resolve(e)}put(e,t){return(0,a.Y3)((()=>this.db.then((r=>r.put(e,t)))),n.w)}get(e){return(0,a.Y3)((()=>this.db.then((t=>t.get(e))).then(i.ij)),n.w)}delete(e){return(0,a.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,a.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}},9409:(e,t,r)=>{r(4659)},6927:(e,t,r)=>{r(6143)},9114:(e,t,r)=>{r.r(t),r.d(t,{eventCacheService:()=>u,eventNameBlacklist:()=>l});var n=r(7721),i=r(7479),a=r(4694),o=r(2169),s=r(7812),c=r(4659);const u=e=>i.K4((()=>({newEvents:(0,o.zG)(e.newEvents,n.UI(a.UI((0,c.bw)(s.UI((t=>{let[,r]=t;l.has(r.name)||e.eventsCache.add(r,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()}))),l=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"])},8317:(e,t,r)=>{r.d(t,{Kd:()=>i,eJ:()=>a});r(2478);var n=r(7479);r(7721),r(4659);const i="addon:twitter_pixel",a=function(e){return n.K4((()=>{}))}},3420:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(1005),i=r.n(n);function a(){return i()('/*! @permutive/javascript-sdk v20.55.0 (web) (built 2025-11-21T09:32:53.666Z) */(()=>{"use strict";var __webpack_modules__={654:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},987:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>runtimeFactory});const runtimeFactory=deps=>{const{provideEnvironment,...lookups}=generateLookupMethods(deps.runtimeInput),env=generateRuntimeEnvironment({lookups,hash:deps.hash});return provideEnvironment(env),{env,locallyLiftedQueries:deps.runtimeInput.queries(env)||{},cloudLiftedQueries:"function"==typeof deps.runtimeInput.interpretOnlyQueries?deps.runtimeInput.interpretOnlyQueries(env):{},queriesByEvent:deps.runtimeInput.eventSegments(env)||{},createCloudLiftQueries:cloudLiftQueries=>{const createQueries=eval?.(`"use strict";${cloudLiftQueries}`);return createQueries(env)}}};function generateRuntimeEnvironment(e){const t=e=>()=>{throw new Error(`${e} lookup has not been provided`)};let r=t("events"),n=t("literals"),i=t("properties"),a=t("ahoCorasick"),o=t("subexpressions"),s=t("rootCompression");function c(e){return l(e)&&!u(e)}function l(e){return Boolean(e&&"object"==typeof e&&!Array.isArray(e))}function u(e){for(const t in e)return!1;return!0}function p(e){return(t,r)=>{const n=null!=t&&null!=r?e(t,r):t||r;return null==n||l(n)&&u(n)?null:n}}function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;const n=i(t);function a(e,t){return e&&null!=e[t]?e[t]:null}const o=n.reduce(a,e);return null===o?null:r(o)}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return e.properties?f(e.properties,t,r):null}e.lookups.onReady((e=>{const{ahoCorasick:t,events:c,literals:l,properties:u,subexpressions:p,rootCompression:f}=e;r=e=>"number"==typeof e?c[e]:e,n=e=>"number"==typeof e?l[e]:e,i=e=>"number"==typeof e?u[e]:e,a=e=>t[e],o=e=>p[e],s=e=>f[e]}));let m=e=>e,_=e=>!0;function g(e,t){return function(r){for(let n=0;n<e.length;n++){if((e[n](r)||!1)===t)return t}return!t}}function v(e){return g(e,!0)}function h(e){return g(e,!1)}let b=e=>t=>!e(t),y=(e,t)=>r=>r>=e&&r<=t,w=e=>new Date(e).getTime(),I=e=>f(e,["time"],w),S=(e,t)=>f(t,e,w),E=(e,t,r,n,i,a)=>o=>{const s=f(o,e,(e=>e.filter(n).map((e=>f(e,t))).reduce(i,a)));return r(null===s?a:s)};function k(e,t,r,n){for(const i of e)if(r(i)&&t(i)===n)return n;return!n}let A=e=>t=>("string"==typeof e||"number"==typeof e)&&"string"==typeof t&&t.toLowerCase().indexOf(n(e).toLowerCase())>-1,G=e=>t=>null!=t&&Array.isArray(t)&&t.indexOf(e)>=0;const x=(e,t)=>({l:n=>f(n,["name"])===r(e)&&t(n)?["p",1]:null,a:(e,t)=>["p",e[1]+t[1]],i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:0,c:e=>Array.isArray(e)&&e[1]?e:null});const z=()=>null,U=e=>({a:{m:z,z:null},r:t=>e(t),d:{a:z,l:z,i:z,c:z}}),P=(e,t,r,n)=>U((i=>function(e,t,r,n,i){const a=f(e.getSegments(),[t,r])||!1;return i&&(n||a)&&e.setSegmentActivation(t,r,i),a}(i,e,t,r,n))),q=P;function C(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18e5;return n=>{function i(e,t,r){if(c(t)){if(c(r)){const n={...t,...r};for(const i in r)if(t[i]){const o=a(e,t[i],r[i]);null!=o&&(n[i]=o)}return n}return t}return r}function a(e,t,r){if(c(t)){if(c(r)){const i={...t,...r};for(const a in r)if(t[a]){const o=Array.isArray(t[a])?[e,...t[a]]:[e,t[a]],s=Array.isArray(r[a])?[e,...r[a]]:[e,r[a]],c=n.d.a(o,s);if(null!=c){const[e,...t]=c;i[a]=t}}return i}return t}return r}const o=e=>Array.isArray(e)&&"object"==typeof e[3];return{a:{m:(e,t)=>[t[0],n.a.m(null!=e[0]&&e[0][0]===t[0][0]?e[1]:n.a.z,t[1])],z:[[],n.a.z]},r:(t,r)=>n.r(t,0!==r[0].length&&r[0][0]===e(t)?r[1]:n.a.z),d:n.d.sq||{a:(e,t)=>{if(!o(e))return o(t)?t:null;if(!o(t))return o(e)?e:null;const[r,,,n]=e;return[r,"u",null,i(r,n,t[3])]},l:(i,a)=>{let o=f(i,t),s=e(a);if(o!==s)return null;let c=n.d.l(i,a);if(!(Array.isArray(c)&&c.length>1))return null;let[l,...u]=c,p=+(I(i)||a.getCurrentTime()),d=Math.floor(p/r),m={};return m[d]={},m[d][s]=1===u.length?u[0]:u,[l,"u",null,m]},i:(t,r)=>{if(!o(t))return[[],n.a.z];let i=e(r),a=t[3];return[[i],Object.keys(a).map((e=>a[e]?.[i])).filter(T).map((e=>n.d.i([t[0]].concat(e),r))).reduce(n.a.m,n.a.z)]},c:m}}}}let D=C((e=>e.getCurrentSession()),["session_id"],18e5),O=C((e=>e.getCurrentView()),["view_id"],3e5);const T=e=>!!e;function M(e){return function(t){return{d:{i:(r,n)=>{const i=e(n),a=(Array.isArray(r)?r:[])[3]||{},o=Object.keys(a).map((e=>{const t=a[e]?.[i];return Array.isArray(t)?t[0]:t})).filter(T).reduce(((e,t)=>e+t),0);return t.d.i(["p",o],n)},c:m}}}}let j=M((e=>e.getCurrentSession())),R=M((e=>e.getCurrentView()));function L(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return{a:{m:(e,t)=>e.concat(t).slice(-r),z:[]},r:(t,r)=>e.r(t,r.reduce(((t,r)=>e.a.m(t,r)),e.a.z)),d:e.d.ftn||{a:(e,t)=>{const n=Object.entries({...e[3],...t[3]}).sort(((e,t)=>{let[r]=e,[n]=t;return Number(r)-Number(n)})).slice(-r);return[e[0],e[1],null,Object.fromEntries(n)]},l:(t,i)=>{const a=e.d.l(t,i),o=f(t,["time"],w)*n;return a&&[a[0],"x"+r,null,{[o]:2==a.length?a[1]:a.slice(1)}]},i:(t,r)=>t?Object.keys(t[3]||{}).sort().reverse().map((e=>Array.isArray(e)?[t[0],...t[3][e]]:[t[0],t[3][e]])).map((t=>e.d.i(t,r))):[],c:m}}}function Q(e,t){return{d:{i:(t,r)=>{const n=Array.isArray(t)?t:[],i=Object.keys(n[3]||{}).reduce(((e,t)=>n[3][t]+e),0);return e.d.i(["p",i],r)},c:m}}}const N=Q,F=Q;let Y=(e,t)=>null==e?null==t?null:{b:t}:null==t?{a:e}:{a:e,b:t};function B(e,t){return r=>{if(!r||null==r.a&&null==r.b)return null;const n=null==r.a?void 0:e.d.c(r.a)??void 0,i=null==r.b?void 0:t.d.c(r.b)??void 0;return n===r.a&&i===r.b?r:Y(n,i)}}function $(e,t){return{a:(r,n)=>{const i=null!=r.a&&null!=n.a?e.d.a(r.a,n.a):r.a||n.a,a=null!=r.b&&null!=n.b?t.d.a(r.b,n.b):r.b||n.b;return Y(i,a)},l:(r,n)=>Y(e.d.l(r,n),t.d.l(r,n)),i:(r,n)=>r?[e.d.i(r.a||null,n),t.d.i(r.b||null,n)]:[e.a.z,t.a.z],c:B(e,t)}}function X(e,t,r,n){let i=e,a=t.map(r),o=(e,r)=>n(t[e])(r);for(let e=t.length-1;e>0&&i;e--)i.b&&(a[e]=o(e,i.b)),i.a&&1===e&&(a[0]=o(0,i.a)),i=i.a;return a}const H=e=>function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length-1;if(!t||null==t.a&&null==t.b)return null;const n=e[r];if(!n)return null;if(1===r)return B(e[0],n)(t);const i=null==t.a?void 0:H(e)(t.a,r-1)??void 0,a=null==t.b?void 0:n.d.c(t.b)??void 0;return i===t.a&&a===t.b?t:Y(i,a)};let V=e=>t=>{function r(e){let t=e[0];for(let r=1;r<e.length;r++)t=[t,e[r]];return t}function n(e){let r=e,n=Array(t.length);for(let e=t.length-1;e>0;e--)n[e]=r[1],r=r[0];return n[0]=r,n}function i(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;if(0==n)throw new Error("subquery index out of bounds.");const a=(1==n?p(t[0].d.a)(e?.a,r?.a):i(e?.a,r?.a,n-1))||void 0,o=p(t[n].d.a)(e?.b,r?.b)||void 0;return Y(a,o)}return{r:(r,i)=>{const a=n(i);return e(t.map(((e,t)=>()=>e.r(r,a[t]))))({})},a:{z:r(t.map((e=>e.a.z))),m:(e,i)=>{const a=n(e),o=n(i);return r(t.map(((e,t)=>function(e,t,r){return null===t?r:null===r?t:e.a.m(t,r)}(e,a[t],o[t]))))}},d:{a:(e,r)=>1==t.length?p(t[0].d.a)(e,r):i(e,r),l:(e,r)=>function(e){let t=e[0];for(let r=1;r<e.length;r++)t=Y(t,e[r]);return t}(t.map((t=>t.d.l(e,r)))),i:(e,n)=>((e,n)=>r(X(e,t,(e=>e.a.z),(e=>t=>e.d.i(t,n)))))(e,n),c:H(t)}}},K=V(v),W=V(h);let J=e=>t=>({d:{i:(r,n)=>e(X(r,t,(e=>e.d.i(null,n)),(e=>t=>e.d.i(t,n))).map((e=>t=>e)))({}),c:H(t)}}),Z=J(h),ee=J(v);function te(e,t){let r=a(e);if(!t||!r)return!1;if(!r.length)return!0;let n=0,i=!1,o=(e=>{let t=[];for(let r=0;r<e.length;++r){let n=e.charCodeAt(r);if(n>=55296&&n<=56319){let n=e.charCodeAt(r+1);if(n>=56320&&n<=57343){t.push(e.slice(r,r+2)),++r;continue}}t.push(e.charAt(r))}return t})(t.toLowerCase());for(let e=0;e<o.length;e++){let t=o[e];for(;n>0&&!r[n][t];)n=r[n].su?r[n].su:0;if(r[n][t]&&(n=r[n][t],i=!!r[n].te,i))break}return i}let re=(t,r)=>{let n,i,a=e.hash(t);if(0===r.length)return!1;if(r[0]===a)return!0;let o=0,s=r.length,c=!1;for(;(c=(n=r[i=o+(s-o>>1)])!==a)&&(n<a?o=i:s=i,!(o>=s-1)););return!c},ne=(e,t)=>r=>re(f(r,e),t),ie=(e,t)=>r=>re(d(r,e),t);return{q:function(e){return{lift:(t,r)=>e.d.l(t,r),append:p(e.d.a),interpret:(t,r)=>((t,r)=>({result:e.r(t,r)}))(r,e.d.i(t,r)),compact:e.d.c,migrate:m,m:e.a.m,z:e.a.z,r:e.r,i:e.d.i}},i_q:function(e){return{interpret:(t,r)=>({result:e.d.i(t,r)}),compact:e.d.c}},a:h,acq:function(e,t){return{r:(r,n)=>e.r(r,n[0])&&t.r(r,n[1]),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:$(e,t)}},acqs:W,acs:te,acs_:(e,t)=>r=>te(t,f(r,e)),af_i:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return n=>f(n,e,(e=>k(e,t,r,!1)))&&!0},af_l:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return n=>{const i=f(n,e,(e=>e.filter(r).length));return t(null===i?0:i)}},af_m:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return i=>{const a=f(i,e,(e=>e.filter(n)));return null===a||0===a.length?r(0):r(a.map((e=>f(e,t))).reduce(((e,t)=>e+t),0)/a.length)}},af_n:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return E(e,t,r,n,((e,t)=>Math.min(e,t)),Number.POSITIVE_INFINITY)},af_p:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return E(e,t,r,n,((e,t)=>e*t),1)},af_s:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return E(e,t,r,n,((e,t)=>e+t),0)},af_u:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;return n=>f(n,e,(e=>k(e,t,r,!0)))||!1},af_x:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;return E(e,t,r,n,((e,t)=>Math.max(e,t)),Number.NEGATIVE_INFINITY)},as:(e,t,r)=>n=>{const i=d(n,t),a=r.length;let o=!0;for(let t=0;t<a;t++){const n=r[t];if(o=e(n)(i),!o)break}return o},c:G,c_:(e,t)=>r=>G(t)(f(r,e)),cl_:(e,t)=>r=>G(n(t))(f(r,e)),cx:e=>t=>G(n(e))(t),cw:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return{a:{m:(e,t)=>e+t,z:0},r:(e,t)=>r(t),d:x(e,t)}},cb:function(e,t,n,i){return{a:{m:(e,t)=>Math.min(e+t,i),z:0},r:(e,t)=>n(t),d:{l:n=>f(n,["name"])===r(e)&&t(n)?[`b${i}p`,1]:null,a:(e,t)=>[`b${i}p`,Math.min(e[1]+t[1],i)],i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:0,c:e=>Array.isArray(e)&&e[1]?e:null}}},e:e=>t=>t===e,e_:(e,t)=>r=>f(r,e)===t,fm:function(e,t){return{r:(r,n)=>e(t.r(r,n)),a:t.a,d:t.d}},frontDecode:function(e){const t=e.split("\\t");if(0===t.length)return[];var r=t[0],n=new Array(Math.ceil(t.length/2));n[0]=t[0];for(var i=1;i<t.length/2;i+=1){const e=t[2*i-1],a=t[2*i];if(""===e)r=a;else{const t=parseInt(e);r=r.slice(0,t)+a}n[i]=r}return n},ftn:function(e,t,r){return{a:{m:(e,t)=>e.concat(t.slice(0,r-e.length)),z:[]},r:(t,r)=>e.r(t,r.reduce(((t,r)=>e.a.m(t,r)),e.a.z)),d:L(e,t,r,-1).d}},g:e=>t=>t>e,g_:(e,t)=>r=>f(r,e)>t,ge:e=>t=>t>=e,ge_:(e,t)=>r=>f(r,e)>=t,bse:(t,r)=>n=>{let i=f(n,t);return e.hash(i)===r},bsne:(t,r)=>n=>{let i=f(n,t);return e.hash(i)!==r},bsc:ne,bsnc:(e,t)=>b(ne(e,t)),bsc_:ie,bsnc_:(e,t)=>b(ie(e,t)),i_:m,ifp:e=>U((t=>function(e,t,r){return f(e.getSegments(),[t,r])||!1}(t,"1p",e))),isp:q,itp:P,i_cw:function(e){return{d:{i:t=>{let r=t?Array.isArray(t)?t.slice(-1)[0]:t:0;return e(r)},c:e=>Array.isArray(e)&&e[1]?e:null}}},i_acqs:Z,i_ocqs:ee,i_tw:function(e,t,r){const n=r||100,i=Math.ceil(t/n);return{d:{i:(r,n)=>{const a=Array.isArray(r)?r:[],o=n.getCurrentTime(),s=(c=o.getTime()-t,Math.floor(c/i));var c;const l=Object.keys(a[3]||{}).reduce(((e,t)=>parseInt(t)>=s?a[3][t]+e:e),0);return e.d.i(["p",l],n)},c:m}}},i_ltn:N,i_ftn:F,i_sq:j,i_vq:R,k:f,l:e=>t=>t<e,l_:(e,t)=>r=>{const n=f(r,e);return null!==n&&n<t},le:e=>t=>t<=e,le_:(e,t)=>r=>{const n=f(r,e);return null!==n&&n<=t},lm:(e,t)=>{let r=t=>function(e,t,r){if(void 0===t[r])return NaN;const n=e||{};if(0==(n["1p"]||[]).length)return NaN;const i=t[r]||{};let a=(i["1p"]||{}).const||0;return Object.keys(n).forEach((e=>{n[e].forEach((t=>{const r=(i[e]||{})[t]||0;a+=r}))})),o=a,1/(1+Math.pow(Math.E,-o));var o}(t.getSegmentsArray(),t.getLookalikeModels(),e);return U((e=>t(r(e))))},ltn:L,mnw:function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;const a=Number.POSITIVE_INFINITY;return{a:{m:(e,t)=>e<t?e:t,z:a},r:(e,t)=>i(t),d:{a:(e,t)=>e[1]<t[1]?e:t,l:i=>f(i,["name"])===r(e)&&t(i)?["n",f(i,n)]:null,i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:a,c:e=>Array.isArray(e)&&e[1]!==a?e:null}}},mxw:function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;const a=Number.NEGATIVE_INFINITY;return{a:{m:(e,t)=>e>t?e:t,z:a},r:(e,t)=>i(t),d:{l:i=>f(i,["name"])===r(e)&&t(i)?["v",f(i,n)]:null,a:(e,t)=>e[1]>t[1]?e:t,i:e=>e?Array.isArray(e)?e.slice(-1)[0]:e:a,c:e=>Array.isArray(e)&&e[1]!==a?e:null}}},n0:b(m),n:e=>t=>t!==e,nt:b,n_:(e,t)=>r=>f(r,e)!==t,o:v,ocq:function(e,t){return{r:(r,n)=>e.r(r,n[0])||t.r(r,n[1]),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:$(e,t)}},ocqs:K,oe:function(e){const t=Object.keys(e);let r=t.length,n=new Array(r);for(;r--;)n[r]=[t[r],e[t[r]]];return n},os:(e,t,r)=>n=>{const i=d(n,t),a=r.length;let o=!1;for(let t=0;t<a;t++){const n=r[t];if(o=e(n)(i),o)break}return o},pacs:(e,t)=>r=>te(t,d(r,e)),pb:(e,t,r)=>n=>y(t,r)(d(n,e)),pc:(e,t)=>r=>{const n=d(r,e);return null!=n&&Array.isArray(n)&&n.indexOf(t)>=0},pc_:(e,t)=>r=>{const i=d(r,e),a=n(t);return null!=i&&Array.isArray(i)&&i.indexOf(a)>=0},pe:(e,t)=>r=>d(r,e)===t,pg:(e,t)=>r=>d(r,e)>t,pge:(e,t)=>r=>d(r,e)>=t,pl:(e,t)=>r=>{let n=d(r,e);return null!==n&&n<t},ple:(e,t)=>r=>{let n=d(r,e);return null!==n&&n<=t},pn:(e,t)=>r=>d(r,e)!==t,ps:(e,t)=>r=>A(t)(d(r,e)),r:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(e)(...r)},ref:function(e){return t=>o(e)(t)},rle:function(e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];"number"==typeof n?(t+=n,r+=1):t+=1}let r=Array(t),n=0;for(let t=0;t<e.length;t++){let i=e[t];"number"==typeof i?(r.fill(e[t+1],n,n+i),t+=1,n+=i):(r[n]=i,n++)}return r},s:A,s_:(e,t)=>r=>A(t)(f(r,e)),scq:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return{r:(n,i)=>r(e.r(n,i[0])+t.r(n,i[1])),a:{z:[e.a.z,t.a.z],m:(r,n)=>[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]},d:$(e,t)}},sq:D,dscq:function(e,t,n,i){const a=`x${i}`,o=e=>e?2===e.length?["p",a,"",e[1]]:e:null,s=n=>{const i=(e=>f(e,["session_id"]))(n);return i&&f(n,["name"])===r(e)&&t(n)?["p",a,"",{[i]:1}]:null},c=(e,t)=>{const r=o(e),n=o(t);return r?n?["p",a,"",{...r[3],...n[3]}]:r:n};return{a:{m:c,z:null},r:(e,t)=>{const r=t&&t[3]&&"object"==typeof t[3]?Object.keys(t[3]).length:0;return n(r)},d:{a:p(c),l:(e,t)=>s(e),i:(e,t)=>o(e),c:m}}},sw:function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;const a=0;let o=e=>e<0?["p2",null,-e]:["p2",e],s=e=>(e[0]||0)-(e[1]||0),c=n=>f(n,["name"])===r(e)&&t(n);return{a:{m:(e,t)=>e+t,z:a},r:(e,t)=>i(t),d:{a:(e,t)=>{const r=new Array(Math.max(e.length,t.length));r[0]="p2";for(let n=1;n<r.length;n++)r[n]=(e[n]??0)+(t[n]??0);return r},l:e=>c(e)?o(f(e,n)):null,i:e=>e?Array.isArray(e)?s("p2"===e[0]?e.slice(1):e):e:a,c:e=>Array.isArray(e)&&(e[1]||e[2])?e:null}}},t:_,tb:(e,t)=>r=>y(e,t)(I(r)),te:e=>t=>I(t)===e,te_:(e,t)=>r=>S(e,r)===t,tg:e=>t=>I(t)>e,tg_:(e,t)=>r=>S(e,r)>t,tge:e=>t=>I(t)>=e,tge_:(e,t)=>r=>S(e,r)>=t,ti:w,tl:e=>t=>I(t)<e,tl_:(e,t)=>r=>S(e,r)<t,tle:e=>t=>I(t)<e,tle_:(e,t)=>r=>S(e,r)<t,tn:e=>t=>I(t)!==e,tn_:(e,t)=>r=>S(e,r)!==t,tw:function(e,t,r){const n=r||100,i=Math.ceil(t/n),a=e=>Math.floor(e/i),o=(e,r,n)=>[a(e.getTime()-t),{[a(r)]:n}],s=(t,r)=>{const n=Math.max(t[0],r[0]),i=Object.keys(t[1]).filter((e=>e>=n)).concat(Object.keys(r[1]).filter((e=>e>=n))).filter(((e,t,r)=>r.indexOf(e)===t)).reduce(((n,i)=>{const a=e.a.m(t[1][i]||e.a.z,r[1][i]||e.a.z);return a!==e.a.z&&(n[i]=a),n}),{});return[n,i]},c=[Number.NEGATIVE_INFINITY,{}],l=e=>{const t=t=>t.map((t=>{let[r,n,i]=t;return o(e.t,i,r)})).reduce(s,c);return s(t(e.in),t(e.out))};return{a:{m:(e,t)=>{const r=e.w?l(e):e;return s(r,t)},z:c},r:(t,r)=>{const n=(r.w?l(r):r)[1];return e.r(t,Object.keys(n).reduce(((t,r)=>e.a.m(t,n[r])),e.a.z))},d:e.d.tw||{a:(e,t)=>{let[r,,...n]=e,[,,...i]=t;return[r,"w",...s(n,i)]},l:(t,r)=>{const n=e.d.l(t,r),i=e.d.i(n,r);return n&&[n[0],"w",...o(r.getCurrentTime(),f(t,["time"],w),i)]},i:(e,r)=>{const n=Array.isArray(e)?e:[],i=r.getCurrentTime(),o=a(i.getTime()-t);return[n[2]||null,Object.keys(n[3]||{}).map((e=>({[e]:n[3][e]}))).reduce(((e,t)=>(Object.keys(t).filter((e=>parseInt(e)>=o)).forEach((r=>e[r]=t[r])),e)),{})]},c:m}}},vq:O,w:e=>t=>t===n(e),x:e=>t=>t!==n(e),y:(e,t)=>r=>d(r,e)===n(t),y_:(e,t)=>r=>f(r,e)===n(t),z:(e,t)=>r=>d(r,e)!==n(t),z_:(e,t)=>r=>f(r,e)!==n(t)}}function generateLookupMethods(e){let t,r=!1,n=[];return{onReady:e=>{r?e(t):n.push(e)},provideEnvironment:i=>{t={events:e.eventsLookup(i),literals:e.literalsLookup(i),properties:e.propertiesLookup(i),ahoCorasick:e.ahoCorasickLookup(i),subexpressions:e.subexpressionsLookup(i),rootCompression:e.rootCompressionLookup(i)},n.forEach((e=>e(t))),n=[],r=!0}}}},945:(e,t,r)=>{r.d(t,{N:()=>o,Qt:()=>c,Yt:()=>m,a1:()=>s,ap:()=>a,gM:()=>l,gz:()=>d});var n=r(169),i=r(614);function a(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function o(e){return function(t){return function(r){return e.ap(e.map(r,(function(e){return function(){return e}})),t)}}}function s(e){return function(t){return function(r){return e.ap(e.map(r,(function(){return function(e){return e}})),t)}}}function c(e){return function(t,r){return function(n){return e.ap(e.map(n,(function(e){return function(r){var n;return Object.assign({},e,((n={})[t]=r,n))}})),r)}}}function l(e){return function(t){return{concat:function(r,n){return e.ap(e.map(r,(function(e){return function(r){return t.concat(e,r)}})),n)}}}}function u(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):u(e,t-1,i)}}var p={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function f(e){return i.e$.call(p,e)||(p[e]=u(n.bc,e-1,[])),p[e]}function d(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=f(n),a=e.map(t[0],i),o=1;o<n;o++)a=e.ap(a,t[o]);return a}}function m(e){return function(t){for(var r=Object.keys(t),n=r.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i}}};case 4:return function(t){return function(r){return function(n){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a[e[3]]=i,a}}}};case 5:return function(t){return function(r){return function(n){return function(i){return function(a){var o;return(o={})[e[0]]=t,o[e[1]]=r,o[e[2]]=n,o[e[3]]=i,o[e[4]]=a,o}}}}};default:return u((function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},a=0;a<t;a++)i[e[a]]=r[a];return i}),t-1,[])}}(r),a=e.map(t[r[0]],i),o=1;o<n;o++)a=e.ap(a,t[r[o]]);return a}}},340:(e,t,r)=>{r.d(t,{Ce:()=>l,DY:()=>S,Eh:()=>j,GY:()=>I,Gb:()=>m,KB:()=>p,Lx:()=>D,Od:()=>c,Qp:()=>b,Su:()=>z,UI:()=>G,YM:()=>d,f2:()=>y,fw:()=>T,hX:()=>C,ke:()=>_,md:()=>h,oA:()=>q,pR:()=>R,tS:()=>x,yL:()=>E,yW:()=>L,zT:()=>v});var n=r(169),i=(r(289),r(614)),a=r(606),o=r(812),s=(r(49),r(226),function(e){return 0===e.length}),c=a.Od,l=a.Ce,u=(a.ws,a.R3),p=(a.Im,function(e,t){return e<=0?[]:a.KB(t)(e)});var f=a.dC,d=(o.P5,o.YM),m=(o.Z$,function(e){return c(e)?i.G(a.Gb(e)):i.YP}),_=function(e){return function(t){return f(e,t)?w(t):t.slice(0,e)}};var g=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function v(e){return function(t){var r=k(g(t,e))(t);return{init:r[0],rest:r[1]}}}var h=function(e){return function(t){return e<=0||s(t)?w(t):e>=t.length?[]:t.slice(e,t.length)}};function b(e){return function(t){return t.slice(g(t,e))}}o.cx;var y=o.f2;o.JO,o.qr;var w=function(e){return e.slice()},I=function(e){return s(e)?[]:e.slice().reverse()},S=function(e){return function(t){return t.length<=1?w(t):t.slice().sort(e.compare)}},E=function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n};o.t9;var k=function(e){return function(t){return e>=1&&c(t)?a.lx(e)(t):s(t)?[w(t),[]]:[[],w(t)]}};o.kp,o.Eq;var A=a.of,G=function(e){return function(t){return t.map((function(t){return e(t)}))}},x=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},z=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},U=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);i.pC(a)&&r.push(a.value)}return r}},P=function(e){return U((function(t,r){return e(r)}))},q=P(n.yR),C=function(e){return function(t){return t.filter(e)}},D=o.Lx,O=(o.xP,o.u4,o.OE),T=(o.nq,o.iw,function(e){var t=M(e);return function(e){return t((function(t,r){return e(r)}))}}),M=function(e){return function(t){return O(e.of([]),(function(r,i,a){return e.ap(e.map(i,(function(e){return function(t){return(0,n.zG)(e,u(t))}})),t(r,a))}))}},j=(o.ZN,o.Eh),R=o.pR,L=(o.pJ,o.oR,a.oo,o.yW);o.j0,i.F4,a.w6,a.QI,a.Ss},335:(e,t,r)=>{function n(e){return function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}}}function i(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>i,m:()=>n})},144:(e,t,r)=>{r.d(t,{g1:()=>y,G5:()=>b,dO:()=>g,Pd:()=>E,ak:()=>F,YO:()=>N,tS:()=>I,g_:()=>C,ij:()=>M,Yo:()=>x,DT:()=>G,Eh:()=>m,fS:()=>D,nM:()=>z,t$:()=>c,UI:()=>_,Vn:()=>k,EQ:()=>q,aD:()=>P,of:()=>v,vx:()=>T,F2:()=>l,LF:()=>O,KC:()=>Q,i$:()=>L,Y3:()=>j,it:()=>R});var n=r(335),i=r(906),a=r(169),o=r(289),s=r(614),c=s.t$,l=s.F2,u=function(e,t){return(0,a.zG)(e,_(t))},p=function(e,t){return(0,a.zG)(e,h(t))},f=function(e,t){return(0,a.zG)(e,I(t))},d="Either",m=function(e,t){return{equals:function(r,n){return r===n||(z(r)?z(n)&&e.equals(r.left,n.left):U(n)&&t.equals(r.right,n.right))}}},_=function(e){return function(t){return z(t)?t:l(e(t.right))}},g={URI:d,map:u},v=l,h=function(e){return function(t){return z(t)?t:z(e)?e:l(t.right(e.right))}},b={URI:d,map:u,ap:p},y={URI:d,map:u,ap:p,of:v},w=function(e){return function(t){return z(t)?t:e(t.right)}},I=w,S={URI:d,map:u,ap:p,chain:f},E=function(e,t){return function(r){return z(r)?c(e(r.left)):l(t(r.right))}},k=function(e){return function(t){return z(t)?c(e(t.left)):t}},A={URI:d,fromEither:a.yR},G=(0,i.DT)(A),x=(0,i.Yo)(A),z=s.nM,U=s.tO,P=function(e,t){return function(r){return z(r)?e(r.left):t(r.right)}},q=P,C=q,D=function(e){return function(t){return z(t)?e(t.left):t.right}},O=function(e){return z(e)?l(e.left):c(e.right)},T=function(e){return function(t){return z(t)?e(t.left):t}},M=function(e){return function(t){return null==t?c(e):l(t)}},j=function(e,t){try{return l(e())}catch(e){return c(t(e))}},R=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return j((function(){return e.apply(void 0,r)}),t)}},L=P(a.yR,a.yR);function Q(e){return e instanceof Error?e:new Error(String(e))}s.F4;var N=(0,o.YO)(g),F=(0,n.a)(S);s.Xl},125:(e,t,r)=>{r.d(t,{EQ:()=>y,F2:()=>s,KQ:()=>f,LF:()=>A,LU:()=>k,LV:()=>w,NG:()=>d,Pd:()=>h,UI:()=>m,Vn:()=>b,ap:()=>_,dQ:()=>E,fS:()=>I,i$:()=>G,ij:()=>p,m8:()=>l,pk:()=>u,t$:()=>c,tS:()=>g,vx:()=>S,wp:()=>v});var n=r(945),i=r(144),a=r(169),o=r(289);function s(e){return(0,a.ls)(i.F2,e.of)}function c(e){return(0,a.ls)(i.t$,e.of)}function l(e){return function(t){return e.map(t,i.F2)}}function u(e){return function(t){return e.map(t,i.t$)}}function p(e){return function(t){return(0,a.ls)(i.ij(t),e.of)}}function f(e){var t=p(e);return function(e){var r=t(e);return function(e){return(0,a.ls)(e,r)}}}function d(e){var t=g(e),r=f(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function m(e){return(0,o.UI)(e,i.dO)}function _(e){return(0,n.ap)(e,i.G5)}function g(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?e.of(r):t(r.right)}))}}}function v(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t():e.of(r)}))}}}function h(e){return function(t,r){return function(n){return e.map(n,i.Pd(t,r))}}}function b(e){return function(t){return function(r){return e.map(r,i.Vn(t))}}}function y(e){return function(t,r){return function(n){return e.map(n,i.EQ(t,r))}}}function w(e){return function(t,r){return function(n){return e.chain(n,i.EQ(t,r))}}}function I(e){return function(t){return function(r){return e.chain(r,i.EQ(t,e.of))}}}function S(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t(r.left):e.of(r)}))}}}function E(e){var t=S(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function k(e){return function(t){return function(r){return e.chain(r,i.EQ((function(r){return e.map(t(r),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function A(e){return function(t){return e.map(t,i.LF)}}function G(e){return function(t){return e.map(t,i.i$)}}},689:(e,t,r)=>{r.d(t,{MW:()=>c,Uz:()=>o,bc:()=>a,f7:()=>n,n_:()=>i,w4:()=>s});r(169);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},i=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n((function(t,r){return e.every((function(e,n){return e.equals(t[n],r[n])}))}))},o=function(e){return function(t){return n((function(r,n){return t.equals(e(r),e(n))}))}},s={equals:function(e,t){return e===t}},c=i;s.equals},906:(e,t,r)=>{r.d(t,{DT:()=>o,Dj:()=>s,Yo:()=>a,fX:()=>c});var n=r(169),i=r(614);function a(e){return function(t){return function(r){return e.fromEither(i.Wi(r)?i.t$(t()):i.F2(r.value))}}}function o(e){return function(t,r){return function(n){return e.fromEither(t(n)?i.F2(n):i.t$(r(n)))}}}function s(e){return function(t){return(0,n.ls)(t,e.fromEither)}}function c(e,t){var r=s(e);return function(e){return function(n){return t.chain(n,r(e))}}}},755:(e,t,r)=>{r.d(t,{At:()=>o,oU:()=>a});var n=r(335),i=r(169);function a(e,t){return function(r){var n=(0,i.ls)(r,e.fromIO);return function(e){return t.chain(e,n)}}}function o(e,t){var r=(0,n.m)(t);return function(t){return r((0,i.ls)(t,e.fromIO))}}},241:(e,t,r)=>{r.d(t,{oU:()=>a,wt:()=>i});var n=r(169);function i(e){return function(t){return(0,n.ls)(t,e.fromTask)}}function a(e,t){return function(r){var i=(0,n.ls)(r,e.fromTask);return function(e){return t.chain(e,i)}}}},289:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function i(e){return function(t){return function(r){return e.map(r,(function(e){return e(t)}))}}}function a(e){return function(t){return function(r){return e.map(r,(function(e){var r;return(r={})[t]=e,r}))}}}function o(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>o,OV:()=>i,UI:()=>n,YO:()=>a})},694:(e,t,r)=>{r.d(t,{G5:()=>d,PM:()=>f,RD:()=>b,UA:()=>_,UI:()=>c,dO:()=>p,of:()=>l,qo:()=>m});var n=r(169),i=(r(289),r(614)),a=function(e,t){return function(){return t(e())}},o=function(e,t){return function(){return e()(t())}},s=function(e,t){return function(){return t(e())()}},c=function(e){return function(t){return a(t,e)}},l=n.a9,u="IO",p={URI:u,map:a},f={URI:u,of:l},d={URI:u,map:a,ap:o},m={URI:u,map:a,ap:o,chain:s},_={URI:u,map:a,ap:o,of:l,chain:s},g=(n.yR,n.yR,i.F4,l(i.Xl)),v=function(e){var t=function(e){return function(t){return function(){for(var r=[e(0,i.YM(t))()],n=1;n<t.length;n++)r.push(e(n,t[n])());return r}}}(e);return function(e){return i.Od(e)?t(e):g}},h=function(e){return v((function(t,r){return e(r)}))},b=h(n.yR)},606:(e,t,r)=>{r.d(t,{Ce:()=>u,Eh:()=>I,Gb:()=>E,Im:()=>p,KB:()=>g,Od:()=>s,QI:()=>A,R3:()=>f,Ss:()=>G,dC:()=>c,lx:()=>w,nI:()=>_,of:()=>b,oo:()=>d,ur:()=>k,w6:()=>v,ws:()=>l,yL:()=>y});var n=r(169),i=(r(289),r(614)),a=r(214),o=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},s=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},l=function(e){return function(t){return o([e],t,!0)}},u=l,p=function(e){return function(t){return o(o([],t,!0),[e],!1)}},f=p,d=function(e,t,r){if(s(r)){var n=m(r);return n.splice(e,0,t),n}return[t]},m=i.r1,_=function(e){return s(e)?i.G(e):i.YP},g=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},v=function(e,t){return e<=t?g((function(t){return e+t}))(t-e+1):[e]};var h=m,b=function(e){return[e]},y=function(e,t,r){for(var n=[r(e[0],t[0])],i=Math.min(e.length,t.length),a=1;a<i;a++)n[a]=r(e[a],t[a]);return n};a.xP,a.Lx;var w=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[h(t),[]]:[(0,n.zG)(t.slice(1,r),u(S(t))),t.slice(r)]}},I=(a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh),S=(i.F4,a.YM),E=function(e){return e.slice(1)},k=(a.Z$,a.VV,a.Fp,function(e){return function(t){return t.reduce(e.concat)}});a.j0;function A(e,t){return void 0===t?u(e):(0,n.zG)(t,u(e))}var G=function(e,t){return(0,n.zG)(e,f(t))};a.ur},507:(e,t,r)=>{r.d(t,{DT:()=>m,Dj:()=>le,Do:()=>he,EK:()=>g,EQ:()=>ne,Eh:()=>k,FS:()=>ve,G:()=>d,G5:()=>C,Gk:()=>M,Hr:()=>ye,IS:()=>_,KQ:()=>me,NG:()=>_e,OV:()=>se,Qt:()=>Ie,Ri:()=>B,UI:()=>x,Uo:()=>J,WG:()=>ge,Wi:()=>te,Y3:()=>fe,YO:()=>be,YP:()=>f,aD:()=>re,ak:()=>we,bM:()=>R,dO:()=>z,fS:()=>oe,fX:()=>ue,fw:()=>W,g1:()=>D,g_:()=>ie,hX:()=>$,ij:()=>pe,it:()=>de,lo:()=>Q,pC:()=>ee,pF:()=>ae,pR:()=>A,tS:()=>O,uZ:()=>G,wp:()=>j,xH:()=>ce,xu:()=>K});var n=r(945),i=r(335),a=r(906),o=r(169),s=r(289),c=r(614),l=r(327),u=r(49),p=(r(226),r(302)),f=c.YP,d=c.G;function m(e){return function(t){return e(t)?d(t):f}}var _=function(e){return"Right"===e._tag?f:d(e.left)},g=function(e){return"Left"===e._tag?f:d(e.right)},v=function(e,t){return(0,o.zG)(e,x(t))},h=function(e,t){return(0,o.zG)(e,q(t))},b=function(e,t){return(0,o.zG)(e,O(t))},y=function(e,t){return(0,o.zG)(e,$(t))},w=function(e,t){return(0,o.zG)(e,X(t))},I=function(e,t){return(0,o.zG)(e,H(t))},S=function(e,t){return(0,o.zG)(e,V(t))},E="Option",k=function(e){return{equals:function(t,r){return t===r||(te(t)?te(r):!te(r)&&e.equals(t.value,r.value))}}},A=function(e){return{equals:k(e).equals,compare:function(t,r){return t===r?0:ee(t)?ee(r)?e.compare(t.value,r.value):1:-1}}},G=function(e){return{concat:function(t,r){return te(t)?r:te(r)?t:d(e.concat(t.value,r.value))},empty:f}},x=function(e){return function(t){return te(t)?f:d(e(t.value))}},z={URI:E,map:v},U=d,P={URI:E,of:U},q=function(e){return function(t){return te(t)||te(e)?f:d(t.value(e.value))}},C={URI:E,map:v,ap:h},D={URI:E,map:v,ap:h,of:U},O=function(e){return function(t){return te(t)?f:e(t.value)}},T={URI:E,map:v,ap:h,chain:b},M=function(e){return function(t){return te(t)?e():t}},j=M,R=function(){return f},L={URI:E,zero:R},Q=(0,p.l)(L,P),N=O(o.yR),F=(0,u.s4)(f,f),Y=function(e){return te(e)?F:(0,u.s4)(_(e.value),g(e.value))},B={URI:E,compact:N,separate:Y},$=function(e){return function(t){return te(t)?f:e(t.value)?t:f}},X=function(e){return function(t){return te(t)?f:e(t.value)}},H=function(e){return function(t){return(0,u.s4)(y(t,(0,l.ff)(e)),y(t,e))}},V=function(e){return(0,o.ls)(x(e),Y)},K={URI:E,map:v,compact:N,separate:Y,filter:y,filterMap:w,partition:I,partitionMap:S},W=function(e){return function(t){return function(r){return te(r)?e.of(f):e.map(t(r.value),d)}}},J=g,Z={URI:E,fromEither:J},ee=c.pC,te=function(e){return"None"===e._tag},re=function(e,t){return function(r){return te(r)?e():t(r.value)}},ne=re,ie=ne,ae=function(e){return function(t){return te(t)?e():t.value}},oe=ae,se=(0,s.OV)(z),ce=N,le=(0,a.Dj)(Z),ue=(0,a.fX)(Z,T),pe=function(e){return null==e?f:d(e)},fe=function(e){try{return d(e())}catch(e){return f}},de=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fe((function(){return e.apply(void 0,t)}))}},me=function(e){return(0,o.ls)(e,pe)},_e=function(e){return function(t){return te(t)?f:pe(e(t.value))}},ge=ne(o.gn,o.yR),ve=ne(o.r5,o.yR);var he=U(c.F4),be=(0,s.YO)(z),ye=(0,s.Hr)(z),we=(0,i.a)(T),Ie=(0,n.Qt)(C);c.Xl},856:(e,t,r)=>{r.d(t,{Fp:()=>f,Uz:()=>s,VV:()=>p,Zt:()=>o,gf:()=>u,gt:()=>l,lt:()=>c});var n=r(689),i=r(169),a=function(e){return function(t,r){return t===r||0===e(t,r)}},o=function(e){return{equals:a(e),compare:function(t,r){return t===r?0:e(t,r)}}},s=function(e){return function(t){return o((function(r,n){return t.compare(e(r),e(n))}))}},c=(i.W8,function(e){return function(t,r){return-1===e.compare(t,r)}}),l=function(e){return function(t,r){return 1===e.compare(t,r)}},u=function(e){return function(t,r){return-1!==e.compare(t,r)}},p=function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},f=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}};n.w4.equals},327:(e,t,r)=>{r.d(t,{ff:()=>n,xD:()=>i});r(169);var n=function(e){return function(t){return!e(t)}},i=function(e){return function(t){return function(r){return t(r)&&e(r)}}}},812:(e,t,r)=>{r.d(t,{Ce:()=>_,DZ:()=>W,EQ:()=>b,Eh:()=>fe,Eq:()=>N,Ew:()=>x,G:()=>Ee,Hr:()=>Ae,JO:()=>U,Lx:()=>ne,N7:()=>C,OE:()=>ie,OV:()=>_e,Od:()=>m,P5:()=>w,R3:()=>g,Su:()=>H,UI:()=>X,YM:()=>I,Yo:()=>v,Z$:()=>S,ZN:()=>le,aD:()=>h,bM:()=>Y,bj:()=>q,cS:()=>Ie,cx:()=>G,f2:()=>z,hX:()=>V,iw:()=>oe,j0:()=>ke,jG:()=>ue,jj:()=>O,kp:()=>Q,lo:()=>he,md:()=>A,nI:()=>we,nq:()=>ae,oA:()=>J,oR:()=>ye,of:()=>F,pJ:()=>be,pO:()=>T,pR:()=>de,pc:()=>j,qr:()=>P,t9:()=>D,tS:()=>B,u4:()=>re,uK:()=>Z,uZ:()=>pe,vP:()=>se,xH:()=>$,xP:()=>te,xb:()=>d,yW:()=>Se,zT:()=>k});var n=r(689),i=r(169),a=r(289),o=r(614),s=r(307),c=r(856),l=r(214),u=r(49),p=(r(226),r(302)),f=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},d=function(e){return 0===e.length},m=l.Od,_=l.Ce,g=(l.ws,l.R3);l.Im;var v=function(e){return o.Wi(e)?Ie:[e.value]},h=function(e,t){return function(r){return m(r)?t(r):e()}},b=h,y=l.dC;function w(e,t){return void 0===t?function(t){return w(e,t)}:y(e,t)?o.YP:o.G(t[e])}var I=function(e){return m(e)?o.G(l.YM(e)):o.YP},S=function(e){return m(e)?o.G(l.Z$(e)):o.YP};var E=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function k(e){return function(t){var r=M(E(t,e))(t);return{init:r[0],rest:r[1]}}}var A=function(e){return function(t){return e<=0||d(t)?t:e>=t.length?Ie:t.slice(e,t.length)}};var G=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return o.G(r);return o.YP}};function x(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return o.G(t[r]);return o.YP}}var z=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(o.pC(n))return n}return o.YP}};var U=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(o.pC(n))return n}return o.YP}},P=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return o.G(r);return o.YP}},q=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};var C=function(e){for(var t=[],r=[],n=0;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]};function D(e){return function(t,r){if(void 0===r){var n=D(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var O=function(e){var t=l.jj(e);return function(e){return m(e)?t(e):e}},T=function(e){var t=l.pO(e);return function(e){return m(e)?t(e):Ie}},M=function(e){return function(t){return e>=1&&m(t)?l.lx(e)(t):d(t)?[t,Ie]:[Ie,t]}},j=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return v(e.apply(void 0,t))}};var R=function(e,t){return(0,i.zG)(e,X(t))},L=function(e,t,r){return(0,i.zG)(e,re(t,r))},Q=function(e,t){return(0,i.zG)(e,be(t))},N=function(e,t){return(0,i.zG)(e,ye(t))},F=l.of,Y=function(){return Ie},B=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(d(t))return Ie;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},$=B(i.yR),X=function(e){return function(t){return t.map((function(t){return e(t)}))}},H=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},V=function(e){return function(t){return t.filter(e)}},K=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);o.pC(i)&&r.push(i.value)}return r}},W=function(e){return K((function(t,r){return e(r)}))},J=W(i.yR),Z=function(e){return ee((function(t,r){return e(r)}))},ee=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,u.s4)(r,n)}},te=function(e){return function(t){return function(r){return r.reduce((function(r,n,i){return e.concat(r,t(i,n))}),e.empty)}}},re=function(e,t){return ie(e,(function(e,r,n){return t(r,n)}))},ne=function(e){var t=te(e);return function(e){return t((function(t,r){return e(r)}))}},ie=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}},ae=function(e,t){return oe(e,(function(e,r,n){return t(r,n)}))},oe=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},se=function(e){return function(t){return L(t,e.of(Y()),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,g(t))}})),r)}))}},ce="ReadonlyArray",le=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},ue=function(){return{concat:function(e,t){return d(e)?t:d(t)?e:e.concat(t)}}},pe=function(){return{concat:ue().concat,empty:Ie}},fe=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},de=function(e){return(0,c.Zt)((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),o=0;o<a;o++){var c=e.compare(t[o],r[o]);if(0!==c)return c}return s.Df.compare(n,i)}))},me={URI:ce,map:R},_e=(0,a.OV)(me),ge={URI:ce,of:F},ve={URI:ce,zero:Y},he=(0,p.l)(ve,ge),be=function(e){return function(t){for(var r=f([],e(t),!0),n=[];r.length>0;){var i=r.shift();o.nM(i)?r.unshift.apply(r,e(i.left)):n.push(i.right)}return n}},ye=function(e){return function(t){var r=e(t),n=[],i=[];function a(t){o.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):i.push(t.right)}for(var s=0,c=r;s<c.length;s++){a(c[s])}for(;n.length>0;)a(n.shift());return i}},we=(l.oo,function(e){return d(e)?Ie:e.slice()}),Ie=l.cS;function Se(e){return function(t){return t.every(e)}}var Ee=function(e){return function(t){return t.some(e)}},ke=function(e){var t=l.j0(e);return function(r){return b((function(){return e.empty}),t(r))}},Ae=(o.F4,(0,a.Hr)(me));l.w6,l.QI,l.Ss},214:(e,t,r)=>{r.d(t,{Ce:()=>f,Eh:()=>O,Fp:()=>Q,Im:()=>d,Lx:()=>x,OE:()=>U,Od:()=>l,QI:()=>$,R3:()=>m,Ss:()=>X,UI:()=>k,VV:()=>L,YM:()=>T,Z$:()=>j,ZN:()=>D,aL:()=>F,c2:()=>v,cS:()=>c,dC:()=>u,iw:()=>q,j0:()=>B,jj:()=>g,lx:()=>S,nq:()=>z,of:()=>E,oo:()=>_,pO:()=>I,u4:()=>G,ur:()=>N,ut:()=>Y,w6:()=>b,ws:()=>p,xP:()=>P});var n=r(689),i=r(169),a=(r(289),r(614)),o=r(794),s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},c=a.Xl,l=a.Od,u=function(e,t){return e<0||e>=t.length},p=function(e){return function(t){return s([e],t,!0)}},f=p,d=function(e){return function(t){return s(s([],t,!0),[e],!1)}},m=d,_=function(e,t,r){if(l(r)){var n=a.r1(r);return n.splice(e,0,t),n}return[t]},g=function(e){return function(t){if(1===t.length)return t;for(var r=[T(t)],n=function(t){r.every((function(r){return!e.equals(r,t)}))&&r.push(t)},i=0,a=M(t);i<a.length;i++){n(a[i])}return r}},v=function(e){return l(e)?a.G(e):a.YP},h=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},b=function(e,t){return e<=t?h((function(t){return e+t}))(t-e+1):[e]};function y(e,t){return t?e.concat(t):function(t){return t.concat(e)}}var w=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},I=function(e){return function(t){for(var r=e(t),n=[r[0]],i=r[1];l(i);){var a=e(i),o=a[0],s=a[1];n.push(o),i=s}return n}},S=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[t,c]:[(0,i.zG)(t.slice(1,r),f(T(t))),t.slice(r)]}},E=a.ri,k=function(e){return A((function(t,r){return e(r)}))},A=function(e){return function(t){for(var r=[e(0,T(t))],n=1;n<t.length;n++)r.push(e(n,t[n]));return r}},G=function(e,t){return U(e,(function(e,r,n){return t(r,n)}))},x=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},z=function(e,t){return q(e,(function(e,r,n){return t(r,n)}))},U=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},P=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,i){return e.concat(r,t(i+1,n))}),t(0,r[0]))}}},q=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},C=a.YM,D=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},O=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},T=(a.F4,C),M=a.Gb,j=function(e){return e[e.length-1]},R=function(e){return e.slice(0,-1)},L=function(e){var t=o.VV(e);return function(e){return e.reduce(t.concat)}},Q=function(e){var t=o.Fp(e);return function(e){return e.reduce(t.concat)}},N=function(e){return function(t){return t.reduce(e.concat)}},F=function(e){return function(t){return e(T(t),M(t))}},Y=function(e){return function(t){return e(R(t),j(t))}},B=function(e){var t=N(e);return function(e){return(0,i.ls)(function(e){return function(t){var r=M(t);return l(r)?(0,i.zG)(r,w(e),f(T(t))):t}}(e),t)}};function $(e,t){return void 0===t?f(e):(0,i.zG)(t,f(e))}var X=function(e,t){return(0,i.zG)(e,y([t]))}},450:(e,t,r)=>{r.d(t,{Bu:()=>v,CC:()=>R,DZ:()=>re,EG:()=>g,EW:()=>$,Eh:()=>pe,G:()=>D,HA:()=>T,Hd:()=>x,I8:()=>Q,P5:()=>h,RF:()=>L,RJ:()=>F,SW:()=>H,Su:()=>y,UI:()=>w,Ub:()=>K,V_:()=>B,XP:()=>p,Yz:()=>P,_Y:()=>Y,_r:()=>G,cS:()=>b,dp:()=>c,dx:()=>m,e$:()=>_,hX:()=>te,jt:()=>z,kp:()=>j,mK:()=>Z,mS:()=>N,nn:()=>M,nr:()=>de,nu:()=>X,oA:()=>ce,oh:()=>le,qS:()=>J,ri:()=>k,sq:()=>q,t9:()=>O,tV:()=>ie,uK:()=>ne,uZ:()=>fe,vA:()=>W,vP:()=>A,xb:()=>l,yW:()=>C,z7:()=>U,zV:()=>V});var n=r(689),i=r(169),a=r(614),o=r(49),s=r(229),c=(r(226),function(e){return Object.keys(e).length}),l=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},u=function(e){return function(t){return Object.keys(t).sort(e.compare)}},p=u(s.Df);function f(e){if("function"==typeof e)return f(s.Df)(e);var t=u(e);return function(e){return function(r){for(var n=[],i=0,a=t(r);i<a.length;i++){var o=a[i];n.push(e(o,r[o]))}return n}}}var d=f(s.Df)((function(e,t){return[e,t]}));var m=function(e,t){return function(r){if(a.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},_=function(e,t){return a.e$.call(t,e)};function g(e){return function(t){if(!a.e$.call(t,e))return t;var r=Object.assign({},t);return delete r[e],r}}function v(e){return function(t,r){if(void 0===r){var n=v(e);return function(e){return n(e,t)}}for(var i in t)if(!a.e$.call(r,i)||!e.equals(t[i],r[i]))return!1;return!0}}function h(e,t){return void 0===t?function(t){return h(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var b={};function y(e){return function(t){var r={};for(var n in t)a.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function w(e){return y((function(t,r){return e(r)}))}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return I(s.Df).apply(void 0,e);var r=u(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),o=a.length,s=0;s<o;s++){var c=a[s];i=t(c,i,n[c])}return i}}}function S(e){if("compare"in e){var t=u(e);return function(e){return function(r){return function(n){for(var i=e.empty,a=t(n),o=a.length,s=0;s<o;s++){var c=a[s];i=e.concat(i,r(c,n[c]))}return i}}}}return S(s.Df)(e)}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(s.Df).apply(void 0,e);var r=u(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),o=a.length-1;o>=0;o--){var s=a[o];i=t(s,n[s],i)}return i}}}var k=function(e,t){var r;return(r={})[e]=t,r};function A(e){return Z(s.Df)(e)}function G(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var s=e(i,t[i]);switch(s._tag){case"Left":r[i]=s.left;break;case"Right":n[i]=s.right}}return(0,o.s4)(r,n)}}function x(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?n[i]=s:r[i]=s}return(0,o.s4)(r,n)}}function z(e){return function(t){var r={};for(var n in t)if(a.e$.call(t,n)){var i=e(n,t[n]);a.pC(i)&&(r[n]=i.value)}return r}}function U(e){return function(t){var r={},n=!1;for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?r[i]=o:n=!0}return n?r:t}}var P=d,q=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i[0]]=i[1]}return t};function C(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function D(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function O(e){return function(t,r){if(void 0===r){var n=O(e);return function(e){return n(t,e)}}for(var i in r)if(e.equals(r[i],t))return!0;return!1}}var T=function(e,t){return(0,i.zG)(e,w(t))},M=function(e,t){return(0,i.zG)(e,y(t))},j=function(e){var t=ae(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},R=function(e){return function(t){var r=oe(e)(t);return function(e,t){return(0,i.zG)(e,r(t))}}},L=function(e){var t=se(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},Q=function(e,t){return(0,i.zG)(e,te(t))},N=function(e,t){return(0,i.zG)(e,re(t))},F=function(e,t){return(0,i.zG)(e,ne(t))},Y=function(e,t){return(0,i.zG)(e,ie(t))},B=function(e){var t=I(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},$=function(e){var t=S(e);return function(e){var r=t(e);return function(e,t){return(0,i.zG)(e,r(t))}}},X=function(e){var t=E(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},H=function(e,t){return(0,i.zG)(e,G(t))},V=function(e,t){return(0,i.zG)(e,x(t))},K=function(e,t){return(0,i.zG)(e,z(t))},W=function(e,t){return(0,i.zG)(e,U(t))},J=function(e){var t=ee(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,i.ls)(i.SK,t))}}},Z=function(e){var t=J(e);return function(e){var r=t(e);return function(e){return r(e,i.yR)}}},ee=function(e){return function(t){var r=u(e);return function(e,n){var i=r(e);if(0===i.length)return t.of(b);for(var a=t.of({}),o=function(r){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}},te=function(e){return U((function(t,r){return e(r)}))},re=function(e){return z((function(t,r){return e(r)}))},ne=function(e){return x((function(t,r){return e(r)}))},ie=function(e){return G((function(t,r){return e(r)}))};function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=I(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ae(s.Df).apply(void 0,e)}function oe(e){if("compare"in e){var t=S(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return oe(s.Df)(e)}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=E(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return se(s.Df).apply(void 0,e)}var ce=function(e){var t={};for(var r in e)if(a.e$.call(e,r)){var n=e[r];a.pC(n)&&(t[r]=n.value)}return t},le=function(e){var t={},r={};for(var n in e)if(a.e$.call(e,n)){var i=e[n];a.nM(i)?t[n]=i.left:r[n]=i.right}return(0,o.s4)(t,r)},ue="ReadonlyRecord";function pe(e){var t=v(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function fe(e){return{concat:function(t,r){if(l(t))return r;if(l(r))return t;var n=Object.assign({},t);for(var i in r)a.e$.call(r,i)&&(n[i]=a.e$.call(t,i)?e.concat(t[i],r[i]):r[i]);return n},empty:b}}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df;function de(e,t){return a.e$.call(void 0===t?this:t,e)}s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df,s.Df},643:(e,t,r)=>{r.d(t,{H5:()=>s,Kl:()=>c,Lx:()=>u,Pd:()=>a,Yg:()=>i,li:()=>n,nq:()=>p,pL:()=>o,u4:()=>l});r(169);function n(e){return e[0]}function i(e){return e[1]}var a=function(e,t){return function(r){return[t(n(r)),e(i(r))]}},o=function(e){return function(t){return[e(n(t)),i(t)]}},s=function(e){return function(t){return[n(t),e(i(t))]}},c=n,l=function(e,t){return function(r){return t(e,n(r))}},u=function(){return function(e){return function(t){return e(n(t))}}},p=function(e,t){return function(r){return t(n(r),e)}}},794:(e,t,r)=>{r.d(t,{Z$:()=>l,Fp:()=>s,VV:()=>o,n_:()=>c});var n,i=r(614),a=r(856),o=function(e){return{concat:a.VV(e)}},s=function(e){return{concat:a.Fp(e)}},c=function(e){return{concat:function(t,r){var n={};for(var a in e)i.e$.call(e,a)&&(n[a]=e[a].concat(t[a],r[a]));return n}}},l=function(){return{concat:function(e,t){return t}}};n=void 0},49:(e,t,r)=>{r.d(t,{F2:()=>o,Vn:()=>i,s4:()=>n});r(169);var n=function(e,t){return{left:e,right:t}},i=function(e){return function(t){return n(e(a(t)),o(t))}},a=function(e){return e.left},o=function(e){return e.right}},46:(e,t,r)=>{r.d(t,{At:()=>A,Do:()=>G,Hi:()=>y,Hr:()=>z,PM:()=>b,UA:()=>S,UI:()=>d,YO:()=>x,ak:()=>U,ap:()=>m,dO:()=>h,gw:()=>l,mU:()=>E,of:()=>_,pE:()=>O,qA:()=>w,qo:()=>I,tD:()=>c,tS:()=>g,uU:()=>D});var n=r(335),i=r(755),a=r(169),o=r(289),s=r(614),c=function(e){return function(){return Promise.resolve().then(e)}};function l(e){return function(t){return function(){return new Promise((function(r){setTimeout((function(){Promise.resolve().then(t).then(r)}),e)}))}}}var u=function(e,t){return(0,a.zG)(e,d(t))},p=function(e,t){return(0,a.zG)(e,m(t))},f=function(e,t){return(0,a.zG)(e,g(t))},d=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},m=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},_=function(e){return function(){return Promise.resolve(e)}},g=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},v="Task";var h={URI:v,map:u},b={URI:v,of:_},y={URI:v,map:u,ap:p},w={URI:v,map:u,ap:p,of:_},I={URI:v,map:u,ap:p,chain:f},S={URI:v,map:u,of:_,ap:p,chain:f},E=(a.yR,(0,n.m)(I)),k={URI:v,fromIO:c},A=(0,i.At)(k,I),G=_(s.F4),x=(0,o.YO)(h),z=(0,o.Hr)(h),U=(0,n.a)(I),P=_(s.Xl),q=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return s.Od(e)?t(e):P}},C=function(e){var t=function(e){return function(t){return function(){return s.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,s.YM(t))).then(s.ri))}}}(e);return function(e){return s.Od(e)?t(e):P}},D=function(e){return q((function(t,r){return e(r)}))},O=function(e){return C((function(t,r){return e(r)}))}},6:(e,t,r)=>{r.d(t,{At:()=>te,DT:()=>J,EQ:()=>k,F2:()=>g,Hi:()=>H,Hr:()=>ae,Ij:()=>ce,LV:()=>A,OV:()=>X,Op:()=>y,QM:()=>v,Qt:()=>se,UI:()=>T,Vn:()=>j,Y3:()=>x,YO:()=>ie,Zl:()=>Q,ak:()=>oe,dk:()=>b,fF:()=>I,fS:()=>G,fX:()=>W,fj:()=>E,it:()=>z,lk:()=>h,oU:()=>ee,of:()=>F,t$:()=>_,tD:()=>w,tS:()=>L,wE:()=>ne,wp:()=>N});var n=r(945),i=r(335),a=r(125),o=r(906),s=r(755),c=r(241),l=r(169),u=r(289),p=r(614),f=r(46),d=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}c((n=n.apply(e,t||[])).next())}))},m=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},_=a.t$(f.PM),g=a.F2(f.PM),v=a.m8(f.dO),h=a.pk(f.dO),b=(0,l.ls)(f.tD,v),y=(0,l.ls)(f.tD,h),w=b,I=v,S=f.of,E=f.tD,k=a.EQ(f.dO),A=a.LV(f.UA),G=a.fS(f.UA),x=function(e,t){return function(){return d(void 0,void 0,void 0,(function(){var r;return m(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(p.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,p.t$(t(r))];case 3:return[2]}}))}))}},z=function(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return x((function(){return e.apply(void 0,r)}),t)}},U=(f.dO,f.PM,f.PM,f.UA,f.UA,f.UA,f.UA,f.dO,function(e,t){return(0,l.zG)(e,T(t))}),P=function(e,t){return(0,l.zG)(e,R(t))},q=function(e,t){return(0,l.zG)(e,L(t))},C=function(e,t,r){return(0,l.zG)(e,M(t,r))},D=function(e,t){return(0,l.zG)(e,j(t))},O=function(e,t){return(0,l.zG)(e,N(t))},T=a.UI(f.dO),M=a.Pd(f.dO),j=a.Vn(f.dO),R=a.ap(f.Hi),L=a.tS(f.UA),Q=L,N=a.wp(f.UA),F=g,Y=_,B="TaskEither";var $={URI:B,map:U},X=(0,u.OV)($),H={URI:B,map:U,ap:P},V={URI:B,map:U,ap:P,chain:q},K={URI:B,fromEither:S},W=(0,o.fX)(K,V),J=(0,o.DT)(K),Z={URI:B,fromIO:w},ee=(0,s.oU)(Z,V),te=(0,s.At)(Z,V),re={URI:B,fromIO:w,fromTask:I},ne=(0,c.oU)(re,V);p.F4;var ie=(0,u.YO)($),ae=(0,u.Hr)($),oe=(0,i.a)(V),se=(0,n.Qt)(H),ce=(p.Xl,{URI:B,bimap:C,mapLeft:D,map:U,of:F,ap:P,chain:q,alt:O,fromIO:w,fromTask:I,throwError:Y})},644:(e,t,r)=>{r.d(t,{H5:()=>o,Yg:()=>a,li:()=>i});var n=r(643),i=(r(169),n.li),a=n.Yg;var o=function(e){return function(t){return[i(t),e(a(t))]}};n.Kl,n.Lx,n.u4,n.nq},226:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}}function i(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}}r.d(t,{BL:()=>i,Fj:()=>n})},302:(e,t,r)=>{function n(e,t){return function(r){return r?t.of(void 0):e.zero()}}r.d(t,{l:()=>n})},169:(e,t,r)=>{r.d(t,{MZ:()=>a,Q1:()=>u,SK:()=>m,W8:()=>s,a9:()=>o,bc:()=>f,gn:()=>c,ls:()=>p,nn:()=>n,r5:()=>l,yR:()=>i,zG:()=>d});var n=function(e){return function(t){return t(e)}};function i(e){return e}var a=i;function o(e){return function(){return e}}var s=o(!0),c=o(null),l=o(void 0),u=l;function p(e,t,r,n,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return s(o(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(s(o(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function f(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function d(e,t,r,n,i,a,o,s,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return o(a(i(n(r(t(e))))));case 8:return s(o(a(i(n(r(t(e)))))));case 9:return c(s(o(a(i(n(r(t(e))))))));default:for(var l=arguments[0],u=1;u<arguments.length;u++)l=arguments[u](l);return l}}var m=function(e,t){return t}},614:(e,t,r)=>{r.d(t,{F2:()=>p,F4:()=>v,G:()=>s,Gb:()=>_,Od:()=>d,Wi:()=>i,Xl:()=>g,YM:()=>m,YP:()=>o,e$:()=>h,nM:()=>c,pC:()=>a,r1:()=>b,ri:()=>f,t$:()=>u,tO:()=>l});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){return"None"===e._tag},a=function(e){return"Some"===e._tag},o={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},c=function(e){return"Left"===e._tag},l=function(e){return"Right"===e._tag},u=function(e){return{_tag:"Left",left:e}},p=function(e){return{_tag:"Right",right:e}},f=function(e){return[e]},d=function(e){return e.length>0},m=function(e){return e[0]},_=function(e){return e.slice(1)},g=[],v={},h=Object.prototype.hasOwnProperty,b=function(e){return n([e[0]],e.slice(1),!0)}},307:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,Pc:()=>o});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=(n.equals,i.compare,{concat:function(e,t){return e+t}}),o={concat:a.concat,empty:0}},229:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,HD:()=>a,xb:()=>o});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return"string"==typeof e},o=function(e){return 0===e.length}},143:(e,t,r)=>{r.d(t,{GL:()=>s,HJ:()=>c,N1:()=>p,NC:()=>n,RP:()=>i,UM:()=>l,t_:()=>u});const n=performance.now(),i=(new Date).getTime();let a=[],o=!1;const s=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return c((()=>e(...r)))},c=(e,t)=>{if(!o){const r=self.setTimeout(e,t);return()=>self.clearTimeout(r)}let r;const n=()=>{void 0!==r&&o&&a.length<1e4&&a.push([r,performance.now()]),r=void 0},i=[self.setTimeout((()=>{r=performance.now(),self.requestAnimationFrame(n),e()}),t),self.setTimeout(n,t)];return()=>{void 0===r&&i.forEach((e=>self.clearTimeout(e)))}},l=(e,t)=>{if(!o){const r=self.setInterval(e,t);return()=>self.clearInterval(r)}let r=!1,n=()=>{};const i=self.setInterval((()=>{n=c((()=>{r||e()}))}),t);return()=>{r=!0,n(),self.clearInterval(i)}},u=e=>new Promise(((t,r)=>e.then(s(t),s(r)))),p=e=>()=>u(e())},52:(e,t,r)=>{r.d(t,{g1:()=>A,YO:()=>S,oQ:()=>T,a9:()=>b,Ue:()=>g,gS:()=>v,D8:()=>O,VS:()=>G,xH:()=>x,En:()=>h,p4:()=>D,fF:()=>C,Hr:()=>E,UI:()=>w,u4:()=>z,Rp:()=>U,vP:()=>P,bw:()=>M,YP:()=>y});var n=r(654),i=r(144),a=r(169),o=r(507),s=r(812),c=r(659);function l(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};r=[...r,a];return()=>{r=r.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function u(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function p(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=f(n(),(e=>"might_change"!==e&&t())),o=()=>a(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),o();break;case"might_change":a("might_change");break;case"nominal":o();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:i}=l(e),a={state:e,onStateChange:i},o=u("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{t?.(e),a.state=e,n(e)}finally{"final"===e&&r()}}));return[a,o]}var d=r(289),m=r(694);const _="Ref";function g(e){const[t,r,n]=function(){const[e,t]=f("nominal"),r=u("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[i,a]=j(t,e);return[i,e=>r((()=>a(e))),n]}function v(e){let t=e.empty;const r=()=>()=>{const r=t;return t=e.empty,r},[n,i,a]=g(r());return[n,n=>{t=e.concat(t,n),i(r())},a]}function h(e,t){return r=>{let n=new Array(e).fill(t.empty);return new Array(e).fill(null).map(((e,i)=>(0,a.zG)(r,w(m.UI((e=>{const r=t.concat(n[i],e);return n=n.map(((r,n)=>n===i?t.empty:t.concat(r,e))),r}))))))}}function b(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function y(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function w(e,t){if(t){const[r,n]=j(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>w(e,t)}const I={URI:_,map:(e,t)=>w(t)(e)},S=d.YO(I),E=d.Hr(I),k=e=>G((t=>w(t)(e))),A={URI:_,of:b,map:I.map,ap:(e,t)=>k(t)(e)};function G(e,t){return t?x(w(e,t)):t=>x(w(e,t))}function x(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[i,a]=f(n),o=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(o((()=>r)));const s=o((()=>e));let c=r.onStateChange(s);return[i,e=>{r=e,c(),c=e.onStateChange(s),s(r.state)}]}(e.branch,e.current.branch),[n,i]=j(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),r(e.branch),i(e.current)})),n}function z(e){return t=>{if("final"===t.branch.state)return t;let r=o.YP;return w((t=>{if(o.Wi(r))return r=o.G(t),t;const n=e(r.value,t);return r=o.G(n),n}),t)}}function U(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{if(2===t.length){let r=t[0];return w((e=>(r=t[1](r,e),r)),e)}let r=o.bM();return w((e=>{const n=t[0](r,e);return r=o.G(n),n}),e)}}function P(){if(0===arguments.length||R(arguments.length<=0?void 0:arguments[0]))return q(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>q(...e)),w((0,a.ls)(s.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function q(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return b([]);if(1===t.length)return w((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,l(t.map((e=>e.current))))},o=p(i,a),[s,l]=j(o,t.map((e=>e.current)));return s}function C(e){const[t,r,n]=g(o.YP);return e().then((0,a.ls)(o.G,r,n)),t}function D(e){const[t,r,s]=g(o.YP);return e.then(i.F2).catch((0,a.ls)(n.w,i.t$)).then((0,a.ls)(o.G,r,s)),t}function O(e){const t=e.hasOwnProperty("equals")?e.equals:e;return z(((e,r)=>t(e,r)?e:r))}function T(e){return R(e)?e:b(e)}function M(e){return t=>(y(e)(t),t)}function j(e,t){if("final"===e.state)return[b(t),()=>{}];const r=l(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},u("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function R(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},479:(e,t,r)=>{r.d(t,{Hr:()=>g,K4:()=>c,KD:()=>b,UI:()=>p,VS:()=>d,YO:()=>v,ak:()=>_,bw:()=>f,dQ:()=>l,kR:()=>y,of:()=>u,vP:()=>m,yi:()=>h});var n=r(52),i=r(169),a=r(659),o=r(450),s=r(507);const c=e=>(0,i.ls)((t=>{let{previousState:r,...n}=t;return e(n)}),(e=>({value:e,state:n.a9(void 0)}))),l=i.yR,u=(0,i.ls)(i.a9,c),p=e=>t=>(0,i.ls)(t,(0,a.rO)({value:e})),f=e=>t=>(0,i.ls)(t,(0,a.rO)({value:(0,a.bw)(e)}));function d(e){return t=>r=>{let{previousState:i,...a}=r;const o=t({previousState:Array.isArray(i)?i[0]:void 0,...a}),s=e(o.value)({previousState:Array.isArray(i)?i[1]:void 0,...a});return{value:s.value,state:n.vP(o.state,s.state)}}}function m(e){return t=>{let{previousState:r,...a}=t;const s=S(r)?r:{},c=(0,i.zG)(e,o.Su(((e,t)=>t({previousState:s[e],...a}))));return{value:(0,i.zG)(c,o.UI((e=>e.value))),state:(0,i.zG)(c,o.UI((e=>e.state)),(e=>n.vP(e)))}}}function _(e,t){return r=>(0,i.ls)((0,a.rO)({previousState:I}),(a=>{const o=r(a),s=t(o.value)({...a,previousState:a.previousState[e]});return{value:(0,i.zG)([o.value,s.value],(t=>{let[r,n]=t;if(!S(r))throw new Error("Service.bind() was passed an upstream Service with a non-record value.");return{...r,[e]:n}})),state:(0,i.zG)(n.vP(o.state,s.state),n.UI((t=>{let[r,n]=t;if(void 0===r)return{[e]:n};if(!S(r))throw new Error("Service.bind() was passed an upstream Service with a non-record state.");return{...r,[e]:n}})))}}))}const g=(e,t)=>p((r=>({...r,[e]:t(r)})));function v(e){return t=>(0,i.ls)((0,a.rO)({previousState:(0,i.ls)(I,(t=>t[e]))}),t,(0,a.rO)({value:t=>({[e]:t}),state:n.UI((t=>({[e]:t})))}))}const h=(e,t)=>{const r=t||(t=>t===e);return t=>l((o=>{let{previousState:s,...c}=o;const l=Array.isArray(s)&&2===s.length&&r(s[0])?s[1]:void 0;return(0,i.zG)({previousState:l,...c},t,(0,a.rO)({state:n.UI((t=>[e,t]))}))}))},b=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],n=[...t.map((e=>{let[t,r]=e;return[t,(0,i.a9)(r)]})),(0,i.a9)(r)];return y((0,a.lo)(n))};function y(e){return(0,i.ls)(n.UI(e),w)}function w(e){const t=(0,i.zG)(e,n.Rp(0,(e=>e+1)));return r=>{let{previousState:a,stopped:o,...c}=r;return(0,i.zG)(n.vP(e,t),n.Rp(((e,r)=>{let[l,u]=r;return(0,i.zG)(e,s.UI((e=>e.state.current)),s.fS((()=>a)),(e=>l({previousState:e,stopped:(0,i.zG)(n.vP(o,t),n.UI((e=>{let[t,r]=e;return t||r!==u}))),...c})))})),(e=>({value:n.UI((e=>e.value),e),state:n.VS((e=>e.state),e)})))}}function I(e){return S(e)?e:{}}function S(e){return"object"==typeof e&&null!==e}},905:(e,t,r)=>{r.d(t,{d:()=>p,m:()=>u});var n=r(169),i=r(144),a=r(507),o=r(52),s=r(659),c=r(479),l=r(689);const u=e=>c.dQ((t=>{let{stopped:r,previousState:c}=t;const l=function(e){return g(e)?e:{validityKey:"",lastSuccess:a.YP}}(c),u=(0,n.zG)(l,(e=>({...e,inFlight:a.YP,lastSuccess:(0,n.zG)(e.lastSuccess,a.UI(i.F2))}))),p=(0,n.zG)(e,o.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),(e=>o.vP(e,r)),o.Rp(o.a9(u),((e,t)=>{let[r,c]=t;if(c)return e;const l=r.validity.key(),u=a.hX((e=>r.currentTimestampSecs-e.timestamp<=r.validity.maxAge)),p=(0,s.HP)(r.freshness.key),f=a.hX((e=>r.currentTimestampSecs-e.timestamp<=r.freshness.maxAge&&e.freshnessKey===p())),d=(0,n.zG)(e,o.UI((0,n.ls)(a.DT((e=>e.validityKey===l)),a.EQ((()=>({validityKey:l,inFlight:a.YP,lastSuccess:a.YP})),(0,s.rO)({inFlight:u,lastSuccess:a.tS(i.EQ((e=>a.G(i.t$(e))),(0,n.ls)(a.G,u,a.UI((e=>i.F2(e))))))})))),o.D8(m()));if((0,n.zG)(d.current,(e=>(0,n.zG)(e.inFlight,a.wp((()=>(0,n.zG)(e.lastSuccess,a.tS(a.Uo)))),f,a.pC))))return d;const _=()=>({timestamp:r.currentTimestampSecs,freshnessKey:p(),output:a.YP});return(0,n.zG)(r.refresh,a.EQ((()=>d),(0,n.ls)((0,n.nn)({previous:(0,n.zG)(d.current.lastSuccess,a.tS(a.Uo),a.tS((e=>e.output)))}),o.fF,o.UI(a.EQ((()=>(0,n.zG)(d,o.UI((0,s.rO)({inFlight:()=>a.G(_())})))),i.EQ((e=>(0,n.zG)(d,o.UI((0,s.rO)({inFlight:()=>a.YP,lastSuccess:(0,n.ls)(a.tS((0,n.ls)(a.Uo,a.hX((e=>a.pC(e.output))))),i.Yo((()=>e)),a.G)})))),(e=>o.a9({validityKey:l,inFlight:a.YP,lastSuccess:a.G(i.F2({..._(),output:a.G(e)}))}))))),o.xH)))})),o.xH,o.D8(m())),f=(0,n.zG)(p,o.UI((e=>({validityKey:e.validityKey,lastSuccess:(0,n.zG)(e.lastSuccess,a.tS(a.Uo))}))),o.D8(_())),d=(0,n.zG)(f,o.Rp(-1,(e=>e+1)));return{value:(0,n.zG)(p,o.UI((0,n.ls)((0,s.vg)("lastSuccess"),a.UI(i.UI((e=>e.output))),a.fS((()=>i.F2(a.YP)))))),state:(0,n.zG)(o.vP(f,d),o.UI((e=>{let[t,r]=e;return r>0?t:_().equals(t,l)?c:t})))}})),p=e=>t=>(0,n.ls)((0,s.rO)({previousState:(0,n.ls)(a.DT(g),a.YO("s1"),a.Hr("s2",(t=>{let{s1:r}=t;return(0,n.zG)(r,(0,s.rO)({lastSuccess:a.UI((0,s.rO)({output:a.tS(e)}))}))})),a.UI((e=>{let{s1:t,s2:r}=e;return _().equals(t,r)?t:r})),a.FS)}),t),f=()=>l.n_({freshnessKey:(0,s.Or)(),timestamp:(0,s.Or)(),output:a.Eh((0,s.Or)())});function d(e){return"object"==typeof e&&null!==e&&(!(!("freshnessKey"in e)||!v(e.freshnessKey))&&("timestamp"in e&&"number"==typeof e.timestamp&&!(!("output"in e)||!(0,s.El)(e.output))))}const m=()=>l.n_({validityKey:(0,s.Or)(),inFlight:a.Eh(f()),lastSuccess:a.Eh(i.Eh((0,s.Or)(),f()))}),_=()=>l.n_({validityKey:(0,s.Or)(),lastSuccess:a.Eh(f())});function g(e){return"object"==typeof e&&null!==e&&(!(!("validityKey"in e)||!v(e.validityKey))&&!!("lastSuccess"in e&&(0,s.El)(e.lastSuccess)&&(0,n.zG)(e.lastSuccess,a.EQ((()=>!0),d))))}function v(e){return null===e||"string"==typeof e||"number"==typeof e}},962:(e,t,r)=>{r.r(t),r.d(t,{PermutiveActivationManagerWeb:()=>o,optimisedActivationsConfig:()=>a});class n{logger;permutive;id;segmentCode;triggerType;config;workspaceLevelConfig;prefix="[Activation]";constructor(e,t,r,n,i,a,o){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=i,this.config=a,this.workspaceLevelConfig=o}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var i=r(478);const a={dfp:{dfp:[118667,84737,128352,141104,121935,85653,128345,89866,115305,141137,87523,98423,90680,92389,121962,89152,95572,83722,87605,118636,118640,148305,121927,115304,156606,118692,121964,89855,156477,121928,118699,87806,83657,118682,121937,141128,90742,156605,87592,87500,121932,156604,156611,90030,90584,141095,141107,166684,84739,90422,121968,90419,118678,90423,141138,118641,87505,85010,167167,115032,90029,141108,87313,127872,89859,121973,156471,87497,156609,147354,121958,85015,141093,135504,87522,87502,85012,87618,141130,118687,118695,87504,87487,87601,175337,88974,87510,121942,156602,127873,124301,90420,128348,84746,87317,84738,141127,98843,118658,118653,90754,87511,118637,90678,121967,87614,93351,118663,83658,121934,84753,141116,84745,118672,89858,90741,90424,121933,102174,90752,133921,87501,92387,89857,128349,90683,87604,92383,87493,87422,121930,121936,141094,99355,84735,98954,90760,125057,89861,118655,141993,85007,87611,89862,84750,141119,84732,84736,121969,118676,141136,141092,156608,84751,87521,103324,118698,121940,118683,118701,140205,130673,87508,118700,118696,89863,121965,141131,123885,87615,118664,88975,128347,95574,141106,87515,84748,118697,87314,89867,87518,141133,84733,141113,84677,87517,118681,87524,141118,84744,87503,118661,124302,87495,87492,118670,124303,84742,118656,149425,121970,121974,118659,156473,99356,83659,118680,146387,114090,89864,141117,92380,90681,141135,87312,84749,103327,95575,92385,114092,121963,141096,90759,121956,121944,87488,87595,87512,141126,118671,114961,121929,118665,88152,121957,141102,89865,156607,90756,121966,118703,156469,141123,92388,118660,130672,175336,90679,118674,87617,141114,141098,118686,84754,121961,163182,141103,118689,141111,141109,141091,141100,118690,88973,87603,156476,118644,118684,99352,87588,98842,114959,121926,115033,118638,92386,84740,118694,87591,156610,118654,121971,118646,118657,90755,118662,95573,85302,118650,156468,156603,141122,141124,121451,121959,118704,87491,87490,114091,85016,141134,90421,141125,84413,118639,118693,118679,87613,87606,118645,121939,118651,118669,85011,83650,103313,99357,89856,90682,84743,87608,118668,118648,141099,85014,141120,87619,90753,84734,83654,156474,163181,90745,87509,90740,87513,90427,141090,118649,85017,87514,90583,118642,141112,141105,87519,130647,84747,141115,87506,121931,89860,156470,99360,141121,85403,156472,141994,118635,87612,84741,87602,165534,121941,114960,121972,90758,141139,118675,87594,90749,141132,127875,87507,121975,118691,118643,87616,87421,92384,118647,85008,88153,141101,118702,87520,156475,84752,118677,99359,99358,118673,92377,141110,121960,118666,118685,90757,127658,118688,141097,115031,115303,85593,100800,121943,141089,141129,85009,87494,121938,167934,177711,177712,177715,177810,177812,181379,181377,181375,183399,102196,184227,187915,187916,187917,180105,180104,189930,192429,193022,193023,193025,193026,193027,193028,195993,197982,197983,197997,197998,197999,198001,198003,198004,198005,198591,198002,201567,201566,201565,201564,201563,201562,201561,201560,201559,202776,202911,201568,208476,208480,208537,208539,208559,208771,210691,228875,237974,230348,238174,238172,242265,242266,242267,244915,246178,248492,248493,248494,248495,248497,248499,248500,248501,124320,123783,72374,109017,187099,187100,185616,187101,187102,187103,187109,185622,185635,187137,185636,187146,185630,188044,187096,187097,187108,187111,187112,206405,237324],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{207970:40308915,246737:41268956,248104:41359328},appnexus_adserver:[83650,124320,123783],nativo:[],rubicon_ssp:[83650,83654],smart:[],freewheel:[],adswizz_keyvalue:[],curation_platforms:{72374:["ctnl","ctno","ctnl"],87512:["dnlt"],87588:["dfjx","dnlt","dfjr","dfjr"],87592:["dnlt"],87594:["dnlt"],87596:["dnlt"],109500:["dnnh"],121924:["dnlt"],121935:["dnlt"],121938:["dnlt"],121951:["dnlt"],121957:["dnlt"],121959:["dnlt"],121962:["dnlt"],121969:["dnlt"],121973:["dnlt"],145919:["dnnh"],206405:["dnlt"],230348:["dnlt"],adv:["adv"]}};class o{logger;permutive;clientContext;constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r}getSpecializedActivations(e){return a[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},478:(e,t,r)=>{r.d(t,{Hn:()=>i});const n={standard_cohorts:{auto_init:!0,standard_audiences:{affinity_enabled:!0},activationConfigs:[]},ssp:{auto_init:!0,ssps:["pubmatic","appnexus"],cohort_mapping:{1e7:"bgyz",10000001:"bhgp",10000002:"bhhc",10000003:"bhhg",10000004:"bhhk",10000005:"bhhp",10000006:"bhhv",10000007:"bhhy",10000008:"bhie",10000010:"bhis",10000011:"bhiz",10000012:"bhji",10000013:"bhjq",10000014:"bhka",10000015:"bhkl",10000016:"bhkr",10000017:"bhky",10000018:"bhlg",10000019:"bhli",10000020:"bhlo",10000021:"bhlp",10000022:"bhnd",10000023:"bhnl",10000024:"bhnp",10000025:"bhnw",10000026:"bhoj",10000035:"bgzb",10000036:"bhgq",10000037:"bhgs",10000038:"bhgw",10000039:"bhgy",10000040:"bhgz",10000041:"bhhe",10000042:"bhhh",10000043:"bhhw",10000044:"bhhx",10000045:"bhhz",10000046:"bhia",10000047:"bhif",10000048:"bhig",10000049:"bhii",10000050:"bhij",10000051:"bhik",10000052:"bhim",10000053:"bhip",10000054:"bhit",10000055:"bhiu",10000056:"bhiv",10000057:"bhiy",10000058:"bhjm",10000059:"bhjr",10000060:"bhjs",10000061:"bhjw",10000062:"bhjx",10000063:"bhkm",10000064:"bhir",10000065:"bhko",10000066:"bhkp",10000067:"bhkq",10000068:"bhkz",10000069:"bhla",10000070:"bhlb",10000071:"bhle",10000072:"bhlf",10000073:"bhlq",10000074:"bhlt",10000075:"bhlu",10000076:"bhlw",10000077:"bhlx",10000078:"bhly",10000079:"bhmb",10000080:"bhmi",10000081:"bhmj",10000082:"bhml",10000083:"bhmp",10000084:"bhmr",10000085:"bhmw",10000086:"bhmz",10000087:"bhne",10000088:"bhnf",10000089:"bhni",10000090:"bhnn",10000324:"bhhj",10000325:"bhhi",10000327:"bhku",10000328:"bhkt",10000329:"bhkw",10000330:"bhkv",10000687:"bgzc",10000688:"bgza",10000689:"bhha",10000690:"bhgt",10000691:"bhgx",10000692:"bhgv",10000693:"bhgr",10000694:"bhgu",10000695:"bhhb",10000696:"bhhd",10000697:"bhhf",10000698:"bhhl",10000699:"bhho",10000700:"bhhm",10000701:"bhhn",10000702:"bhhq",10000703:"bhht",10000704:"bhhu",10000705:"bhhs",10000706:"bhhr",10000707:"bhib",10000708:"bhid",10000709:"bhic",10000710:"bhio",10000711:"bhin",10000712:"bhil",10000713:"bhiq",10000714:"bhih",10000715:"bhiw",10000716:"bhix",10000717:"bhja",10000718:"bhjc",10000719:"bhjd",10000720:"bhje",10000721:"bhjf",10000722:"bhjb",10000723:"bhjg",10000724:"bhjh",10000725:"bhjo",10000726:"bhjk",10000727:"bhjn",10000728:"bhjj",10000729:"bhjl",10000730:"bhjy",10000731:"bhju",10000732:"bhjv",10000733:"bhjz",10000734:"bhjt",10000735:"bhkj",10000736:"bhkk",10000737:"bhki",10000738:"bhkd",10000739:"bhkc",10000740:"bhkf",10000741:"bhkh",10000742:"bhkb",10000743:"bhkg",10000744:"bhke",10000745:"bhjp",10000746:"bhkn",10000747:"bhkx",10000748:"bhks",10000749:"bhld",10000750:"bhlc",10000751:"bhlh",10000752:"bhlk",10000753:"bhlj",10000754:"bhll",10000755:"bhlm",10000756:"bhlv",10000757:"bhna",10000758:"bhmv",10000759:"bhmt",10000760:"bhmy",10000761:"bhmc",10000762:"bhmo",10000763:"bhls",10000764:"bhmq",10000765:"bhme",10000766:"bhmh",10000767:"bhlz",10000768:"bhlr",10000769:"bhnb",10000770:"bhmk",10000771:"bhmu",10000772:"bhmx",10000773:"bhmg",10000774:"bhmd",10000775:"bhmf",10000776:"bhnc",10000777:"bhmn",10000778:"bhmm",10000779:"bhma",10000780:"bhms",10000781:"bhng",10000782:"bhnj",10000783:"bhnh",10000784:"bhnk",10000785:"bhno",10000786:"bhnm",10000787:"bhnu",10000788:"bhnv",10000789:"bhns",10000790:"bhnt",10000791:"bhnq",10000792:"bhnr",10000793:"bhob",10000794:"bhny",10000795:"bhod",10000796:"bhoh",10000797:"bhog",10000798:"bhnz",10000799:"bhoa",10000800:"bhoe",10000801:"bhnx",10000802:"bhoc",10000803:"bhof"},all_cohort_mapping:{1e7:["bgyz"],10000001:["bhgp"],10000002:["bhhc"],10000003:["bhhg"],10000004:["bhhk"],10000005:["bhhp"],10000006:["bhhv"],10000007:["bhhy"],10000008:["bhie"],10000010:["bhis"],10000011:["bhiz"],10000012:["bhji"],10000013:["bhjq"],10000014:["bhka"],10000015:["bhkl"],10000016:["bhkr"],10000017:["bhky"],10000018:["bhlg"],10000019:["bhli"],10000020:["bhlo"],10000021:["bhlp"],10000022:["bhnd"],10000023:["bhnl"],10000024:["bhnp"],10000025:["bhnw"],10000026:["bhoj"],10000035:["bgzb"],10000036:["bhgq"],10000037:["bhgs"],10000038:["bhgw"],10000039:["bhgy"],10000040:["bhgz"],10000041:["bhhe"],10000042:["bhhh"],10000043:["bhhw"],10000044:["bhhx"],10000045:["bhhz"],10000046:["bhia"],10000047:["bhif"],10000048:["bhig"],10000049:["bhii"],10000050:["bhij"],10000051:["bhik"],10000052:["bhim"],10000053:["bhip"],10000054:["bhit"],10000055:["bhiu"],10000056:["bhiv"],10000057:["bhiy"],10000058:["bhjm"],10000059:["bhjr"],10000060:["bhjs"],10000061:["bhjw"],10000062:["bhjx"],10000063:["bhkm"],10000064:["bhir"],10000065:["bhko"],10000066:["bhkp"],10000067:["bhkq"],10000068:["bhkz"],10000069:["bhla"],10000070:["bhlb"],10000071:["bhle"],10000072:["bhlf"],10000073:["bhlq"],10000074:["bhlt"],10000075:["bhlu"],10000076:["bhlw"],10000077:["bhlx"],10000078:["bhly"],10000079:["bhmb"],10000080:["bhmi"],10000081:["bhmj"],10000082:["bhml"],10000083:["bhmp"],10000084:["bhmr"],10000085:["bhmw"],10000086:["bhmz"],10000087:["bhne"],10000088:["bhnf"],10000089:["bhni"],10000090:["bhnn"],10000324:["bhhj"],10000325:["bhhi"],10000327:["bhku"],10000328:["bhkt"],10000329:["bhkw"],10000330:["bhkv"],10000687:["bgzc"],10000688:["bgza"],10000689:["bhha"],10000690:["bhgt"],10000691:["bhgx"],10000692:["bhgv"],10000693:["bhgr"],10000694:["bhgu"],10000695:["bhhb"],10000696:["bhhd"],10000697:["bhhf"],10000698:["bhhl"],10000699:["bhho"],10000700:["bhhm"],10000701:["bhhn"],10000702:["bhhq"],10000703:["bhht"],10000704:["bhhu"],10000705:["bhhs"],10000706:["bhhr"],10000707:["bhib"],10000708:["bhid"],10000709:["bhic"],10000710:["bhio"],10000711:["bhin"],10000712:["bhil"],10000713:["bhiq"],10000714:["bhih"],10000715:["bhiw"],10000716:["bhix"],10000717:["bhja"],10000718:["bhjc"],10000719:["bhjd"],10000720:["bhje"],10000721:["bhjf"],10000722:["bhjb"],10000723:["bhjg"],10000724:["bhjh"],10000725:["bhjo"],10000726:["bhjk"],10000727:["bhjn"],10000728:["bhjj"],10000729:["bhjl"],10000730:["bhjy"],10000731:["bhju"],10000732:["bhjv"],10000733:["bhjz"],10000734:["bhjt"],10000735:["bhkj"],10000736:["bhkk"],10000737:["bhki"],10000738:["bhkd"],10000739:["bhkc"],10000740:["bhkf"],10000741:["bhkh"],10000742:["bhkb"],10000743:["bhkg"],10000744:["bhke"],10000745:["bhjp"],10000746:["bhkn"],10000747:["bhkx"],10000748:["bhks"],10000749:["bhld"],10000750:["bhlc"],10000751:["bhlh"],10000752:["bhlk"],10000753:["bhlj"],10000754:["bhll"],10000755:["bhlm"],10000756:["bhlv"],10000757:["bhna"],10000758:["bhmv"],10000759:["bhmt"],10000760:["bhmy"],10000761:["bhmc"],10000762:["bhmo"],10000763:["bhls"],10000764:["bhmq"],10000765:["bhme"],10000766:["bhmh"],10000767:["bhlz"],10000768:["bhlr"],10000769:["bhnb"],10000770:["bhmk"],10000771:["bhmu"],10000772:["bhmx"],10000773:["bhmg"],10000774:["bhmd"],10000775:["bhmf"],10000776:["bhnc"],10000777:["bhmn"],10000778:["bhmm"],10000779:["bhma"],10000780:["bhms"],10000781:["bhng"],10000782:["bhnj"],10000783:["bhnh"],10000784:["bhnk"],10000785:["bhno"],10000786:["bhnm"],10000787:["bhnu"],10000788:["bhnv"],10000789:["bhns"],10000790:["bhnt"],10000791:["bhnq"],10000792:["bhnr"],10000793:["bhob"],10000794:["bhny"],10000795:["bhod"],10000796:["bhoh"],10000797:["bhog"],10000798:["bhnz"],10000799:["bhoa"],10000800:["bhoe"],10000801:["bhnx"],10000802:["bhoc"],10000803:["bhof"]},affinity_enabled:!0,activationConfigs:[]},contextual_data:{auto_init:!0,activationConfigs:[]},curation_platforms:{auto_init:!0,prebid_ssp_codes:["pubmatic","appnexus","ix","openx"],activationConfigs:[]},prebid_analytics:{auto_init:!0,event_sampling_config:{prebid_auctions:{probability_threshold:.9}},activationConfigs:[]},web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!0,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},rubicon_ssp:{auto_init:!0,publisher_id:"11492",activationConfigs:[]},brightcove:{auto_init:!1,activationConfigs:[]},clean_room:{auto_init:!0,default_config:{},cohort_ssp_config:[],activationConfigs:[]},local_storage:{auto_init:!0,activationConfigs:[{id:"c490d78c-f46a-4f34-be6e-8a50202fa507",short_id:"84751",tt:"EveryTime",sc:84751,c:{storage_key:"_pnewscorp"},wc:{}},{id:"de35a6b1-cb36-444c-9f94-2874c6459720",short_id:"84750",tt:"EveryTime",sc:84750,c:{storage_key:"_pnewscorp"},wc:{}}]},ctv:{auto_init:!1,ctv_engagement_enabled:!0,ctv_engagement_event_seconds:5,activationConfigs:[]},pubmatic__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"pubmatic",type:"curation_platform",activationConfigs:[]},xandr__curation_platform:{auto_init:!0,activation_method:"prebid",ssp_code:"appnexus",type:"curation_platform",activationConfigs:[]},appnexus:{auto_init:!0,member_id:7228,activationConfigs:[]},appnexus_adserver:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]},privacy_sandbox_topics:{auto_init:!0,prebid:!1,topics_iframe_url:"https://cdn.permutive.app/topics.html",activationConfigs:[]}},i=e=>{const t=n[e];return(e,r)=>t?.[e]??r};i("web"),i("dfp"),i("facebook_pixel_v2")},825:(e,t,r)=>{r.d(t,{X:()=>i,k:()=>n});const n=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),i=e=>({id:e.id,name:e.name,time:(a(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),a=e=>isFinite(e)&&e instanceof Date},952:(e,t,r)=>{r.d(t,{F:()=>l,I:()=>c});var n=r(52),i=r(694),a=r(812),o=r(169),s=r(659);const c=(e,t)=>{let r=!1;return n.UI(i.UI((0,s.bw)((n=>{r||(r=(0,o.zG)(n,a.G((e=>{let[,t]=e;return"Pageview"===t.name}))),r&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:t,time_origin:"sdk_init"}))}))))},l=(e,t)=>{const r=c(e,t);return(0,o.ls)(n.En(2,a.uZ()),(e=>{let[t,i]=e;return(0,o.zG)(i,r,n.UI((e=>e()))),t}))}},112:(e,t,r)=>{r.r(t),r.d(t,{service:()=>Va});var n=r(169),i=r(479),a=r(52),o=r(507),s=r(643);const c=e=>{const t=e.current;return(0,n.zG)(e,a.UI((e=>e===t?{segmentsEntered:[],segmentsExited:[]}:{segmentsEntered:(0,n.zG)(e,u(t)),segmentsExited:(0,n.zG)(t,u(e))})))},l=e=>new Set(e),u=e=>t=>(0,n.zG)(t,p((t=>!e.has(t)))),p=e=>t=>{const r=[];return t.forEach((t=>e(t)&&r.push(t))),r};var f=r(694),d=r(143),m=r(659);const _=()=>({kind:"null",value:null}),g=e=>({kind:"string",value:e}),v=e=>({kind:"number",value:e}),h=e=>({kind:"array",value:e}),b=e=>({kind:"object",value:e}),y=e=>e,w=()=>({kind:"bottom"}),I=e=>({kind:"inner",a:e}),S=e=>({kind:"top",error:e}),E=e=>({kind:"unbounded",group:e}),k=(e,t)=>({kind:"windowed",key:t,group:e}),A=(e,t,r)=>({kind:"countLimit",n:r,limit:t,group:e}),G=(e,t,r)=>({kind:"uniqueLimit",n:r,limit:t,group:e}),x=e=>({kind:"numberGroup",group:e}),z=e=>({kind:"stringGroup",group:e}),U=e=>({kind:"tuple",tuple:e}),P=e=>({state:e}),q=(e,t)=>({commands:e,payload:t});var C=r(856),D=r(229);const O=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return I(t(e.a));case"top":return S(e.error)}},T=e=>(0,C.Zt)(((t,r)=>{if("bottom"===t.kind&&"bottom"===r.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===r.kind)return 1;if("top"===t.kind&&"top"===r.kind)return D.Df.compare(t.error,r.error);if("top"===t.kind)return 1;if("top"===r.kind)return-1;if("inner"===t.kind&&"inner"===r.kind)return e.compare(t.a,r.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=r(606),j=r(340),R=r(144),L=function(e){return-1===e?1:1===e?-1:0};function Q(e,t){return(0,j.oA)(e.map(t))}function N(e,t,r,n){const i=(e,t)=>{if(0===e.length)return(0,j.oA)(t.map((e=>(0,o.G)({1:e[1],2:r(o.YP,(0,o.G)(e[2]))}))));if(0===t.length)return(0,j.oA)(e.map((e=>(0,o.G)({1:e[1],2:r((0,o.G)(e[2]),o.YP)}))));if(e.length>0&&t.length>0&&(0,C.lt)(n)(e[0][1],t[0][1])){const[n,...a]=e,s=n[1],c=n[2];return(0,j.Ce)({1:s,2:r((0,o.G)(c),o.YP)})(i(a,t))}if(e.length>0&&t.length>0&&(0,C.gt)(n)(e[0][1],t[0][1])){const[n,...a]=t,s=n[1],c=n[2];return(0,j.Ce)({1:s,2:r(o.YP,(0,o.G)(c))})(i(e,a))}if(e.length>0&&t.length>0){const[n,...a]=e,[s,...c]=t,l=n[1],u=n[2],p=s[2];return(0,j.Ce)({1:l,2:r((0,o.G)(u),(0,o.G)(p))})(i(a,c))}throw new Error("Non exhaustive match in mapOption2")},a=(0,C.Uz)((e=>e[1]))(n),s=(e=>{const t=Q(e,(e=>(0,o.pC)(e[2])?(0,o.G)({1:e[1],2:e[2].value}):o.YP));return 0===t.length?o.YP:(0,o.G)(t)})(i((0,j.DY)(a)([...e].map((e=>({1:e[0],2:e[1]})))),(0,j.DY)(a)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,o.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function F(e,t,r,n){const i=(0,C.Uz)((e=>e[0]))(n),a=(0,j.DY)(i)([...t]).reduceRight(((e,t)=>{if((0,R.nM)(e)){const n=r(t[1],e.left);return(0,o.pC)(n)?(0,R.t$)(n.value):(0,R.F2)(t[0])}return e}),(0,R.t$)(e));return(0,o.Uo)(a)}function Y(e,t){return new Map([...e].map(t))}function B(e,t){return new Map([...e].filter(t))}var $=r(689),X=r(307);function H(e){return JSON.stringify(V(e))}function V(e){switch(e.kind){case"null":return J.encode(e);case"string":return Z.encode(e);case"number":return ee.encode(e);case"array":return te.encode(e);case"object":return re.encode(e)}}function K(e){return null===e?J.decode(e):"number"==typeof e?ee.decode(e):"string"==typeof e?Z.decode(e):Array.isArray(e)?te.decode(e):re.decode(e)}const W=(e,t)=>(0,R.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),J={encode:e=>null,decode:e=>null===e?(0,R.F2)({kind:"null",value:null}):W(e,"SimpleNull")},Z={encode:e=>e.value,decode:e=>"string"==typeof e?(0,R.F2)(g(e)):W(e,"SimpleString")},ee={encode:e=>e.value,decode:e=>"number"==typeof e?(0,R.F2)(v(e)):W(e,"SimpleNumber")},te={encode:e=>e.value.map(V),decode:e=>{if(Array.isArray(e)){const t=(0,j.fw)(R.g1)(K)(e);return(0,R.UI)(h)(t)}return W(e,"SimpleArray")}},re={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(e=>{let[t,r]=e;return{[t]:V(r)}})))},decode:e=>{if(e&&e.constructor===Object){const t=(0,j.fw)(R.g1)((e=>{let[t,r]=e;return(0,n.zG)(K(r),(0,R.UI)((e=>(0,n.bc)(t,e))))}))(Object.entries(e));return(0,R.UI)((e=>b(new Map([...e]))))(t)}return W(e,"SimpleObject")}};function ne(e){return(0,n.zG)(e,ae,(0,o.UI)(H),(0,o.fS)((()=>"<encode error>")))}function ie(e){return(0,o.UI)(pe)(function(e){switch(e.state.kind){case"top":return(0,o.G)(g(e.state.error));case"bottom":return o.YP;case"inner":return ae(e.state.a)}}(e))}function ae(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return oe(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,o.G)(h(function(e,t){const r=(0,o.UI)((e=>(0,j.Ce)(e)(t)))(e);return(0,o.fS)((()=>t))(r)}((0,o.UI)((e=>g(function(e){const t=e=>(0,o.EQ)((()=>""),(e=>"b"+JSON.stringify(e)))(e.bound),r=e=>{switch(e.operation){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>{const n=t(e[1])+r(e[1]);return 1===e[2]?n:n+JSON.stringify(e[2])};return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return g(e.error);case"inner":return v(e.a)}},r=e=>Q([se,ce,e=>(0,n.zG)(e,ue,b,o.G)],(t=>t(e))),i=e=>Q([se,le,e=>(0,n.zG)(e,ue,(e=>Y(e,(e=>{let[t,r]=e;return[JSON.stringify(t),r]}))),b,o.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return r(e.group);case"numberGroup":return i(e.group)}}(e.payload)))):o.YP}function oe(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,o.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,o.pC)(e.limit)}}function se(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.G)(g("w"));case"countLimit":return(0,o.G)(g(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,o.G)(g(1===e.n?"u":`u${e.n}`))}}function ce(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.G)(g((0,o.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,o.G)(g((0,o.pC)(e.limit)?e.limit.value:""))}}function le(e){switch(e.kind){case"unbounded":return o.YP;case"windowed":return(0,o.pC)(e.key)?(0,o.G)(v(e.key.value)):(0,o.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,o.pC)(e.limit)?(0,o.G)(v(e.limit.value)):(0,o.G)({kind:"null",value:null})}}function ue(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function pe(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?pe(e.value[0]):h(e.value.map(pe));case"object":return(0,n.zG)(B(e.value,(e=>{let[t,r]=e;return"null"!==r.kind})),(e=>Y(e,(e=>[e[0],pe(e[1])]))),b);default:return e}}function fe(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return o.YP;const[t,r,n,i]=e;if("string"===t.kind&&"string"===r.kind&&"object"===i.kind){const e=(0,o.DT)((e=>de(e[1].value)&&me(e[2].value)))({1:t,2:r});return(0,o.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:i.value})))(e)}return o.YP})(e);if((0,o.pC)(t)){const{prim:e,grp:r,cutoff:n,m:i}=t.value,a=_e(n,i,ge(r));return"string"==typeof a?S(a):I(q(ve(e),a))}const r=(e=>{if(3!==e.length)return o.YP;const[t,r,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,o.DT)((e=>me(e.value)))(t);return(0,o.UI)((e=>({grp:e.value,cutoff:r,m:n.value})))(e)}return o.YP})(e);if((0,o.pC)(r)){const{grp:e,cutoff:t,m:n}=r.value,i=_e(t,n,ge(e));return"string"==typeof i?S(i):I(q(o.YP,i))}const n=(e=>{if(2!==e.length)return o.YP;const[t,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,o.DT)((e=>de(e.value)))(t);return(0,o.UI)((e=>({prim:e.value,m:r.value})))(e)}return o.YP})(e);if((0,o.pC)(n)){const{prim:e,m:t}=n.value;return I(q(ve(e),z(E(t))))}const i=(e=>{if(1!==e.length)return o.YP;const[t]=e;return"object"===t.kind?(0,o.G)({m:t.value}):o.YP})(e);if((0,o.pC)(i)){const{m:e}=i.value;return I(q(o.YP,z(E(e))))}const a=(e=>{if(e.length<1)return o.YP;const[t,...r]=e;if("string"===t.kind){const e=(0,o.DT)((e=>de(e.value)))(t);return(0,o.UI)((e=>({prim:e.value,rest:r})))(e)}return o.YP})(e);if((0,o.pC)(a)){const{prim:e,rest:t}=a.value;return I(q(ve(e),be(t)))}return I(q(o.YP,be(e)))},r=e=>"array"===e.kind?(0,j.tS)(r)(e.value):[e];return"null"===e.kind?P({kind:"bottom"}):P(t(r(e)))}function de(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...r]=t;return-1!=="bpmvn".indexOf(e)&&r.every((e=>-1!=="bpmvn0123456789.".indexOf(e)))}}function me(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...r]=t;return-1!=="ux".indexOf(e)&&-1===r.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function _e(e,t,r){switch(e.kind){case"string":return z(r({1:(0,o.G)(e.value),2:t}));case"number":case"null":return x(r({1:"null"===e.kind?o.YP:(0,o.G)(e.value),2:B(Y(t,(e=>{let[t,r]=e;return[Number(t),r]})),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function ge(e){const t=e=>t=>G(t[2],t[1],e),r=e=>t=>A(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>k(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return r(1);case"x"===n[0]&&void 0!==n[1]:return r(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function ve(e){const t=e=>(0,o.Wi)(e.bound)||"add"===e.operation||"mul"===e.operation?(0,o.G)(e):o.YP,r=(e,r,i)=>{const a=((e,r)=>(0,n.zG)(e,(e=>{switch(e){case"p":return(0,o.G)("add");case"m":return(0,o.G)("mul");case"v":return(0,o.G)("max");case"n":return(0,o.G)("min");default:return o.YP}}),o.UI((e=>({operation:e,bound:r}))),o.tS(t)))(e,i);return(0,o.UI)((e=>{const{init:t,rest:n}=(0,j.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(r);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(a)};return(0,o.UI)(y)((0,M.nI)(he(e,(e=>{const t=e.split("");if(0===t.length)return o.YP;const[i,...a]=t;if("b"===i){const{init:e,rest:t}=(0,n.zG)(a,(0,j.zT)((e=>-1!=="1234567890.".indexOf(e))));if(0===e.length||0===t.length)return o.YP;const i=parseFloat(e.join("")),[s,...c]=t;return r(s,c,(0,o.G)(i))}return r(i,a,o.YP)}))))}function he(e,t){const r=t(e);return(0,o.fS)((()=>[]))((0,o.UI)((e=>[e[1]].concat(he(e[2],t))))(r))}function be(e){return U(e.map(ye))}function ye(e){switch(e.kind){case"number":return I(e.value);case"string":return S(e.value);case"null":return{kind:"bottom"};case"object":return S("{object}");case"array":return S("{array}")}}var we=r(945);const Ie={strategy:(e,t,r)=>n=>{if((0,o.Wi)(r))return t;if("delta"===e&&(0,o.Wi)(t))return o.YP;if((0,o.Wi)(t))return r;if((0,o.pC)(t)&&(0,o.pC)(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,r,i,a,s)=>{const c=(0,j.pR)(T(s)),l=(0,n.zG)(t.bound,o.EQ((()=>n.yR),(e=>t=>(0,C.VV)(s)(a.fromNumber(e),t))));if("append"===e&&"add"===t.operation)return(0,j.yL)(r,i,ze("append",(0,n.ls)(a.plus,l)));if("append"===e&&"mul"===t.operation)return(0,j.yL)(r,i,ze("append",(0,n.ls)(a.times,l)));if("append"===e&&"max"===t.operation)return(0,C.Fp)(c)(r,i);if("join"===e&&"add"===t.operation)return(0,j.yL)(r,i,ze("join",(0,C.Fp)(s)));if("join"===e&&"mul"===t.operation)return(0,j.yL)(r,i,ze("join",(0,C.Fp)(s)));if("join"===e&&"max"===t.operation)return(0,C.Fp)(c)(r,i);if("min"===t.operation)return Ie.operation(e,{operation:"max",bound:t.bound},r,i,a,function(e){return(0,C.Zt)(((t,r)=>L(e.compare(t,r))))}(s));if("delta"===e&&"max"===t.operation)return(0,C.gt)(c)(r,i)?r:i.map(w);if("delta"===e)return(0,j.yL)(r,i,((e,t)=>(0,C.gt)(T(s))(e,t)?O(e,l):{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,r,n)=>{if("delta"===e&&"top"===r.kind&&"top"===n.kind)return(0,C.gt)(D.Df)(r.error,n.error)?S(r.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return r;if("delta"===e&&"bottom"===r.kind)return{kind:"bottom"};if("top"===r.kind&&"top"===n.kind)return S((0,C.Fp)(D.Df)(r.error,n.error));if("top"===r.kind)return r;if("top"===n.kind)return n;if("inner"===r.kind&&"inner"===n.kind)return t(r.a,n.a);if("bottom"===r.kind)return n;if("bottom"===n.kind)return r;throw new Error("Non exhaustive match in extend")}},Se={fromNumber:n.yR,plus:(e,t)=>e+t,times:(e,t)=>e*t};function Ee(e,t,r,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const i=e.group,a=t.group;return(0,o.fS)(w)((0,o.UI)((e=>I(E(e))))(N(i,a,r,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const i=e.key,a=e.group,s=t.key,c=t.group,l=(0,C.Fp)((0,o.pR)(n))(i,s);return(0,o.fS)(w)((0,o.UI)((e=>I(k(e,l))))(N(a,c,r,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,c=t.limit,l=t.group,u=(0,C.Fp)((0,o.pR)(n))(a,c);return(0,o.fS)(w)((0,o.UI)((e=>I(A(e,u,i))))(N(s,l,r,n)))}return S("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,c=t.limit,l=t.group,u=(0,C.Fp)((0,o.pR)(n))(a,c);return(0,o.fS)(w)((0,o.UI)((e=>I(G(e,u,i))))(N(s,l,r,n)))}return S("Non matching counts")}return S("Non matching group types")}function ke(e,t,r){return(0,o.fS)(_)(Ae(e,o.YP)(t,r))}function Ae(e,t){const r=t=>(r,n)=>Ie.strategy(e,r,n)(Ae(e,t)),i=(t,n,i)=>{if("stringGroup"===n.kind&&"stringGroup"===i.kind){const e=Ee(n.group,i.group,r(t),D.Df);return O(e,(e=>z(xe(e,D.Df))))}if("numberGroup"===n.kind&&"numberGroup"===i.kind){const e=Ee(n.group,i.group,r(t),X.Df);return O(e,(e=>x(xe(e,X.Df))))}if("tuple"===n.kind&&"tuple"===i.kind){const r=(0,o.pC)(t)?t.value:[];return I(U(function(e,t,r,n,i,a){const s=(e,t)=>({1:(0,j.ke)(e)(t).concat((0,j.KB)(Math.max(0,e-t.length),w)),2:(0,j.md)(e)(t)}),c=(t,r,n)=>{if(0===t.length)return Ie.operation(e,{operation:"max",bound:o.YP},r,n,i,a);if(t.length>0){const[o,...l]=t,u=s(o[2],r),p=u[1],f=u[2],d=s(o[2],n),m=d[1],_=d[2];return Ie.operation(e,o[1],p,m,i,a).concat(c(l,f,_))}throw new Error("Non exhaustive match in recurse")};return(0,j.GY)((0,j.Qp)((e=>"bottom"===e.kind))((0,j.GY)(c(t,r,n))))}(e,r,n.tuple,i.tuple,Se,X.Df)))}throw new Error(`Non matching payload. Got ${n.kind} and ${i.kind}`)},a=(e,r)=>{if((0,o.Eh)((0,M.Eh)((0,$.n_)({1:(0,$.n_)({operation:D.Eq,bound:(0,o.Eh)(X.Eq)}),2:X.Eq}))).equals(e.commands,r.commands)){const n=(0,o.Wi)(e.commands)?t:e.commands,a=i(n,e.payload,r.payload);return O(a,(t=>q(e.commands,t)))}if(a=e.commands,s=r.commands,(0,o.Eh)((0,M.Eh)((0,$.n_)({1:(0,$.n_)({operation:D.Eq}),2:X.Eq}))).equals(a,s)){const a=(0,n.zG)(((e,t)=>(0,n.zG)((0,we.gz)(o.G5)(e,t),(0,o.UI)((e=>{let[t,r]=e;return M.yL(t,r,((e,t)=>({1:{operation:e[1].operation,bound:(0,n.zG)((0,we.gz)(o.G5)(e[1].bound,t[1].bound),o.UI((e=>{let[t,r]=e;return Math.min(t,r)})),o.wp((()=>e[1].bound)),o.wp((()=>t[1].bound)))},2:e[2]})))}))))(e.commands,r.commands),o.wp((()=>t))),s=i(a,e.payload,r.payload);return O(s,(e=>q(a,e)))}throw new Error(`Non matching primitive strings. Got ${ne(e)} and ${ne(r)}`);var a,s};return(t,r)=>ie(P(Ie.extend(e,a,fe(t).state,fe(r).state)))}function Ge(e,t,r){const n=(0,o.UI)((t=>B(e,(e=>{let[n,i]=e;return(0,C.gf)(r)(n,t)}))))(t);return(0,o.fS)((()=>e))(n)}function xe(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,o.Wi)(e.key)?e:k(Ge(e.group,e.key,t),e.key);case"countLimit":{const r=e.limit,n=e.n,i=e.group,a=F(n,i,((e,t)=>t<=1?o.YP:(0,o.G)(t-1)),t),s=(0,C.Fp)((0,o.pR)(t))(r,a);return A(Ge(i,s,t),s,n)}case"uniqueLimit":{const r=e.limit,n=e.n,i=e.group,a=(e,t)=>{if("object"===e.kind){const r=[...e.value.keys(),...t.keys()],i=new Set(r);return i.size>=n?o.YP:(0,o.G)(i)}return o.YP},s=F(new Set,i,a,t),c=(0,C.Fp)((0,o.pR)(t))(r,s);return G(Ge(i,c,t),c,n)}}}function ze(e,t){return(r,n)=>Ie.extend(e,((e,r)=>I(t(e,r))),r,n)}function Ue(e,t){return ke("append",e,t)}function Pe(e,t){return ke("join",e,t)}var qe=r(450),Ce=r(327),De=r(6),Oe=r(335),Te=r(289),Me=r(49);function je(e,t){return function(r){return e.map(r,t.compact)}}function Re(e,t,r){var i=je(e,t),a=(0,Te.UI)(e,r);return function(e){return Me.s4(i((0,n.zG)(e,a(o.IS))),i((0,n.zG)(e,a(o.EK))))}}function Le(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filter(e,r)}))}}}function Qe(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filterMap(e,r)}))}}}function Ne(e,t){var r=Le(e,t);return function(e){var t=r((0,Ce.ff)(e)),n=r(e);return function(e){return(0,Me.s4)(t(e),n(e))}}}function Fe(e,t){var r=Qe(e,t);return function(e){return function(t){return(0,Me.s4)((0,n.zG)(t,r((function(t){return(0,o.IS)(e(t))}))),(0,n.zG)(t,r((function(t){return(0,o.EK)(e(t))}))))}}}var Ye=r(755),Be=r(241),$e=r(614);function Xe(e){return(0,n.ls)(o.G,e.of)}function He(e){return(0,n.a9)(e.of(o.YP))}function Ve(e){return function(t){return e.map(t,o.G)}}function Ke(e){return(0,n.ls)(o.ij,e.of)}function We(e){var t=Ke(e);return function(e){return(0,n.ls)(e,t)}}function Je(e){var t=ct(e),r=We(e);return function(e){return t(r(e))}}function Ze(e){return function(t){return(0,n.ls)(t,e.of)}}function et(e){var t=ct(e),r=Ze(e);return function(e){return t(r(e))}}function tt(e){return function(t){return function(r){return e.of(o.DT(t)(r))}}}function rt(e){return(0,n.ls)(o.Uo,e.of)}function nt(e){return function(t,r){return function(n){return e.map(n,o.EQ(t,r))}}}function it(e){return function(t,r){return function(n){return e.chain(n,o.EQ(t,r))}}}function at(e){return function(t){return function(r){return e.chain(r,o.EQ(t,e.of))}}}function ot(e){return(0,Te.UI)(e,o.dO)}function st(e){return(0,we.ap)(e,o.G5)}function ct(e){var t=He(e);return function(r){return function(n){return e.chain(n,o.EQ((function(){return t()}),r))}}}function lt(e){var t=Xe(e);return function(r){return function(n){return e.chain(n,o.EQ(r,t))}}}var ut=r(46),pt=Xe(ut.PM),ft=(ut.PM,ut.of),dt=(ut.PM,function(e){return mt(ut.tD(e))}),mt=Ve(ut.dO),_t=ut.UI(o.Uo),gt=(ut.dO,it(ut.qo)),vt=(ut.UA,ut.PM,ut.PM,ut.UA,ut.PM,et(ut.UA)),ht=ot(ut.dO),bt=st(ut.Hi),yt=pt,wt=ct(ut.UA),It=(ut.UA,ut.PM,ut.dO,o.Ri,ut.dO,o.Ri,o.dO,Le(ut.dO,o.xu)),St=(ut.dO,o.xu,ut.dO,o.xu,ut.dO,o.xu,function(e,t){return(0,n.zG)(e,ht(t))}),Et=function(e,t){return(0,n.zG)(e,bt(t))},kt=function(e,t){return(0,n.zG)(e,wt(t))},At="TaskOption",Gt={URI:At,map:St},xt={URI:At,map:St,ap:Et,chain:kt},zt={URI:At,fromIO:dt},Ut=(0,Ye.At)(zt,xt),Pt={URI:At,fromIO:dt,fromTask:mt},qt=(0,Be.wt)(Pt),Ct=(0,Be.oU)(Pt,xt),Dt=($e.F4,(0,Te.Hr)(Gt)),Ot=(0,Oe.a)(xt),Tt=($e.Xl,Xe(f.PM)),Mt=(f.PM,f.of,f.PM,f.dO,o.Uo,f.dO,f.qo,f.UA,f.UI(o.FS),f.UI(o.WG),f.PM,f.PM,f.UA,f.PM,f.UA,f.dO,f.G5,Tt),jt=(f.UA,lt(f.UA)),Rt=(f.PM,f.dO,o.Ri,f.dO,o.Ri,o.dO,f.dO,o.xu,f.dO,o.xu,f.dO,o.xu,f.dO,o.xu,$e.F4,$e.Xl,r(812));const Lt=new Set(["AdRequest","Reaction","PageviewEngagement","SegmentEntry","SegmentExit","VideoEngagement"]),Qt=e=>i.dQ((t=>{let{previousState:r}=t;const[i,s]=a.Ue(!1);const[c,l]=a.gS({empty:o.YP,concat:(e,t)=>(0,n.zG)(Rt.oA([e,t]),o.DT(Rt.Od),o.UI((e=>e.reduce(((e,t)=>({...e,...t}))))))}),u=(0,n.zG)((0,m.Kn)(r)?r:{},(0,m.rO)({stateOffset:(0,n.ls)(o.DT(m.BJ),o.fS((()=>0))),fetchUnseenKey:(0,n.ls)(o.DT(m.HD),o.fS((()=>"")))})),p=(0,n.zG)(a.gS(o.uZ({concat:function(e,t){return Object.assign({},e,t)}})),(t=>{let[r,i]=t;return(0,n.zG)(a.vP(e.lastProcessedEvents,e.internalStateDiff,e.queryLanguageProcessing),a.bw((e=>{let[t,r,n]=e;if(n)return;return t().filter((e=>!Lt.has(e.name))).length>0?i(r()):void 0}))),(0,n.zG)(a.vP({internalStateDiff:r,internalStateMap:e.internalStateMap}),a.D8(((e,t)=>e.internalStateDiff===t.internalStateDiff)))})),f=(0,n.zG)(a.vP(e.sessionId,p,i),a.Rp(a.a9({...u,inFlightRequest:!1,previousDecodedState:(0,n.zG)(e.internalStateMap.current,Ft,K,R.fS((()=>b(new Map)))),sendFullStateWithUnseen:!1}),((t,r)=>{let[i,{internalStateDiff:s,internalStateMap:c},u]=r;return(0,n.zG)(t,a.VS((t=>{if(t.inFlightRequest)return a.a9(t);const r=!u&&t.sendFullStateWithUnseen,p=r||!e.groupIdIsNewlyGenerated&&i!==t.fetchUnseenKey;return(0,n.zG)(r?Mt(c):s,jt((()=>()=>(0,n.zG)({},o.DT((()=>p))))),ut.tD,wt((0,n.ls)(Bt(t.previousDecodedState),De.Vn((0,m.bw)((t=>e.logger.error(t)))),_t)),gt((()=>ut.of({...t,inFlightRequest:!1})),(0,n.ls)(ut.of,ut.ak("processed",(r=>(0,n.zG)(e,Nt({delta:r.delta,stateOffset:t.stateOffset,fetchUnseen:p}),ut.UI((0,m.bw)((0,n.ls)(o.UI((0,m.vg)("stateDelta")),o.hX(Ce.ff(qe.xb)),l)))))),ut.UI((e=>({fetchUnseenKey:i,inFlightRequest:!1,sendFullStateWithUnseen:t.sendFullStateWithUnseen&&!r,previousDecodedState:e.decodedState,stateOffset:(0,n.zG)(e.processed,o.UI((e=>e.response.state_offset)),o.fS((()=>t.stateOffset)))}))))),a.fF,a.UI(o.fS((()=>({...t,inFlightRequest:!0})))))})))})),a.xH,a.UI((e=>({stateOffset:e.stateOffset,fetchUnseenKey:e.fetchUnseenKey}))),a.D8((0,$.MW)({stateOffset:X.Eq,fetchUnseenKey:D.Eq})));return{state:f,value:{externalStateDelta:c}}})),Nt=e=>t=>(0,n.zG)(e,o.DT((e=>e.fetchUnseen||Ce.ff(qe.xb)(e.delta))),ft,wt((e=>{return(0,n.zG)(t,(r={event_source_id:t.eventSourceId,fetch_unseen:e.fetchUnseen,group_id:t.groupId,last_seen_offset:e.stateOffset,state:e.delta},e=>De.Y3((()=>e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/state",o.G("v1.0"),[["fetch_unseen",JSON.stringify(r.fetch_unseen)]]),method:"POST",payload:{group_id:r.group_id,event_source_id:r.event_source_id,state:JSON.stringify(r.state),last_seen_offset:r.last_seen_offset},contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Error sending state delta. Got ${R.KC(e)}`))),De.Vn((0,m.bw)((e=>t.reportError(e)))),_t,It((e=>!!e)),vt((0,n.ls)(R.of,R.YO("response"),R.ak("stateDelta",(e=>{return t=e.response.state,(0,R.Y3)((function(){return JSON.parse(t)}),n.yR);var t})),R.Vn((0,m.bw)((e=>t.reportError(`Failed to parse State API response, got ${e}`)))),o.Uo)));var r}))),Ft=e=>(0,m.b0)(e,((e,t)=>t.state?o.G({[t.checksum]:t.state}):o.YP)),Yt=e=>t=>{const r=(0,n.zG)(t,Ft,K,R.fS((()=>b(new Map))),(t=>ke("delta",t,e)));return{decodedState:Pe(r,e),delta:(0,n.zG)(r,V,o.ij,o.fS((()=>({}))))}},Bt=e=>t=>()=>new Promise((r=>(0,d.HJ)((()=>(0,n.zG)(t,R.it(Yt(e),(e=>`Failed to compute delta for state sync. Got ${e}`)),r)))));r(226),qe.dp;var $t=qe.xb,Xt=function(e){return function(t){return Object.keys(t).sort(e.compare)}};D.Df;qe.dx,qe.e$;qe.Bu,qe.P5,qe.Su;var Ht=qe.UI;qe.ri;function Vt(e){return qe.vP(e)}qe._r;qe.jt;qe.yW,qe.G,qe.t9;var Kt=qe.HA,Wt=(qe.nn,qe.kp),Jt=qe.CC,Zt=qe.RF,er=(qe.I8,qe.mS,qe.RJ,qe._Y,qe.V_),tr=qe.EW,rr=qe.nu,nr=(qe.SW,qe.zV,qe.Ub,qe.vA,qe.qS),ir=(qe.mK,function(e){return function(t){var r=Xt(e);return function(e,n){var i=r(e);if(0===i.length)return t.of({});for(var a=t.of({}),o=function(r){a=t.ap(t.map(a,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},s=0,c=i;s<c.length;s++){o(c[s])}return a}}}),ar=qe.hX;qe.DZ,qe.uK,qe.tV;qe.oA,qe.oh;var or="Record";var sr=qe.Eh,cr=(qe.uZ,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,qe.nr,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,D.Df,r(654)),lr=r(214),ur=function(e){return function(t){return[void 0,e(t)]}},pr=function(e){return function(t){return[e(t),t]}},fr=function(e,t){return(0,n.zG)(e,_r(t))},dr=function(e,t){return(0,n.zG)(e,gr(t))},mr=function(e,t){return(0,n.zG)(e,hr(t))},_r=function(e){return function(t){return function(r){var n=t(r),i=n[0],a=n[1];return[e(i),a]}}},gr=function(e){return function(t){return function(r){var n=t(r),i=n[0],a=n[1],o=e(a),s=o[0],c=o[1];return[i(s),c]}}},vr=function(e){return function(t){return[e,t]}},hr=function(e){return function(t){return function(r){var n=t(r),i=n[0],a=n[1];return e(i)(a)}}},br="State",yr={URI:br,map:fr},wr={URI:br,map:fr,ap:dr},Ir=(0,we.N)(wr),Sr=(0,we.a1)(wr),Er={URI:br,map:fr,ap:dr,of:vr},kr={URI:br,map:fr,ap:dr,chain:mr},Ar=(0,Oe.m)(kr),Gr=(n.yR,(0,Te.YO)(yr)),xr=(0,Oe.a)(kr),zr=function(e){var t=function(e){return function(t){return function(r){for(var n=e(0,$e.YM(t))(r),i=[n[0]],a=n[1],o=1;o<t.length;o++){var s=e(o,t[o])(a),c=s[0],l=s[1];i.push(c),a=l}return[i,a]}}}(e);return function(e){return $e.Od(e)?t(e):vr($e.Xl)}},Ur=function(e){return zr((function(t,r){return e(r)}))},Pr=Ur(n.yR);const qr=e=>({aggregations:{PageviewEngagement:{engaged_time:0},SegmentEntry:new Set,SegmentExit:new Set,CohortEntry:new Set,CohortExit:new Set},customProperties:{},sessionId:e.sessionId,viewId:e.viewId}),Cr=e=>t=>{const r=new Set(t);return r.add(e),r},Dr=e=>t=>{const r=new Set(t);return r.delete(e),r},Or=e=>[...e];var Tr,Mr,jr=r(825);!function(e){e.init=function(e){return e&&"object"==typeof e&&"externalStateMap"in e&&"internalStateMap"in e?e:{externalStateMap:o.YP,internalStateMap:{},migrationVersion:_n}}}(Tr||(Tr={})),function(e){e.sequenceNonEmptyArray=e=>{if(1===e.length)return e[0];const t=(0,n.bc)([],{},[]);for(const r of e){t[0].push(...r[0]);for(const e in r[1])t[1][e]=r[1][e];t[2].push(...r[2])}return t},e.sequenceArray=t=>(0,n.zG)(t,o.DT(Rt.Od),o.UI(e.sequenceNonEmptyArray)),e.empty=[Rt.cS,qe.cS,Rt.cS],e.error=e=>[Rt.of(e),qe.cS,Rt.cS],e.ofOutputEvent=e=>[Rt.cS,qe.cS,[e]]}(Mr||(Mr={}));const Rr=e=>mn((t=>(0,n.zG)(Lr((e=>({...e,getCurrentSession:()=>t.environment.sessionId,getCurrentView:()=>t.environment.viewId}))),hr((()=>{return Pr([Qr(e),Br(t.environment.thirdPartyData),(a=t.environment.userGroupCohorts,(0,n.zG)((function(e){return[e,e]}),Ar((e=>Lr((t=>({...t,...un(e.persistentState.internalStateMap,a)}))))),hr((e=>(0,m.cO)(a,e.processedNonQlCohorts)?vr(Rt.cS):(0,n.zG)(Vr("updateCohortDependentCohorts"),Ir(ur((0,m.rO)({processedNonQlCohorts:(0,n.a9)(a)})))))))),(i=t.environment.lookalikeModels,(0,n.zG)((function(e){return[e,e]}),hr((e=>cn.equals(e.lal,i)?vr(Rt.cS):(0,n.zG)(ur((0,m.rO)({lal:(0,n.a9)(i)})),Ir(Lr(function(e){const t=(0,n.zG)(e,o.fS((()=>({}))));return e=>({...e,getLookalikeModels:()=>t})}(i))),hr((()=>(0,n.zG)(Rt.Yo(i),Ur((()=>Vr("updateLAL"))),_r(Rt.xH))))))))),(0,n.zG)(t.externalStateDelta,o.UI(Hr),o.fS((()=>vr(Rt.bM())))),(r=t.cloudLiftedState,(0,n.zG)(r,Rt.tS((e=>Object.entries(e))),Ur((e=>{let[t,r]=e;return pr((e=>(0,n.bc)(t,e.queries.runtime.cloudLiftedQueries[t],r)))})),hr((e=>Jr(R.F2(e)))))),Kr(t.newEvents)]);var r,i,a})),_r((0,n.ls)(Rt.xH,o.DT(Rt.Od),o.tS(Mr.sequenceArray))),(e=>t=>{let[r,i]=e(t);if(o.pC(r)){let e=r.value,t=0;const a=100;let s;for(s=0;s<a&&e[2].length>t;s++){const r=e[2],[a,o]=(0,n.zG)(Kr(r.slice(t)),_r((t=>Mr.sequenceNonEmptyArray([e,...t]))),(0,n.nn)(i));e=a,i=o,t=r.length}s>=a&&(e=Mr.sequenceNonEmptyArray([e,Mr.error(`Exceeded ${a} iterations when producing transition events`)])),r=o.G(e)}return(0,n.bc)(r,i)}),dn(e,"query_language_process_duration")))),Lr=e=>ur((0,m.rO)({effects:e}));function Qr(e){return(0,n.zG)((function(e){return[e,e]}),hr((t=>{let{bootstrapped:r,effects:i,eventsForReplay:a}=t;return r?vr(Rt.cS):(0,n.zG)(ur((e=>({...e,bootstrapped:!0,eventsForReplay:[]}))),Ar(Nr),hr((()=>(0,n.zG)(a,Rt.R3(fn(i)),Ur(Wr("bootstrap")),_r(Rt.xH)))),dn(e,"query_language_bootstrap_duration"))})))}const Nr=()=>ur((e=>(0,n.zG)(e.invalidatedQueries,Rt.EQ((()=>e),Fr(e))))),Fr=e=>t=>{const r=(0,n.zG)(t,Rt.UI((t=>(0,n.bc)(t,{checksum:e.queries.metadata[t]}))),(e=>Object.fromEntries(e)));return(0,n.zG)(e,(0,m.rO)({persistentState:(0,m.rO)({internalStateMap:e=>({...r,...e})})}))},Yr=(0,n.zG)(pr((e=>e.tpdQueries)),hr(o.EQ((()=>(0,n.zG)(pr((e=>new Set([...e.queries.runtime.queriesByEvent["!UpdateSecondPartyData"]||[],...e.queries.runtime.queriesByEvent["!UpdateThirdPartyData"]||[]]))),Ar((e=>ur((0,m.rO)({tpdQueries:()=>o.G(e)})))))),vr)));function Br(e){const t=(0,n.zG)(e,o.UI(s.li));return(0,n.zG)((function(e){return[e,e]}),hr((r=>{if(o.Eh(X.Eq).equals(t,r.tpdHashInEffectsObject))return vr(Rt.cS);const i=o.FS(t);return(0,n.zG)(ur((0,m.rO)({persistentState:(0,m.rO)({tpdHash:(0,n.a9)(i)}),tpdHashInEffectsObject:(0,n.a9)(t),tpdReady:(0,n.a9)(o.pC(e))})),_r((()=>(0,n.zG)(e,o.UI(s.Yg)))),Ar((e=>Lr(function(e){const t=ln((()=>(0,n.zG)(e,o.fS((()=>({"3p":{}}))))));return e=>{const r=ln((()=>({...t(),...e.get1PSegments()})));return{...e,getSegments:r,getSegmentsArray:ln((()=>pn(r()))),get3PSegments:t}}}(e)))),hr(o.fw(Er)((()=>(0,n.zG)(r.tpdEventsToProcess,Rt.EQ((()=>i!==r.persistentState.tpdHash?Vr("updateTPD"):vr(Rt.cS)),(0,n.ls)(Ur(Wr("updateTPD")),Ir(ur((e=>({...e,tpdEventsToProcess:[]})))),_r(Rt.xH))))))),_r(o.fS((()=>Rt.bM()))))})))}const $r=e=>qe.jt(((t,r)=>(0,n.zG)(qe.P5(t,e.metadata),o.tS((e=>qe.P5(e,r))),o.tS((r=>(0,n.zG)(qe.P5(t,e.runtime.locallyLiftedQueries),o.wp((()=>qe.P5(t,e.runtime.cloudLiftedQueries))),o.NG((e=>e.compact(r)))))),o.tS((0,n.ls)(K,o.Uo))))),Xr=(e,t)=>{if(qe.xb(e))return t;if(qe.xb(t))return e;const r={...e};for(const e in t)r[e]=(0,n.zG)(o.ij(r[e]),o.EQ((()=>t[e]),(r=>(0,n.zG)(o.Y3((()=>Pe(r,t[e]))),o.fS((()=>t[e]))))));return r};function Hr(e){return(0,n.zG)(pr((t=>(0,n.zG)(e,$r(t.queries),(e=>(0,n.zG)(t.persistentState.externalStateMap,o.UI(qe.DZ((0,n.ls)(K,o.Uo))),o.EQ((()=>e),(t=>Xr(t,e))))),qe.UI(V)))),hr((e=>ur((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:(0,n.a9)(o.G(e))})})))),hr((()=>Vr("updateExternalState"))))}function Vr(e){return(0,n.zG)(pr((e=>fn(e.effects))),hr(Wr(e)))}function Kr(e){return(0,n.zG)(e,Rt.EQ((()=>vr(Rt.bM())),(0,n.ls)(tn,hr(Ur((e=>{let[t,r]=e;return(0,n.zG)(r,Wr(t))}))),_r(Rt.xH))))}function Wr(e){return(0,n.ls)(vr,Ar((e=>"Pageview"!==e.name?vr(void 0):ur((0,m.rO)({pageviewProperties:(0,n.a9)(e.properties)})))),"bootstrap"===e?n.yR:Ar((e=>{return ur((0,m.rO)({unprocessedPageviewComplete:(t=e,e=>{switch(t.name){case"Pageview":return t.view_id!==e.viewId?e:{...e,customProperties:t.properties};case"SegmentEntry":{const r=t.properties.segment_number;return(0,n.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentExit.has(r)?(0,n.zG)(e,(0,m.rO)({CohortExit:Dr(String(r)),SegmentExit:Dr(r)})):(0,n.zG)(e,(0,m.rO)({CohortEntry:Cr(String(r)),SegmentEntry:Cr(r)}))}))}case"SegmentExit":{const r=t.properties.segment_number;return(0,n.zG)(e,(0,m.rO)({aggregations:e=>e.SegmentEntry.has(r)?(0,n.zG)(e,(0,m.rO)({CohortEntry:Dr(String(r)),SegmentEntry:Dr(r)})):(0,n.zG)(e,(0,m.rO)({CohortExit:Cr(String(r)),SegmentExit:Cr(r)}))}))}case"PageviewEngagement":{if(t.view_id!==e.viewId)return e;const r=t.properties;return(0,n.zG)(e,(0,m.rO)({aggregations:(0,m.rO)({PageviewEngagement:()=>({engaged_time:r.total_engaged_time,completion:r.total_completion})})}))}default:return e}})}));var t})),Ar((e=>{return an(e)?Lr((t=e.properties.segment_number,r="SegmentEntry"===e.name,e=>{return(0,n.zG)(e,(i={"1p":{...e.get1PSegments()["1p"],[t]:r}},e=>{const t=ln((()=>({...i,...e.get3PSegments()})));return{...e,getSegments:t,getSegmentsArray:ln((()=>pn(t()))),get1PSegments:()=>i}}));var i})):vr(void 0);var t,r})),Gr("event"),xr("queriesToProcess",(t=>{let{event:r}=t;return function(e,t){return(0,n.zG)((function(e){return[e,e]}),Gr("state"),xr("tpdQueriesToReject",(e=>{let{state:{tpdReady:t}}=e;return t?vr(o.bM()):(0,n.zG)(Yr,_r(o.DT((e=>e.size>0))))})),hr((r=>{let{state:i,tpdQueriesToReject:a}=r;const s=(0,n.zG)(a,o.UI((e=>Rt.hX((t=>!e.has(t))))),o.fS((()=>e=>e)));switch(e){case"bootstrap":return vr((0,n.zG)(i.queriesForReplay,s));case"event":const e=i.tpdReady?vr(void 0):ur((0,m.rO)({tpdEventsToProcess:Rt.R3(t)}));return(0,n.zG)(vr(i.locallyLiftedQueriesByEvent[t.name]||[]),_r(s),Ir(e));case"lookalikeTransition":return vr(i.locallyLiftedQueriesByEvent[t.name]||[]);case"transition":const r=i.locallyLiftedQueriesByEvent[t.name]||[];if(o.pC(i.lal)){const e=i.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[];return vr(r.concat(e))}return vr(r);case"updateExternalState":return vr((0,n.zG)(i.persistentState.externalStateMap,o.fS((()=>({}))),qe.XP));case"updateLAL":return vr(i.locallyLiftedQueriesByEvent["!UpdateLookalikeModels"]||[]);case"updateTPD":return vr([...i.locallyLiftedQueriesByEvent["!UpdateSecondPartyData"]||[],...i.locallyLiftedQueriesByEvent["!UpdateThirdPartyData"]||[]]);case"updateCohortDependentCohorts":return vr([...i.locallyLiftedQueriesByEvent.SegmentEntry||[],...i.locallyLiftedQueriesByEvent.SegmentExit||[]]);default:return vr([])}})))}(e,r)})),hr((t=>{let{event:r,queriesToProcess:i}=t;return(0,n.zG)(i,Rt.EQ((()=>vr(Rt.bM())),(t=>(0,n.zG)(pr((t=>"bootstrap"!==e?t.effects:{...t.effects,getCurrentTime:()=>r.time,getCurrentView:()=>r.view_id,getCurrentSession:()=>r.session_id})),hr((e=>(0,n.zG)(pr((e=>(0,n.zG)(t,Rt.DZ((t=>(0,n.zG)(qe.P5(t,e.queries.runtime.locallyLiftedQueries),o.wp((()=>qe.P5(t,e.cloudLiftQueriesForReplay))),o.UI((e=>(0,n.bc)(t,e))))))))),hr((t=>Jr(R.t$((0,n.bc)(t,r)),e))))))))))})))}const Jr=(e,t)=>(0,n.zG)(e,R.EQ((e=>{let[r,i]=e;return(0,n.zG)(r,Ur((e=>{let[r,n]=e;return Zr(r,R.t$([n,i]),t)})))}),Ur((e=>{let[t,r,n]=e;return Zr(t,R.F2([r,n]))}))),_r(Mr.sequenceArray),Ar(o.fw(Er)((e=>{let[,t]=e;return ur((0,m.rO)({persistentState:(0,m.rO)({internalStateMap:e=>({...e,...t})})}))}))),_r(Rt.Yo)),Zr=(e,t,r)=>(0,n.zG)(pr(R.it((i=>{const a=r??i.effects,c=(0,n.zG)(t,R.EQ(s.li,s.li)),[l,u]=(0,n.zG)(t,R.aD((e=>{let[t,r]=e;return(0,n.bc)(t.lift(r,a),sn({null:null,encode:n.yR,decode:R.of,append:t.append}))}),(e=>{let[,t]=e;return(0,n.bc)(t,sn(on()))}))),p=(0,n.zG)(i.persistentState.externalStateMap,o.tS(qe.P5(e))),f=i.persistentState.internalStateMap[e]||{checksum:i.queries.metadata[e]},d=u(e,a,c,f,p,l),m=Boolean(d.result?.result)!==Boolean(i.persistentState.internalStateMap[e]?.result?.result),_=(0,n.zG)(Rt.lo(m),Rt.UI((()=>({name:d.result?.result?"SegmentEntry":"SegmentExit",time:a.getCurrentTime(),view_id:a.getCurrentView(),session_id:a.getCurrentSession(),properties:{...i.pageviewProperties,segment_number:Number(e)}}))));return(0,n.bc)(d,_)}),(t=>`Failed to interpret query ${e}. Got ${t}`))),hr(R.EQ((e=>vr([[e],qe.cS,Rt.cS])),(t=>{let[r,i]=t;return(0,n.zG)(r.dropExternalState?en(e):vr(void 0),_r((()=>[Rt.cS,{[e]:r},i])))})))),en=e=>ur((0,m.rO)({persistentState:(0,m.rO)({externalStateMap:o.UI(qe.EG(e))})}));function tn(e){const t=e=>t=>(0,n.bc)(e,t);return pr((r=>(0,n.zG)(e,Rt.pO(lr.aL(((e,t)=>{const r=an(e);return(0,n.zG)(t,Rt.zT((e=>an(e)===r)),(e=>{let{init:t,rest:r}=e;return(0,n.bc)(t,r)}),(0,s.pL)(((e,t)=>r=>(0,n.bc)(e,(0,n.zG)(r,Rt.Ce(t))))(r,e)))}))),Rt.tS((e=>{let[i,a]=e;if(!i)return(0,n.zG)(a,Rt.UI(t("event")));const o=(0,n.zG)(a,Rt.yW((e=>r.lookalikeTransitionSegmentNumbers.has(e.properties.segment_number))),(e=>e?"lookalikeTransition":"transition"));return(0,n.zG)(a,lr.ut(((e,r)=>(0,n.zG)(e,Rt.UI(t("event")),Rt.R3((0,n.zG)(r,t(o)))))))})))))}const rn=(0,n.ls)(qe.hX((e=>Boolean(e.result?.result))),qe.XP,Rt.UI(parseInt)),nn=(0,n.ls)(Ht((e=>e.activations??{})),ar((0,n.zG)(Boolean,(0,Ce.xD)((0,Ce.ff)($t)))));function an(e){return("SegmentEntry"===e.name||"SegmentExit"===e.name)&&void 0!==e.properties?.segment_number}const on=()=>({null:{kind:"null",value:null},encode:V,decode:K,append:Ue}),sn=e=>(t,r,i,a,s,c)=>{const l={...a.activations},u={...r,setSegmentActivation:(e,r,n)=>{if(n!=t)throw new Error(`QL called setSegmentActivation for query ${n} while interpreting query ${t}`);e in l?l[e].includes(r)||(l[e]=[...l[e],r]):l[e]=[r]}},p=o.ij(a.state),f=o.ij(c),d=(0,n.zG)((0,we.gz)(o.G5)(p,f),o.UI((t=>{let[r,i]=t;const a=(0,n.zG)(e.decode(r),R.fS((()=>e.null))),o=(0,n.zG)(e.decode(i),R.fS((()=>e.null)));try{return R.F2(e.append(a,o))}catch(e){throw(0,cr.w)(`Failed to append lifted event ${JSON.stringify(i)} to internal state ${JSON.stringify(r)}. Got ${e}`)}})),o.Gk((()=>(0,n.zG)(p,o.wp((()=>f)),o.UI(R.t$))))),_=(0,n.zG)(d,o.UI(R.EQ(n.yR,e.encode)),o.tS(o.ij)),{overallState:g,dropExternalState:v}=(0,n.zG)((0,we.gz)(o.G5)(d,s),o.UI((t=>{let[r,i]=t;return(0,n.zG)(o.Uo(e.decode(i)),o.tS((t=>(0,n.zG)(r,R.vx(e.decode),R.fS((()=>e.null)),o.it((r=>e.append(r,t)))))),o.EQ((()=>({overallState:_,dropExternalState:!0})),(t=>({overallState:o.ij(e.encode(t)),dropExternalState:!1}))))})),o.fS((()=>(0,n.zG)(_,o.Gk((()=>s)),(e=>({overallState:e,dropExternalState:!1}))))),(0,m.rO)({overallState:o.WG})),h=i.interpret(g,u);return{checksum:a.checksum,...(0,n.zG)(_,o.aD((()=>({})),(e=>({state:e})))),...!1===h.result?{}:{result:h},...$t(l)?{}:{activations:l},...!1===v?{}:{dropExternalState:v}}},cn=o.Eh({equals:(e,t)=>e===t});function ln(e){let t,r=!1;return()=>(r||(t=e(),r=!0),t)}function un(e,t){const r=(0,n.zG)(t,Rt.UI((e=>[e,!0])),qe.sq),i=ln((()=>(0,n.zG)(e,qe.hX((e=>Boolean(e.result?.result))),qe.UI((()=>!0)),(e=>({"1p":{...r,...e}}))))),a={"3p":{}},o=ln((()=>({...i(),...a})));return{getSegments:o,getSegmentsArray:ln((()=>pn(o()))),get1PSegments:i,get3PSegments:()=>a}}function pn(e){return Object.keys(e).reduce(((t,r)=>{const n=Object.keys(e[r]),i=[];return n.forEach((t=>{!0===e[r][t]&&i.push(t)})),t[r]=i,t}),{})}const fn=e=>({name:"",properties:{},session_id:e.getCurrentSession(),view_id:e.getCurrentView(),time:e.getCurrentTime()}),dn=(e,t)=>r=>n=>{const i=e.startSpan(t),a=r(n);return i.finish(),a},mn=e=>t=>(0,n.zG)(ur((0,m.rO)({unprocessedPageviewComplete:(0,n.ls)(o.DT((e=>e.viewId===t.environment.viewId)),o.fS((()=>qr(t.environment))))})),Sr(pr((e=>(0,n.zG)(o.ij(e.persistentState.unprocessedPVC),o.hX((e=>e.view_id!==t.environment.viewId)),o.UI(jr.k))))),Gr("flushedPvc"),xr("processingResult",(r=>{let{flushedPvc:i}=r;return e({...t,newEvents:(0,n.zG)(i,o.EQ((()=>t.newEvents),(e=>[...t.newEvents,e])))})})),Ar((()=>ur((e=>{return{...e,persistentState:{...e.persistentState,unprocessedPVC:(0,jr.X)((t=new Date,r=e.unprocessedPageviewComplete,{name:"PageviewComplete",time:t,session_id:r.sessionId,view_id:r.viewId,properties:{...r.customProperties,aggregations:(0,n.zG)(r.aggregations,(0,m.rO)({SegmentEntry:Or,SegmentExit:Or,CohortEntry:Or,CohortExit:Or}))}}))}};var t,r})))),_r((e=>{let{flushedPvc:t,processingResult:r}=e;const i=(0,n.zG)(t,o.UI(Mr.ofOutputEvent));return(0,n.zG)((0,we.gz)(o.G5)(i,r),o.UI(Mr.sequenceNonEmptyArray),o.wp((()=>i)),o.wp((()=>r)))}))),_n=2,gn=e=>t=>{const r=t.migrationVersion??(t.stateIsCompact?1:0);return(0,n.zG)([vn,hn],Rt.md(r),Rt.EQ((()=>t),(0,n.ls)(Rt.OV(e),Rt.u4(t,((e,t)=>t(e))),(0,m.rO)({migrationVersion:()=>_n}))))},vn=e=>(0,m.rO)({externalStateMap:o.UI(qe.jt(((t,r)=>(0,n.zG)(qe.P5(t,e.locallyLiftedQueries),o.wp((()=>qe.P5(t,e.cloudLiftedQueries))),o.NG((e=>e.compact(r))))))),internalStateMap:qe.Su(((t,r)=>{if(null==r?.state)return r;const n=e.locallyLiftedQueries[t]||e.cloudLiftedQueries[t];return{...r,state:n.compact(r.state)}}))}),hn=e=>{const t=new Set(e.queriesByEvent.PageviewEngagement??[]),r=new Set(e.queriesByEvent.PageviewComplete??[]);return(0,m.rO)({internalStateMap:qe.z7((0,Ce.ff)((e=>t.has(e)&&r.has(e))))})},bn=(e,t)=>qe.xb(t)?e:(0,n.zG)(e,qe.z7((e=>!(e in t))));var yn=r(644),wn=r(952);const In={qid:"90a31aa05760f8fe6483da220f456136deccafa1"}||void 0,Sn=In?In.qid:void 0,En=Sn?(e=>(t,r,i)=>s=>{let c=Rt.cS;return(0,n.zG)(s,a.UI(f.UI(Rt.hX((e=>{let[,t]=e;return i.includes(t.name)})))),a.Rp(a.a9(Rt.bM()),((i,s)=>(0,n.zG)(s(),Rt.EQ((()=>i),(s=>{const[l,u]=Rt.N7(s),p=(0,n.zG)(u,Rt.UI((e=>({...e,cohorts:Rt.cS,segments:Rt.cS})))),f=(0,n.zG)(An(t,r,e,{events:p}),De.UI((0,n.ls)((e=>e.result),qe.UI((e=>e.state)),(e=>({events:l,state:e}))))),d=a.fF(f);(0,n.zG)(d,a.UI(o.UI((e=>{(0,n.zG)(e,R.EQ((e=>{}),(e=>{c=[...c,e]})))}))));const m=(0,n.zG)(d,a.UI(o.EQ((()=>l),(()=>Rt.cS))));return(0,n.zG)(a.vP(i,m),a.UI(Rt.xH))}))))),a.xH,a.UI((e=>({newResults:()=>{const e=c;return c=Rt.cS,e},pendingEvents:e}))))})(Sn):()=>e=>((0,n.zG)(e,a.UI((e=>e()))),a.a9({newResults:f.of(Rt.cS),pendingEvents:Rt.cS})),kn=Sn?(e=>(t,r)=>i=>(0,n.zG)(De.Y3((()=>t.req({url:r.getEndpointUrl("/cloud-lift/v1/queries",o.YP,[["qid",e],["target","javascript"],["ids",i.join(",")]]),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to download queries from cloud lift: ${e}`)),De.UI((e=>t=>t.createCloudLiftQueries(e.queries)))))(Sn):()=>()=>De.of((()=>({}))),An=(e,t,r,n)=>De.Y3((()=>e.req({url:t.getEndpointUrl("/cloud-lift/v1/lift",o.YP,[["qid",r]]),method:"POST",payload:n,contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to cloud lift event: ${e}`)),Gn=e=>[e,ut.of(e)],xn=s.li,zn=s.Yg,Un=e=>t=>(0,n.zG)(zn(t),(t=>()=>new Promise((r=>{const n=t();n.then(o.G).then(r);const i=(0,d.HJ)((()=>r(o.YP)),e);n.then(i)})))),Pn="RefEventual",qn=a.UI(Gn),Cn=e=>a.a9(Gn(e)),Dn=e=>t=>a.vP((0,n.zG)(t,a.UI(xn),a.UI(e)),(0,n.zG)(t,a.UI(zn),a.UI(ut.UI(e)))),On=e=>t=>a.vP((0,n.zG)(a.vP((0,n.zG)(e,a.UI(xn)),(0,n.zG)(t,a.UI(xn))),a.UI((e=>{let[t,r]=e;return r(t)}))),(0,n.zG)(a.vP((0,n.zG)(e,a.UI(zn)),(0,n.zG)(t,a.UI(zn))),a.UI((e=>{let[t,r]=e;return ut.ap(t)(r)})))),Tn=e=>t=>(0,n.zG)(t.current,Un(e),ut.UI(o.fS((()=>(e=>xn(e.current))(t))))),Mn=a.UI(xn),jn=a.UI(zn),Rn={URI:Pn,map:(e,t)=>Dn(t)(e)},Ln={URI:Pn,map:Rn.map,ap:(e,t)=>On(t)(e)},Qn=e=>i.dQ((t=>{let{previousState:r}=t;const[i,c]=(0,n.zG)(e.newEvents,a.En(2,Rt.uZ()),(0,yn.H5)(En(e.permutiveApi,e.permutiveUrls,(l=e.customQueries.runtime,(0,n.zG)(Object.entries(l.queriesByEvent),Rt.hX((e=>{let[,t]=e;return(0,n.zG)(t,Rt.G((e=>e in l.cloudLiftedQueries)))})),Rt.UI(s.li))))));var l;const u=a.vP({lookalikeModels:e.lookalikeModels,sessionId:e.sessionId,thirdPartyData:(0,n.zG)(e.thirdPartyData,a.UI(o.UI((0,yn.H5)(qe.UI((e=>{const t={};return e.forEach((e=>t[e]=!0)),t})))))),viewId:e.viewId,userGroupCohorts:(0,n.zG)(e.userGroupCohorts,o.g_((()=>a.a9(Rt.cS)),(e=>(0,n.zG)(e.all,Dn(R.fS((()=>[]))),Mn))))}),p=(0,n.zG)(a.vP({cloudLiftedState:(0,n.zG)(c,a.UI((e=>e.newResults))),environment:u,externalStateDelta:e.externalStateDelta,newEvents:(0,n.zG)(i,(0,wn.I)(e.metrics,"query_language_began_processing_pageview"))}),a.UI((0,m.rO)({environment:e=>f.of(e)})),a.UI((0,we.Yt)(f.G5))),d=Tr.init(r);const _=kn(e.permutiveApi,e.permutiveUrls),g=(0,n.zG)(r?ut.of({processedState:d,stateMigratedThisInitialisation:!1}):(e.metrics.track({name:"sdk_query_state_migrated_workerisation_count_total",labels:{},value:1}),(0,n.zG)(e.migratedStateMaps,ut.UI((e=>{let{internal:t,external:r}=e;return{stateMigratedThisInitialisation:!0,processedState:{externalStateMap:r,internalStateMap:(0,n.zG)(t,o.fS((()=>({}))))}}})))),ut.Hr("environment",(()=>u.current)),ut.ak("process",(t=>{let{environment:r,processedState:i}=t;return(0,n.zG)((a={downloadCloudLiftQueries:_,environment:r,initialState:i,pastEvents:e.priorEvents,queries:e.customQueries},(0,n.zG)(ut.Do,ut.Hr("persistentState",(()=>(0,n.zG)(a.initialState,(0,m.rO)({internalStateMap:qe.z7(((e,t)=>t.checksum===a.queries.metadata[e]))}),gn(a.queries.runtime)))),ut.Hr("invalidatedLocalQueries",(e=>{let{persistentState:{internalStateMap:t}}=e;return bn(a.queries.runtime.locallyLiftedQueries,t)})),ut.Hr("invalidatedCloudLiftQueries",(e=>{let{persistentState:{internalStateMap:t}}=e;return bn(a.queries.runtime.cloudLiftedQueries,t)})),ut.Hr("hasInvalidatedQueries",(e=>{let{invalidatedCloudLiftQueries:t,invalidatedLocalQueries:r}=e;return!(qe.xb(t)&&qe.xb(r))})),ut.ak("eventsForReplay",(e=>{let{hasInvalidatedQueries:t}=e;return t?a.pastEvents:ut.of(Rt.bM())})),ut.ak("cloudLiftQueriesForReplay",(0,n.ls)(o.DT((e=>e.eventsForReplay.length>0)),o.UI((e=>Object.keys(e.invalidatedCloudLiftQueries))),o.hX(Rt.Od),o.UI((0,n.ls)(a.downloadCloudLiftQueries,De.OV(a.queries.runtime),ut.UI(R.fS((()=>({})))))),o.fS((()=>ut.of({}))))),ut.Hr("queriesForReplay",(e=>{let{cloudLiftQueriesForReplay:t,invalidatedLocalQueries:r}=e;return[...Object.keys(r),...Object.keys(t)]})),ut.UI((e=>{let{cloudLiftQueriesForReplay:t,eventsForReplay:r,invalidatedCloudLiftQueries:i,invalidatedLocalQueries:s,queriesForReplay:c,persistentState:l}=e;return{bootstrapped:!1,cloudLiftQueriesForReplay:t,effects:{getCurrentTime:()=>new Date,getCurrentSession:()=>a.environment.sessionId,getCurrentView:()=>a.environment.viewId,getLookalikeModels:()=>({}),setSegmentActivation:(e,t,r)=>{throw new Error(`setSegmentActivation() called for segment ${r} without being overridden first.`)},...un(l.internalStateMap,a.environment.userGroupCohorts)},eventsForReplay:r,invalidatedQueries:[...Object.keys(i),...Object.keys(s)],lal:o.YP,locallyLiftedQueriesByEvent:(0,n.zG)(a.queries.runtime.queriesByEvent,qe.DZ(o.KQ(Rt.hX((e=>e in a.queries.runtime.locallyLiftedQueries))))),lookalikeTransitionSegmentNumbers:(0,n.zG)(a.queries.runtime.queriesByEvent["!UpdateLookalikeModels"]||Rt.cS,Rt.UI(parseInt),(e=>new Set(e))),pageviewProperties:{},numEventsForReplay:r.length,queries:a.queries,queriesForReplay:c,persistentState:l,tpdEventsToProcess:Rt.cS,tpdHashInEffectsObject:o.YP,tpdQueries:o.YP,tpdReady:!1,unprocessedPageviewComplete:qr({sessionId:a.environment.sessionId,viewId:a.environment.viewId}),processedNonQlCohorts:Rt.cS}})))),e.trace.traceTask("query_language_initialisation_duration"),ut.UI((0,m.bw)((t=>{var r;e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"query_language_ready",time_origin:"sdk_init"},performance.now()),e.metrics.trackCounter({name:"sdk_queries_to_replay_count",value:(r=t,0===r.numEventsForReplay?0:r.queriesForReplay.length),labels:{}})}))),ut.UI((t=>{let r=t;const i=(0,n.zG)(e.validationService,o.OV({downloadCloudLiftQueries:_,externalState:t.persistentState.externalStateMap}));return t=>{const[a,s]=(0,n.zG)(t,Rr(e.trace))(r);return(0,n.zG)(i,o.OV((0,n.bc)(t,s))),r=s,[a,s.persistentState]}})));var a})),a.fF),v=(0,n.zG)(g,a.UI(o.UI((e=>e.process)))),h=(0,n.zG)(g,a.UI(o.EQ((()=>!1),(e=>e.stateMigratedThisInitialisation))));let b=Rt.bM();const y=(0,n.zG)(a.vP({processInput:v,inputIO:(0,n.zG)(p,a.UI(o.G))}),a.UI((0,we.Yt)(o.G5)),a.UI(o.UI((e=>{let{processInput:t,inputIO:r}=e;const i=r(),[a,c]=(0,n.zG)(i,(0,m.rO)({newEvents:Rt.UI(s.Yg),cloudLiftedState:Rt.UI((e=>e.state))}),(e=>t({...e}))),l=(0,n.zG)(a,o.EQ((()=>({errors:[],events:i.newEvents,internalStateDiff:o.YP})),(e=>{let[t,r,n]=e;return{errors:t,events:i.newEvents.concat(n.map((e=>[(0,m.k$)(),e]))),internalStateDiff:o.G(r)}})));return b=(0,n.zG)(b,Rt.R3(l)),{consumeDeltas:()=>{const e=b;return b=Rt.cS,e},modelState:c}})))),w=(0,n.zG)(y,a.UI(o.UI((e=>e.modelState)))),I=(0,n.zG)(y,a.UI(o.UI((e=>e.consumeDeltas))),a.UI(o.fS((()=>f.of(Rt.bM()))))),S=(0,n.zG)(a.vP(w,c),a.Rp(((e,t)=>{let[r,i]=t;const a=(0,n.zG)(e,o.UI((e=>{let[,t]=e;return(0,n.zG)(r,o.EQ((()=>t),(e=>(0,n.zG)(t,Rt.hX((t=>!t(e,i.pendingEvents)))))))})),o.fS((()=>Rt.bM())));if(o.pC(r)&&Rt.xb(i.pendingEvents))return[Gn(r.value),a];const s=(0,m.b2)(),c=(0,n.zG)(r,o.fS((()=>d)));var l;return[(0,n.zG)((()=>s.promise),(l=c,e=>[l,e])),(0,n.zG)(a,Rt.R3(((e,t)=>{const r=Rt.xb(t)||(0,n.zG)(i.pendingEvents,Rt.yW((e=>!t.includes(e))));return r&&s.resolve(e),r})))]})),a.UI(s.li)),E=(0,n.zG)(I,a.En(3,Rt.uZ()),(t=>{let[r,i,s]=t;return{errors:(0,n.zG)(r,a.UI(f.UI(Rt.tS((e=>e.errors))))),events:(0,n.zG)(i,a.UI(f.UI(Rt.tS((e=>e.events)))),(0,wn.F)(e.metrics,"query_language_processed_pageview")),internalStateDiff:(0,n.zG)(s,a.UI(f.UI((0,n.ls)(Rt.DZ((e=>e.internalStateDiff)),o.DT(Rt.Od),o.UI((e=>e.reduce(((e,t)=>({...e,...t})))))))))}})),k=(0,n.zG)(S,Dn((e=>e.internalStateMap))),A=Mn(k);return{state:Mn(S),value:{...E,stateMigratedThisInitialisation:h,internalStateMap:A,processing:(0,n.zG)(a.vP(y,c),a.UI((e=>{let[t,r]=e;return o.Wi(t)||Rt.Od(r.pendingEvents)}))),segments:(0,n.zG)(k,Dn(Nn)),tpdUsage:(0,n.zG)(a.vP(e.thirdPartyData,A),a.UI((e=>{let[t,r]=e;return(0,n.zG)(t,o.UI((()=>nn(r))))}))),unprocessedPageviewComplete:(0,n.zG)(w,a.UI(o.NG((e=>e.unprocessedPVC))),a.UI(o.UI(jr.k)))}}})),Nn=e=>(0,n.zG)(rn(e),(e=>(0,n.zG)(e,Rt.uK((e=>e<1e7)),(t=>{let{left:r,right:n}=t;return{all:e,custom:n,standard:r}}))));var Fn=r(125);const Yn=e=>Gn(R.F2(e)),Bn="RefEventualEither",$n=e=>a.a9(Yn(e)),Xn=Te.UI(Rn,R.dO),Hn=we.ap(Ln,R.G5),Vn=e=>(e=>t=>{const r=t();return(0,n.zG)(a.fF((()=>r)),a.UI(o.fS((()=>e))),a.UI((e=>(0,n.bc)(e,(()=>r)))))})(R.F2(e)),Kn=e=>Dn(R.F2)(e),Wn=e=>Dn(R.fS(e)),Jn={URI:Bn,map:(e,t)=>Xn(t)(e)},Zn={URI:Bn,map:Jn.map,ap:(e,t)=>Hn(t)(e)},ei=we.gM(Zn),ti=e=>Mn(e.all),ri=(e,t)=>r=>({all:(0,n.zG)(r,Xn(e)),byAdServer:(0,m.mQ)((0,n.ls)(t,o.UI((e=>(0,n.zG)(r,Xn(e))))))}),ni=(e,t)=>(0,n.ls)(Dn(R.F2),ri(e,t)),ii=e=>(0,n.zG)(e,Dn(R.F2),ri(n.yR,(e=>o.G(e.filterCohorts)))),ai=e=>({all:(0,n.zG)(e.all,Wn((()=>Rt.bM()))),byAdServer:(0,m.mQ)((0,n.ls)(e.byAdServer,o.UI(Wn((()=>Rt.bM())))))}),oi=e=>(0,n.zG)(e,ai,ti),si={empty:{all:$n(Rt.bM()),byAdServer:(0,m.mQ)((e=>o.YP))},concat:(e,t)=>({all:(0,n.zG)((0,we.gz)(Zn)(e.all,t.all),Xn(Rt.xH)),byAdServer:(0,m.mQ)((r=>(0,n.zG)(Rt.oA([e.byAdServer(r),t.byAdServer(r)]),lr.c2,o.UI((e=>e.reduce(((e,t)=>(0,n.zG)((0,we.gz)(Zn)(e,t),Xn(Rt.xH)))))))))})},ci=new Set(["AdRequest","PageviewEngagement","PrebidAuctions","Reaction","SegmentEntry","SegmentExit","SlotRendered","ThirdPartySegments","VideoEngagement"]),li=function(){return(0,n.bc)(...arguments)};var ui=r(794);const pi=e=>{let{queries:t,...r}=e;const[i,c]=a.Ue("pending");let l=o.G([]);const u=e=>{const t=Math.ceil(Math.random()*e.length);return(0,n.zG)(e,j.ke(t))};(0,n.zG)((()=>new Promise((e=>setTimeout(e,r.processingDelayMs)))),ut.UI((()=>performance.now())),ut.UI((e=>(0,n.zG)(l,o.UI(u),o.hX(j.Od),o.UI(M.ur(ui.n_({events:Rt.jG(),externalStateDeltas:Rt.jG(),lookalikeModels:ui.Z$(),modelState:ui.Z$(),thirdPartyData:ui.Z$()}))),(0,m.bw)((()=>{l=o.YP})),o.Hr("startTime",(()=>e))))),ut.UI((0,m.bw)(o.EQ((()=>c("skipped")),(()=>c("in_progress"))))),Ot("historicalEvents",(()=>mt(r.historicalEvents))),Ot("cloudLiftQueries",(()=>(0,n.zG)(Object.keys(t.runtime.cloudLiftedQueries),Rt.aD((()=>ut.of(qe.cS)),(e=>(0,n.zG)(r.downloadCloudLiftQueries(e),De.OV(t.runtime),ut.UI(R.fS((()=>qe.cS)))))),mt))),Ot("expectedSegmentMemberships",qt((e=>_i({events:{historical:e.historicalEvents,new:e.events},externalState:{historical:r.externalState,deltas:e.externalStateDeltas},lookalikeModels:e.lookalikeModels,queries:{cloudLiftQueries:e.cloudLiftQueries,metadata:t.metadata,runtime:t.runtime},thirdPartyData:e.thirdPartyData})))),Dt("report",(e=>{let{expectedSegmentMemberships:r,modelState:i}=e;return function(e){const t=new Set(e.expectedSegmentMemberships);return(0,n.zG)(function(e){const t=function(e){const t=(0,n.zG)(Object.keys(e.runtime.queriesByEvent),Rt.Su(((e,t)=>[t,2**e]))),r={},i=Object.fromEntries(t);for(const t in e.runtime.queriesByEvent){const n=e.runtime.queriesByEvent[t];for(const e of n)r[e]?r[e]+=i[t]:r[e]=i[t]}const a={};for(const e in r){const t=r[e];a[t]?a[t].push(e):a[t]=[e]}return(0,n.zG)(Object.entries(a),Rt.UI((0,n.ls)((0,s.pL)((e=>Number(e))),(0,s.pL)((e=>(0,n.zG)(t,Rt.DZ((0,n.ls)(o.DT((t=>{let[,r]=t;return(e&r)>0})),o.UI(s.li)))))))))}(e),r=new Set(Object.keys(e.runtime.cloudLiftedQueries));if(0===r.size)return(0,n.zG)(t,Rt.UI((0,s.pL)((e=>({triggers:e,cloudLifted:!1})))));return(0,n.zG)(t,Rt.tS((e=>{let[t,i]=e;const{left:a,right:o}=(0,n.zG)(i,Rt.uK((e=>r.has(e))));return[[{triggers:t,cloudLifted:!1},a],[{triggers:t,cloudLifted:!0},o]]})))}(e.queries),Rt.UI((0,s.H5)((r=>({actualSegments:(0,n.zG)(r,Rt.hX((t=>Boolean(e.modelState.persistentState.internalStateMap[t]?.result?.result)))),expectedSegments:(0,n.zG)(r,Rt.hX((e=>t.has(e))))})))))}({expectedSegmentMemberships:r,modelState:i,queries:t})})),Ut((e=>{let{startTime:t}=e;return()=>r.metrics.track({name:"sdk_segmentation_validation_duration_seconds",value:(performance.now()-t)/1e3,labels:{}})})),ht((e=>e.report)),ht(di(r.metrics)),ht((()=>c("finished"))))();return[i,e=>{let[t,r]=e;(0,n.zG)((0,we.gz)(o.g1)(l,t.environment.lookalikeModels,(0,n.zG)(t.environment.thirdPartyData,o.UI(s.Yg))),o.UI((e=>{let[n,i,a]=e;n.push({externalStateDeltas:Rt.Yo(t.externalStateDelta),lookalikeModels:i,events:t.newEvents,modelState:r,thirdPartyData:a})})))}]};const fi=new Set(["SegmentEntry","SegmentExit","PageviewEngagement","PageviewComplete","Pageview","LinkClick","SlotViewable","SlotRendered","UpdateLookalikeModels","UpdateSecondPartyData","UpdateThirdPartyData"]),di=e=>t=>{for(const[r,{expectedSegments:i,actualSegments:a}]of t){if(0===i.length&&0===a.length)continue;const{correct:t,incorrect:o,missing:s}=mi(i,a),c=(0,n.zG)(r.triggers,Rt.UI((e=>e.startsWith("!")?e.slice(1):e)),Rt.UI((e=>fi.has(e)?e:"misc")),(e=>[...new Set(e)]),Rt.UI((e=>(0,n.bc)(`trigger_${e}`,!0))),Rt.R3((0,n.bc)("is_cloud_lifted",r.cloudLifted)),(e=>Object.fromEntries(e))),l=(t,r)=>r.length>0&&e.trackCounter({name:t,value:r.length,labels:c});l("sdk_segmentation_validation_correct_count_total",t),l("sdk_segmentation_validation_incorrect_count_total",o),l("sdk_segmentation_validation_missing_count_total",s)}},mi=(e,t)=>{if(0===t.length)return{correct:[],incorrect:[],missing:e};if(0===e.length)return{correct:[],incorrect:t,missing:[]};const r=new Set(t),i=new Set(e),{right:a,left:o}=(0,n.zG)(t,Rt.uK((e=>i.has(e))));return{correct:a,incorrect:o,missing:(0,n.zG)(e,Rt.hX((e=>!r.has(e))))}};const _i=e=>hi(50,(function*(){const t={...e.queries.runtime.locallyLiftedQueries,...e.queries.cloudLiftQueries},r=(0,n.zG)(e.queries.runtime.queriesByEvent,qe.DZ((0,n.ls)(o.ij,o.UI(Rt.UI((e=>(0,n.bc)(e,t[e]))))))),i=(0,n.zG)(e.externalState.historical,o.fS((()=>({}))),qe.DZ(o.Dj(K)),(t=>(0,n.zG)(e.externalState.deltas,Rt.UI($r(e.queries)),Rt.u4(t,Xr))),qe.UI(V)),a={},s=new vi(e.lookalikeModels,e.thirdPartyData),c=e=>(s.processEvent(e),(0,n.zG)(r[e.name]??[],Rt.DZ((t=>{let[r,i]=t;return(0,n.zG)(o.ij(i.lift(e,s.effects)),o.fX((e=>a[r]?(0,n.zG)(e,gi(i,a[r])):R.F2(e))),o.UI((e=>(a[r]=e,r))))})))),l=e=>(0,n.zG)((e=>(0,n.zG)(a[e]??null,(r=>e in i?(0,n.zG)(i[e],gi(t[e],r),R.fS((()=>r))):r),(r=>t[e].interpret(r,s.effects)),(e=>e.result)))(e),o.DT((t=>t!==s.getSegmentResult(e))),o.UI((t=>({name:t?"SegmentEntry":"SegmentExit",properties:{segment_number:Number(e)},time:s.effects.getCurrentTime(),session_id:s.effects.getCurrentSession(),view_id:s.effects.getCurrentView()})))),u=e=>{if(0==e.length)return;const t=(0,n.zG)(e,Rt.tS((0,n.ls)(l,o.UI(c),o.fS((()=>Rt.bM())))));u(t)};for(const t of e.events.historical)yield,c(t);(0,n.zG)(Object.keys(t),u);for(const t of e.events.new)switch(yield,t.name){case"SegmentEntry":case"SegmentExit":case"PageviewComplete":break;default:c(t)}return(0,n.zG)(Object.keys(t),u),s.effects.getSegmentsArray()["1p"]})),gi=(e,t)=>r=>R.Y3((()=>e.append(t,r)),(e=>`Failed to append lifted state: ${e}`));class vi{segments;segmentsArray=void 0;lastEvent=(()=>o.YP)();effects;constructor(e,t){const r=(0,n.zG)(t,qe.UI(qe.hX((e=>!0===e))));this.segments={...r,"1p":{}};const i=(0,n.zG)(this.segments,qe.UI(Object.keys));this.effects={getLookalikeModels:()=>e,getSegments:()=>this.segments,getSegmentsArray:()=>(this.segmentsArray||(this.segmentsArray={...i,"1p":Object.keys(this.segments["1p"])}),this.segmentsArray),setSegmentActivation:()=>{},getCurrentTime:()=>(0,n.zG)(this.lastEvent,o.EQ((()=>new Date),(e=>e.time))),getCurrentSession:()=>(0,n.zG)(this.lastEvent,o.EQ((()=>""),(e=>e.session_id))),getCurrentView:()=>(0,n.zG)(this.lastEvent,o.EQ((()=>""),(e=>e.view_id)))}}get1pSegments(){return this.effects.getSegmentsArray()["1p"]}getSegmentResult(e){return this.segments["1p"][e]??!1}processEvent(e){if("SegmentEntry"===e.name){const t=e.properties.segment_number;t&&this.processSegmentEntry([t])}else if("SegmentExit"===e.name){const t=e.properties.segment_number;t&&this.processSegmentExit([t])}else if("PageviewComplete"===e.name){const t=e.properties.aggregations;t?.SegmentEntry&&this.processSegmentEntry(t.SegmentEntry),t?.SegmentExit&&this.processSegmentExit(t.SegmentExit)}this.lastEvent=o.G(e)}processSegmentEntry(e){for(const t of e)t in this.segments["1p"]||(this.segments["1p"][t]=!0,this.segmentsArray=void 0)}processSegmentExit(e){for(const t of e)t in this.segments["1p"]&&(delete this.segments["1p"][t],this.segmentsArray=void 0)}}const hi=(e,t)=>async()=>{let r=performance.now();const n=t();for(;;){performance.now()-r>e&&(await new Promise((e=>setTimeout(e))),r=performance.now());const t=n.next();if(t.done)return t.value}},bi=e=>i.dQ((e=>{let{previousState:t}=e;return{value:o.YP,state:a.a9(t)}})),yi=e=>i.dQ((t=>{let{previousState:r}=t;const i=(0,n.zG)(r,o.DT(m.El),o.xH,o.hX(D.HD)),s=(0,n.zG)(i,o.EQ((()=>!1),(t=>t===e.sessionId)));if(!e.metrics.isEnabled()||Math.random()>.1||s)return{value:o.YP,state:a.a9(r)};const[c,l]=a.Ue(a.a9("pending"));return{value:o.G((t=>{let{downloadCloudLiftQueries:r,externalState:n}=t;const[i,a]=pi({downloadCloudLiftQueries:r,externalState:n,historicalEvents:e.priorEvents,metrics:e.metrics,processingDelayMs:6e4,queries:e.customQueries});return l(i),a})),state:(0,n.zG)(a.xH(c),a.UI((0,n.ls)(o.DT((e=>"in_progress"===e||"finished"===e)),o.UI((()=>e.sessionId)),o.wp((()=>i)))))}})),wi=e=>(0,n.zG)(i.K4((t=>{let{stopped:r}=t;const[i,s]=a.Ue(a.a9(f.of(o.YP)));let c;const l=new Promise((e=>{c=e}));return{priorEvents:()=>l.then((e=>e())),externalStateDelta:a.xH(i),newEvents:(0,n.zG)(a.vP(e.newEvents,r),a.UI((e=>{let[t,r]=e;return r?()=>[]:t}))),setCachedPriorEvents:c,setExternalStateDelta:s}})),i.ak("segmentationValidation",(t=>{let{priorEvents:r}=t;return(0,n.zG)(e.eventsCache,R.EQ((()=>bi),(()=>yi)),(t=>t({...e,sessionId:e.sessionId.current,priorEvents:r})))})),i.ak("segmentationService",(t=>{let{newEvents:r,priorEvents:o,externalStateDelta:s,segmentationValidation:c}=t;return(0,n.zG)(Qn({...e,externalStateDelta:s,newEvents:r,priorEvents:o,validationService:c,userGroupCohorts:e.userGroupCohorts}),i.bw((t=>(0,n.zG)(t.errors,a.UI((t=>(0,n.zG)(t(),Rt.UI((t=>e.reportError(`Query Language: ${t}`,{userId:e.groupId}))))))))))})),i.UI((t=>(0,n.zG)(t.segmentationService.events,a.En(4,Rt.uZ()),(r=>{let[i,c,l,u]=r;return{...t,newEvents:i,realtime:(0,n.zG)(c,a.Rp(!1,((e,t)=>{const r=t();return e||r.some((e=>{let[,t]=e;return"Pageview"===t.name}))})),(e=>a.vP(e,t.segmentationService.processing)),a.UI((e=>{let[t,r]=e;return t&&!r})),a.u4(((e,t)=>e||t))),currentPageviewSegments:(p={processedEvents:(0,n.zG)(l,a.UI(f.UI(Rt.UI(s.Yg)))),segments:t.segmentationService.segments,viewId:e.viewId},(0,n.zG)(a.vP(p.processedEvents,p.viewId,p.segments),a.Rp({pageviewProcessed:!1,resolvePageviewSegments:e=>{},segments:Gn({all:[],custom:[],standard:[]}),viewId:""},((e,t)=>{let[r,i,a]=t;const s=r();return(0,n.zG)(e,o.DT((e=>e.viewId===i)),o.EQ((()=>{if((0,n.zG)(s,Rt.G((e=>"Pageview"===e.name&&e.view_id===i))))return{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:a,viewId:i};{const e=(0,m.b2)();return{pageviewProcessed:!1,resolvePageviewSegments:t=>e.resolve(zn(t)()),segments:li(xn(a),(()=>e.promise)),viewId:i}}}),(e=>e.pageviewProcessed?{...e,segments:a}:(0,n.zG)(s,Rt.G((e=>"Pageview"===e.name&&e.view_id===i)))?(e.resolvePageviewSegments(a),{pageviewProcessed:!0,resolvePageviewSegments:()=>{},segments:a,viewId:i}):{...e,segments:a})))})),a.UI((e=>e.segments)))),lastProcessedEvents:(0,n.zG)(u,a.UI(f.UI(Rt.UI(s.Yg))))};var p})))),i.Hr("cohorts",(t=>{let{segmentationService:r}=t;return(0,n.zG)(a.fF(e.nonQlCohorts),a.UI(o.UI((e=>(0,n.zG)(r.segments,Dn((e=>e.all)),Dn(Rt.UI(String)),ii,(t=>({query_language:t,...e})))))))})),i.ak("stateSync",(t=>{let{segmentationService:r,lastProcessedEvents:n}=t;return Qt({eventSourceId:e.eventSourceId,groupId:e.groupId,groupIdIsNewlyGenerated:e.groupIdIsNewlyGenerated,internalStateDiff:r.internalStateDiff,internalStateMap:r.internalStateMap,lastProcessedEvents:n,logger:e.logger,permutiveApi:e.permutiveApi,permutiveUrls:e.permutiveUrls,queryLanguageProcessing:r.processing,reportError:e.reportError,sessionId:e.sessionId,viewId:e.viewId})})),i.bw((e=>{let{stateSync:t,setExternalStateDelta:r}=e;return r(t.externalStateDelta)})),i.ak("segmentTransitions",(t=>{let{segmentationService:r}=t;return(e=>(0,n.zG)(i.vP({currentSegmentsSet:i.K4((()=>(0,n.zG)(e.segments,a.UI(l))))}),i.ak("transitionsSinceInit",(e=>{let{currentSegmentsSet:t}=e;return i.of(c(t))})),i.UI((e=>{let{currentSegmentsSet:t,...r}=e;return r}))))({segments:(0,n.zG)(Mn(r.segments),a.UI((e=>e.all))),viewId:e.viewId})})),i.Hr("cohortsRef",(e=>{let{cohorts:t}=e;return(0,n.zG)(t,a.VS(o.EQ((()=>a.a9(Rt.bM())),(0,n.ls)((e=>Object.values(e)),Rt.UI((0,n.ls)(ai,(e=>e.all),Mn,a.D8(Rt.Eh(D.Eq)))),Rt.vP(a.g1),a.UI(Rt.xH)))))})),i.Hr("createTrackRequest",(t=>{let{cohortsRef:r,segmentationService:i}=t;return(0,n.zG)(a.vP({cohorts:(0,n.zG)(r,a.UI(o.G)),qlSegments:(0,n.zG)(Mn(i.segments),a.UI(o.G)),webClient:e.webClient}),a.UI((0,we.Yt)(o.G5)),a.UI(o.UI((t=>{let{cohorts:r,qlSegments:n,webClient:i}=t;return t=>({...t,segments:n.all,user_id:e.groupId,cohorts:r,properties:{...t.properties,client:{...i,...t.properties.client??{}}}})}))))})),i.Hr("eventsToPublishOnPageUnload",(t=>e.trackPageviewComplete?(0,n.zG)(t.segmentationService.unprocessedPageviewComplete,a.UI(Rt.pc(o.UI((e=>(0,n.bc)(`PageviewComplete-${e.view_id}`,e))))),(e=>a.vP(t.createTrackRequest,e)),a.UI((e=>{let[t,r]=e;return(0,n.zG)(t,o.EQ((()=>Rt.cS),(e=>(0,n.zG)(r,Rt.UI((0,s.H5)(e))))))}))):a.a9(Rt.cS))),i.ak("eventCache",(t=>{let{newEvents:r,setCachedPriorEvents:o}=t;return(0,n.zG)(e.eventsCache,R.EQ((e=>(o(e),i.of({newEvents:r}))),(e=>(0,n.zG)((e=>i.K4((()=>({newEvents:(0,n.zG)(e.newEvents,a.UI(f.UI((0,m.bw)(Rt.UI((t=>{let[,r]=t;ci.has(r.name)||e.eventsCache.add(r,{persistOnDisk:!0})})))))),priorEvents:()=>e.eventsCache.all()}))))({eventsCache:e,newEvents:r}),i.UI((e=>{let{newEvents:t,priorEvents:r}=e;return o(r),{newEvents:t}}))))))})),i.UI((e=>({...e,newEvents:e.eventCache.newEvents}))),i.Hr("eventsToPublish",(t=>{let{cohorts:r,newEvents:i,segmentationService:c}=t;return(0,n.zG)(a.vP(i,e.webClient,c.segments,(0,n.zG)(r,a.UI(o.UI((0,n.ls)((e=>Object.values(e)),Rt.UI(ai),Rt.UI((e=>e.all)))))),(0,n.zG)(e.viewId,a.Rp(new Set,((e,t)=>new Set([...e,t]))))),a.UI((t=>{let[r,i,a,c,l]=t;return(0,n.zG)(o.Do,o.Qt("webClient",i),o.Qt("cohorts",c),o.ak("events",(()=>(0,n.zG)(r(),Rt.hX((e=>{let[,t]=e;return"PageviewComplete"!==t.name||l.has(t.view_id)})),o.DT(Rt.Od)))),ft,Ot("segments",(()=>(0,n.zG)(zn(a),mt))),Ct((e=>(0,n.zG)(e.cohorts,ut.uU(Tn(1e3)),ut.UI(Rt.xH),ut.UI((t=>({...e,cohorts:t})))))),ht((t=>{let{cohorts:r,events:i,segments:a,webClient:o}=t;return(0,n.zG)(i,Rt.UI((0,s.H5)((t=>({...t,segments:a.all,user_id:e.groupId,cohorts:r,properties:{...t.properties,client:{...o,...t.properties.client??{}}}})))))})),ut.UI(o.fS((()=>Rt.bM()))))})),(e=>{const[t,r]=a.gS(Rt.uZ());return(0,n.zG)(e,a.UI((e=>e().then(r)))),t}))})));var Ii=r(385);function Si(e){return t=>(0,n.zG)(a.oQ(e),a.UI((0,m.rO)({backoffAfterErrorMs:e=>e??0,backoffAfterSuccessMs:e=>e??0})),(e=>i.dQ((r=>{let{previousState:i}=r;const[s,c]=a.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(i)),l=(0,n.zG)(a.vP(s,e),a.UI((e=>{let[t,r]=e;return Math.max(t.lastError+r.backoffAfterErrorMs,t.lastSuccess+r.backoffAfterSuccessMs)})));return{state:s,value:(0,n.ls)(o.DT((()=>Date.now()>=l.current)),o.UI(t),o.UI((0,m.bw)((e=>e.then((()=>c({...s.current,lastSuccess:Date.now()})),(()=>c({...s.current,lastError:Date.now()})))))))}}))))}const Ei=function(e,t){return i.of(o.YP)};var ki=r(905);const Ai=function(e,t){return(0,n.zG)(Gi(e),Si({backoffAfterErrorMs:6e5}),i.VS((e=>ki.m((0,n.zG)(t,a.UI((0,m.rO)({tpdUsage:o.UI((0,n.ls)(qe.UI(qe.z7((e=>["eyeota","liveramp_IPSOS","liveramp_Acxiom","liveramp_Ibotta","liveramp_MeritDirect","liveramp_PlaceIQ","liveramp_Bombora","liveramp_IRI","liveramp_Fluent","liveramp_AudienceElements","liveramp_Illion","liveramp_Alliant","liveramp_33across","liveramp_Epsilon","liveramp_IXIDigital","liveramp_AnalyticsIQ","liveramp_Zeotap","liveramp_DLG","liveramp_CoreLogic","liveramp_Kantar","liveramp_OnAudience","liveramp_Mastercard","liveramp_RoyMorgan","liveramp_Yougov","liveramp_DunandBradstreet","liveramp_StatSocial","liveramp_Experian","liveramp_ShareThis","liveramp_Stirista","liveramp_killi","liveramp_DowJones_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","liveramp_bombora_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","liveramp_SambaTV_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","liveramp_GoldmanSachs_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba"].includes(e)))),qe.hX((0,Ce.ff)(qe.xb))))})),a.UI((t=>{let{tpdUsage:r,userId:i}=t;return{validityKey:()=>i,freshnessKey:(0,n.ls)((()=>r),o.EQ((()=>0),(0,n.ls)(JSON.stringify,m.vp))),refresh:(0,n.zG)(r,o.hX((e=>Object.keys(e).length>0)),o.UI((t=>()=>De.Y3((()=>(0,n.zG)(e({user_id:i,time:new Date,tpd_segments:t}),o.fS((()=>Promise.reject("Blocked by backoff."))))),(e=>`Failed to report TPD usage. Got ${e}`)))))}})))))),i.UI(n.Q1))};const Gi=e=>t=>{const{config:r,metrics:n,permutiveApi:i,permutiveUrls:a}=e,s=n.startTimer("sdk_http_tpd_usage_seconds",{});return i.req({url:a.getEndpointUrl("/tpd/usage",o.G(r.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_tpd_usage_seconds",s),e)))};var xi=function(e){return function(t){return function(r){return e(t(r))}}},zi=n.a9;$e.F4,$e.Xl;function Ui(e){return function(t){return function(){return e.of(t)}}}function Pi(e){return function(t){return function(r){return function(n){return e.map(r(n),t)}}}}function qi(e){return function(t){return function(r){return function(n){return e.ap(r(n),t(n))}}}}function Ci(e){return function(t){return function(r){return function(n){return e.chain(r(n),(function(e){return t(e)(n)}))}}}}function Di(e){return function(t){return(0,n.ls)(t,e.of)}}ut.PM;var Oi=zi,Ti=(ut.tD,xi(ut.tD),function(e,t){return(0,n.zG)(e,Mi(t))}),Mi=Pi(ut.dO),ji=(ut.Hi,Ui(ut.PM)),Ri=(ut.UA,"ReaderTask"),Li={URI:Ri,map:Ti},Qi={URI:Ri,of:ji};$e.F4,$e.Xl;var Ni=zi,Fi=Fn.F2(Qi),Yi=(De.QM,De.lk,De.dk,De.Op,De.fj,Fn.UI(Li)),Bi=Fi;$e.F4,$e.Xl;function $i(e,t){const r=["amp","gigya","pxid","sailthru"],s=(0,n.zG)(t.identities,a.UI(o.UI(qe.z7((e=>!r.includes(e)))))),c=e=>(0,m.vp)(JSON.stringify(e)),l=e=>[c(e),e];return(0,n.zG)(i.vP({fetchFromNewEndpoint:(0,n.zG)(Xi(e),Si({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,n.zG)(Hi(e),Si({backoffAfterErrorMs:6e5}))}),i.VS((r=>{let{fetchFromNewEndpoint:c,fetchFromLegacyEndpoint:u}=r;return(0,n.zG)(ki.m((0,n.zG)(a.vP(t.userId,t.sessionId,s),a.UI((t=>{let[r,i,a]=t;return{validityKey:()=>r,freshnessKey:()=>`${Vi(a)},${i}`,refresh:(0,n.zG)(a,o.UI((t=>()=>qe.xb(t)?De.of({}):De.Y3((()=>(0,n.zG)((t=>(0,n.zG)(c(t),o.UI((e=>e.catch((()=>(0,n.zG)(u(t.identities),o.fS((()=>e))))))),o.wp((()=>u(t.identities))),o.UI((0,m.bw)((t=>{const r=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(n.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",r)}))})))))({userId:r,identities:t}),o.fS((()=>Promise.reject("Blocked by persistent backoff"))))),(e=>`Error fetching TPD. Got ${e}`)))),o.UI(Yi(l)))}})))),ki.d((e=>o.G((e=>Array.isArray(e)?e:l(e))(e)))),i.UI(a.UI(R.fS((t=>(e.logger.warn("[TPD]",`Failed to retrieve usable value, using zero value. ${t}`),o.G(l({}))))))),i.bw((0,n.ls)(a.UI(o.pC),a.UI((t=>{t&&e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"audience_matching_ready",time_origin:"sdk_init"})})))))})))}const Xi=e=>async t=>{const r=e.metrics.startTimer("sdk_http_audience_matching_seconds",{}),i=await e.permutiveApi.req({url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",o.G("v1"),t.userId),payload:{identities:(0,n.zG)(t.identities,qe.Yz,Rt.UI((e=>{let[t,r]=e;return{tag:t,id:r}})))},method:"POST",withCredentials:!1,dataType:"json"});return e.metrics.stopTimer("sdk_http_audience_matching_seconds",r),i.items},Hi=e=>async t=>{const r=e.metrics.startTimer("sdk_http_tpd_seconds",{}),n=await e.permutiveApi.req({url:e.permutiveUrls.getEndpointUrl("/tpd",o.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1});return e.metrics.stopTimer("sdk_http_tpd_seconds",r),n},Vi=(0,n.ls)(JSON.stringify,m.vp);const Ki=(e,t)=>(0,n.zG)(i.vP({data:$i(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:Ai(e,a.vP({tpdUsage:t.tpdUsage,userId:t.userId}))}),i.ak("analytics",(e=>{let{data:r}=e;return function(e){return i.dQ((t=>{let{previousState:r}=t;const[i,s]=a.gS(Rt.uZ());var c;return{state:(0,n.zG)(a.vP(e.userId,e.providerSegments,e.sessionId,e.viewId),a.D8(((e,t)=>{let[r,n]=e,[i,a]=t;return r===i&&n===a})),a.Rp(null!==(c=r)&&"object"==typeof c?c:{userId:"",providerHashes:{}},((e,t)=>{let[r,i,a,c]=t;const l=(0,n.zG)(i,o.fS((()=>({})))),u=(0,n.zG)(l,qe.UI((0,m.SL)(m.vp))),p=(0,n.zG)(e,o.DT((e=>e.userId===r)),o.UI((e=>e.providerHashes)),o.fS((()=>({}))));return(0,n.zG)(l,qe.z7((e=>u[e]!==(p[e]||0))),(e=>Object.entries(e)),Rt.UI((e=>{let[t,r]=e;return(0,n.bc)((0,m.k$)(),{name:"ThirdPartySegments",properties:{data_provider:t,segments:[...r]},session_id:a,time:new Date,view_id:c})})),s),{userId:r,providerHashes:u}}))),value:i}}))}({providerSegments:(0,n.zG)(r,a.UI(o.UI(yn.Yg))),sessionId:t.sessionId,userId:t.userId,viewId:t.viewId})})),i.UI((e=>{let{data:t,analytics:r}=e;return{data:t,analyticsEvents:r}}))),Wi=function(e){const t={include_geo:!0,include_isp:!0,include_ip_hash:!0,include_ip:!1},r=e.trace.startSpan("geoip_data_retrieval");return(0,n.zG)(ki.m((0,n.zG)(e.sessionId,a.UI((r=>({validityKey:()=>(0,m.vp)(JSON.stringify(t)),freshnessKey:()=>r,refresh:o.G((()=>De.Y3((()=>Ji(e.permutiveApi,e.metrics,e.config,t,e.permutiveUrls)),(e=>`Error fetching geoip. Got ${e}`))))}))))),i.UI(a.UI(R.fS((t=>(e.logger.warn("[geoip]",`Failed to retrieve usable value, using zero value. ${t}`),o.G({})))))),i.bw((0,n.ls)(a.UI(o.pC),a.UI((t=>{t&&(e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"geoip_data_ready",time_origin:"sdk_init"},performance.now()),r.finish())})))))};const Ji=(e,t,r,n,i)=>{const a=[];n.include_geo&&a.push(["include","geo"]),n.include_isp&&a.push(["include","isp"]),n.include_ip&&a.push(["include","ip"]),n.include_ip_hash&&a.push(["include","ip_hash"]);const s=t.startTimer("sdk_http_geoip_seconds",{});return e.req({url:i.getEndpointUrl("/geoip",o.G(r.apiVersion),a),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(t.stopTimer("sdk_http_geoip_seconds",s),e)))},Zi=e=>t=>{const r=n=>{const i={...n};for(let a in n){const o=n[a];t.hasOwnProperty(o)?e?.dropUnenriched&&void 0===t[o]?delete i[a]:i[a]=t[o]:null!==o&&"object"==typeof o&&o.constructor===Object&&(i[a]=r(o))}return i};return r};var ea=r(630),ta=r(478);const ra=function(e,t,r,s,c){const l=(0,ta.Hn)(ia),u=l("ssps",Rt.cS),p=l("all_cohort_mapping",{}),f=u.includes("google_pps"),d=l("affinity_enabled",!1);return(0,n.zG)(c.consent,i.KD([[e=>!e,i.of($n(o.YP))],i.K4((i=>{let{stopped:l}=i;s.debug("[ssp] Addon started, affinity enabled: ",d);const u=(0,n.zG)(c.cohorts,Xn((0,n.ls)(Rt.hX((e=>e in p)),Rt.tS((e=>p[e]))))),f=(0,n.zG)(a.vP(c.url,l),a.UI((e=>{let[t,r]=e;return(0,n.zG)(t,o.hX((()=>d&&!r)))})),a.UI(o.UI((r=>De.Y3((()=>e.req({method:"GET",url:t.getEndpointUrl("/standard-audiences/v1/affinity",o.YP,[["url",r]]),withCredentials:!1,dataType:"json"})),String)))),a.UI(o.UI(De.Vn((0,m.bw)((e=>r(`Failed to fetch affinity cohorts: ${e}`)))))),a.UI(o.UI(De.UI((e=>e.affinity_values)))),a.UI(o.fS((()=>De.of(Rt.bM())))),a.VS(Vn(Rt.bM())));return(0,n.zG)((0,we.gz)(Zn)(u,f),Xn(Rt.xH),Xn((e=>[...new Set(e)])),Xn(o.G))}))]),i.UI(a.xH),i.UI((e=>({cohorts:(0,n.zG)(e,Xn(o.fS((()=>Rt.bM()))),ri((e=>e),(e=>"dfp"===e.id&&f?o.G(na):o.YP)),o.G),externalData:{[aa]:(0,n.zG)(Mn(e),a.UI(o.Uo),a.UI(o.xH),a.UI(o.UI(na)),a.D8(o.Eh(Rt.Eh(D.Eq))),a.UI(o.UI((e=>({ssps:u,cohorts:e})))))}}))))};const na=e=>[...new Set(e.map((e=>e.replace(/-ac$/,"").replace(/-aw$/,"").replace(/-c$/,""))))],ia="ssp";const aa="_pssps",oa=(e,t)=>(0,n.zG)(ra(e.permutiveApi,e.permutiveUrls,e.reportError,e.logger,t),i.UI((e=>{let{cohorts:t,externalData:r}=e;return{ssp:t,externalData:r}}))),sa="_pssps",ca=(e,t)=>({ssp:o.uZ(si).concat(e.ssp,t.ssp),externalData:{[sa]:(0,n.zG)(a.vP(e.externalData._pssps,t.externalData._pssps),a.UI((e=>{let[t,r]=e;return o.uZ(la).concat(t,r)})))}}),la={concat:(e,t)=>({cohorts:e.cohorts.concat(t.cohorts),ssps:Array.from(new Set(e.ssps.concat(t.ssps)))})};function ua(e){return e.includes("cur")?e:["cur",...e]}const pa=(e,t)=>i.K4((()=>{return e.logger.log("[curation]: running curation service",t.activationConfigs,["pubmatic","appnexus","ix","openx"]),(0,n.zG)(t.cohorts,Xn((r=e.logger,e=>t=>{const i=(0,n.zG)(t,Rt.tS((t=>(0,n.zG)(e[t],o.ij,o.fS((()=>Rt.bM()))))),ua);return r.log("[curation]: resolved curated cohorts",i),i})(t.activationConfigs)),ri((e=>e),(e=>(e.id,o.YP))),(e=>({ssp:o.G(e),externalData:{[sa]:(0,n.zG)(e,oi,a.UI((e=>o.G({ssps:["pubmatic","appnexus","ix","openx"],cohorts:e}))))}})));var r})),fa=(e,t)=>pa(e,t),da=e=>{const t=(0,n.zG)(e?.dfp??[],Rt.UI(String),(e=>new Set(e)));return{id:"dfp",filterCohorts:Rt.hX((e=>t.has(e)))}};(0,ta.Hn)("appnexus_adserver")("auto_init",!1);const ma=e=>{const t=(0,n.zG)(Object.values(e)??[],Rt.UI(String),(e=>new Set(e)));return{id:"xandr_ssp",filterCohorts:Rt.hX((e=>t.has(e)))}};const _a=e=>{if(!e.metrics.isEnabled())return()=>{};const t=(0,n.zG)(e.adServers,Rt.UI((e=>(0,n.bc)(e.id,e))),qe.sq,qe.UI((t=>{const r=(0,n.zG)(e.cohorts,qe.DZ((e=>e.byAdServer(t))),(e=>a.vP(e)),a.UI(qe.UI((i=5e3,s="Timeout",e=>(0,n.zG)(e,Un(i),ut.UI(o.pF((()=>R.t$(s)))))))),a.UI((0,we.Yt)(ut.Hi)),a.UI(ut.UI((0,n.ls)(qe.oh,Me.Vn(qe.Su(((t,r)=>{e.logger.warn("[Targeting Metrics]",`[${t}]`,r)}))),Me.F2))),(e=>()=>e.current));var i,s;return(0,n.ls)(Rt.of,Rt.UI((e=>e.cohorts)),va,Rt.UI((e=>{let[t,r]=e;return{allCohorts:new Set(t),cohortCountByType:ga(t),requestCount:r}})),(i=>(0,n.zG)(r(),ut.UI(qe.Su(((t,r)=>(i,a)=>{(0,n.zG)(r,Rt.Hr("actualCohortCount",(e=>{let{cohortCountByType:t}=e;return(0,n.zG)(t,qe.P5(i))})),Rt.UI((r=>{const s={cohort_type:i,target:t},c=a.reduce(((e,t)=>r.allCohorts.has(t)?e+1:e),0),l=a.length-c;e.metrics.track({name:"sdk_ad_request_missed_cohorts",labels:s,value:r.requestCount*l}),e.metrics.track({name:"sdk_ad_request_successful_cohorts",labels:s,value:r.requestCount*c}),(0,n.zG)(r.actualCohortCount,o.UI((t=>{const n=t-c;e.metrics.track({name:"sdk_ad_request_superfluous_cohorts",labels:s,value:r.requestCount*n})})))})))})(t.id,i))))),(e=>e()))})));return e=>{if("AdRequest"===e.name)(r=e.properties).ad_server_id in t&&t[r.ad_server_id](r);var r}},ga=e=>({ql:(0,n.zG)(e,Rt.u4(0,((e,t)=>isNaN(parseInt(t))?e:e+1)))}),va=e=>(0,n.zG)(e,Rt.pO((e=>{const{init:t,rest:r}=(0,n.zG)(e,Rt.zT((t=>t===e[0])));return[t,r]})),Rt.UI((e=>[e[0],e.length]))),ha=e=>o.YP;const ba=$.n_({cohorts:Rt.Eh((0,m.Or)()),ctx:(0,m.Or)()}),ya=Rt.cS;Promise.resolve(R.F2(ya)),$.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e&&t&&ba.equals(e,t)||e===t}});function wa(e,t){return Object.keys(t).reduce(((r,n)=>void 0!==e[n]?{...r,[n]:t[n]+e[n]}:{...r,[n]:t[n]}),e)}function Ia(e,t){return(0,n.zG)(Aa(e),((e,t)=>r=>(0,n.zG)((e=>r(e)().then((e=>R.nM(e)?Promise.reject(e.left):e.right))),Si(e),i.UI((e=>r=>()=>(0,n.zG)(r,e,o.EQ((()=>Promise.resolve(R.t$(t))),(e=>e.then(R.F2,R.t$))))))))({backoffAfterErrorMs:6e5},"Advertiser segmentation request blocked by rate limiting."),i.VS((r=>i.dQ((i=>{let{previousState:s}=i;return e.logger.debug("[advertiser] previous state:",s),(0,n.zG)(t,a.Rp(a.a9(Ea(e)(s)),ka(e)(r)),a.xH,a.bw((t=>e.logger.debug("[advertiser] updated state:",t))),(e=>({state:(0,n.zG)(e,a.UI((e=>{let{userId:t,lastSuccess:r}=e;return{userId:t,lastSuccess:o.FS(r)}})),a.D8(Oa)),value:(0,n.zG)(e,a.UI((e=>{let{eventual:t}=e;return t})))})))})))))}const Sa=e=>t=>(0,n.zG)(t,Dn(function(e){return t=>(0,n.zG)(t.cohorts,j.hX((r=>(0,n.zG)(r.groups,j.yW((i=>(0,n.zG)(o.ij(t.groups[i]),R.Yo((()=>`cohort [${r.code}] is missing group [${i}]`)),R.Vn((t=>e.error(`[advertiser] ${t}`))),R.UI((e=>e>0)),R.fS((()=>!0)))))))),j.UI((e=>{let{code:t}=e;return t})))}(e)),ni((e=>e),(e=>"dfp"===e.id?o.G((e=>e)):o.YP)),o.G),Ea=e=>t=>(0,n.zG)(t,o.DT(Ta),o.fS((()=>Ma())),(e=>R.Y3((()=>({userId:e.userId,inFlight:!1,lastSuccess:o.ij(e.lastSuccess),view:Ca(),ctx:(0,n.zG)(o.ij(e.lastSuccess),o.UI((e=>{let[t]=e;return t}))),eventual:ja()})),(e=>`failed to parse existing persistent state: ${e}`))),R.fS((t=>(e.logger.error("[advertiser]",t),qa(""))))),ka=e=>t=>(r,i)=>(0,n.zG)(r,a.VS((0,n.ls)(o.DT((e=>{let{userId:t}=e;return t===i.userId})),o.fS((()=>qa(i.userId))),(r=>{if(Da(r)===i.viewId)return e.logger.debug("[advertiser] view id is the same as previous, returning existing state",r),a.a9(r);if(r.inFlight)return e.logger.debug("[advertiser] in flight request",r),a.a9(r);{let s;e.logger.debug("[advertiser] fetching cohorts for view",r);const c=new Promise((e=>{s=e})),l=()=>c;return(0,n.zG)((0,we.gz)(ut.Hi)(i.customCohorts,i.standardCohorts),ut.tS((e=>{let[n,a]=e;return t([i.userId,o.FS(r.ctx),n,a])})),De.YO("response"),De.ak("cohorts",(t=>{let{response:r}=t;return(0,n.zG)(r.c,za,(0,m.bw)(R.EQ((t=>{e.logger.error(`[advertiser] failed to decode data from response. ${t}`)}),(t=>{e.logger.debug("[advertiser] decoded data from response",t)}))),ut.of)})),De.Hr("view",(e=>{let{response:t,cohorts:r}=e;return(0,n.bc)(t.ctx,r)})),a.fF,a.UI((0,n.ls)(o.EQ((function(){return{...r,inFlight:!0,eventual:(0,n.bc)((0,n.zG)(r.lastSuccess,o.UI((e=>{let[t,r]=e;return r})),o.fS((()=>Pa()))),l)}}),R.EQ((function(t){e.logger.error(`[advertiser] ${t}`);const a=(0,n.zG)(r.lastSuccess,o.UI((e=>{let[t,r]=e;return r})),o.fS((()=>Pa())));return s(a),{userId:i.userId,lastSuccess:r.lastSuccess,ctx:r.ctx,view:(0,n.bc)(i.viewId,o.YP),inFlight:!1,eventual:[a,l]}}),(function(e){let{response:t,view:r}=e;const[,a]=r;return s(a),(0,n.zG)({userId:i.userId,lastSuccess:o.G(r),view:(0,n.bc)(i.viewId,o.G(a)),ctx:o.G(t.ctx),inFlight:!1,eventual:(0,n.bc)(a,l)})}))))))}})))),Aa=e=>De.it((t=>e.permutiveApi.req({url:e.permutiveUrls.getAdvertiserEndpointUrl("/segment",o.G("v4")),method:"POST",payload:Ga(t),contentType:"text/plain",dataType:"json",withCredentials:!1})),(e=>`Failed to fetch advertiser cohorts: ${e}`)),Ga=e=>JSON.stringify(e),xa=e=>{const t=(0,n.zG)(e,j.YM,R.Yo((()=>"Expected a value, found empty array")),R.tS((e=>"string"==typeof e?R.F2(e):R.t$("Expected a cohort code, found "+typeof e)))),r=(0,n.zG)(e,j.Gb,o.fS((()=>[])),R.DT(Array.isArray,(()=>"Expected an array of groups [integer], found "+typeof e[1])));return(0,n.zG)(t,R.tS((e=>(0,n.zG)(r,R.UI((t=>({code:e,groups:t})))))))};function za(e){const[t,r]=e;return(0,n.zG)(t,j.fw(R.g1)(xa),R.UI((e=>({cohorts:e,groups:r}))))}const Ua=$.n_({cohorts:j.Eh($.n_({code:D.Eq,groups:j.Eh(X.Eq)})),groups:j.Eh(X.Eq)}),Pa=()=>({cohorts:[],groups:[]}),qa=e=>({inFlight:!1,userId:e,lastSuccess:o.YP,view:Ca(),ctx:o.YP,eventual:ja()}),Ca=()=>["",o.YP],Da=e=>e.view[0],Oa=$.n_({userId:(0,m.Or)(),lastSuccess:{equals:(e,t)=>e===t||!!e&&!!t&&$.bc(D.Eq,Ua).equals(e,t)}}),Ta=e=>"object"==typeof e&&null!==e&&"userId"in e&&"lastSuccess"in e&&(void 0===e.lastSuccess||Array.isArray(e.lastSuccess)&&2===e.lastSuccess.length&&"string"==typeof e.lastSuccess[0]&&null!==e.lastSuccess[1]&&"object"==typeof e.lastSuccess[1]),Ma=()=>({userId:""}),ja=()=>(0,n.bc)(Pa(),(()=>Promise.resolve(Pa()))),Ra=(e,t)=>{const r=(0,n.zG)(t,o.UI((e=>e.all)),o.fS((()=>$n(Rt.cS))),Mn,a.UI(o.Uo));return{_pcrdbs:a.a9(o.YP),_pcrprs:r}},La=function(e,t){return(0,n.zG)(t,i.KD([[e=>!e.consent,i.K4((()=>Cn(Pa())))],Ia(e,t)]),i.UI((0,n.ls)(a.xH,(r=>(0,we.gz)(Ln)(r,qn((0,n.zG)(t,a.UI((e=>{let{events:t}=e;return t})),(t=>{return(r=e.logger,e=>t=>(0,n.zG)(t,a.UI((t=>(0,n.zG)(R.Y3((()=>{const i=t().filter((t=>{let[,r]=t;return"SlotViewable"===r.name&&(0,n.zG)(o.ij(r.properties.line_item_id),o.UI((e=>e.toString())),o.UI((t=>e.has(t))),o.fS((()=>!1)))})).map((e=>{let[t,r]=e;return r.properties.line_item_id.toString()}));return i.forEach((e=>t=>e.debug("[advertiser] impression event for deal_id:",t))(r)),(e=>e.reduce(((e,t)=>({...e,[t]:1})),{}))(i)}),(e=>`Caught error when processing deal id impressions on events. Got ${e}`)),R.fS((e=>(r.error("[advertiser]",e),{})))))),a.Rp({},wa),a.D8(((e,t)=>$t(t))),a.D8(sr(X.Eq)),a.bw((e=>r.debug("[advertiser] impressions:",e)))))(new Set([]))(t);var r}))))),Dn((e=>{let[t,r]=e;return function(e,t,r){const i=(0,n.zG)(t.groups,j.Su(((i,a)=>{const s=(0,n.zG)((0,n.zG)(t.cohorts,j.hX((e=>{let{groups:t}=e;return t.includes(i)})),j.Lx(X.Pc)((t=>(0,n.zG)(o.ij(e[t.code]),o.fS((()=>[])),j.Lx(X.Pc)((e=>(0,n.zG)(o.ij(r[e]),o.fS((()=>0))))))))));return Math.max(0,a-s)})));return{cohorts:t.cohorts,groups:i}}({},t,r)})),Sa(e.logger))),i.bw((t=>{(0,n.zG)(t,o.UI(oi),o.fS((()=>a.a9([]))),(t=>(0,n.zG)(t,a.UI((t=>e.logger.debug("[advertiser] cohorts available for targeting:",t))))))})))};const Qa=(0,n.zG)(La,(e=>(t,r)=>(0,n.zG)(e(t,r),i.UI((e=>({cohorts:e,externalData:Ra(t.logger,e)})))))),Na=function(){return i.of(o.YP)};const Fa=i.K4((()=>{}));const Ya=e=>t=>(0,n.zG)(e,qe.UI((e=>t.reduce(((t,r)=>t+Number(e.has(r))),0))));const Ba=function(e,t){return i.K4((()=>({signalRef:a.a9(o.YP)})))};const $a=e=>t=>i.dQ((r=>{const i=Ha(e.performance),s=(0,n.zG)(r.previousState,o.DT((e=>"string"==typeof e))),c={key:(0,n.zG)(s,o.fS((()=>e.sessionId.current))),reporting:!1},l=(0,n.zG)(e.sessionId,a.Rp(a.a9(c),((r,s)=>(0,n.zG)(r,a.VS((r=>{if(r.reporting)return a.a9(r);if(r.key===s)return a.a9(r);return(0,n.zG)(t,ut.gw(3e4),ut.tS((e=>i(50,(()=>function*(e,t){const r=Date.now(),i={},a=20;let o=0;for(const n of e){if(n.session_id===t)continue;o++,i[n.name]??={age_ms:0,count:0,eventName:n.name,size_bytes:0};const e=i[n.name].age_ms,s=r-n.time.getTime();s>e&&(i[n.name].age_ms=s),i[n.name].size_bytes+=2*JSON.stringify(n).length,i[n.name].count+=1,o%a==0&&(yield)}const s=Object.values(i);if(0===s.length)return[];const c=(0,n.zG)(s,Rt.u4({size_bytes:0,count:0,age_ms:0},((e,t)=>({size_bytes:e.size_bytes+t.size_bytes,count:e.count+t.count,age_ms:Math.max(e.age_ms,t.age_ms)}))),(e=>({...e,eventName:"*"})));return(0,n.zG)([...s,c],Rt.UI((e=>({...e,used_size_bytes:c.size_bytes}))))}(e,s))))),ut.UI((t=>(t.forEach((t=>{e.metrics.track({name:"sdk_event_cache_age_seconds",labels:{event_count:t.count,event_name:t.eventName,size_bytes:t.size_bytes,used_size_bytes:t.used_size_bytes},value:Math.ceil(t.age_ms/1e3)})})),{key:s,reporting:!1}))),a.fF,a.UI(o.fS((()=>({...r,reporting:!0})))))}))))),a.xH);return{value:void 0,state:a.UI((e=>e.key),l)}})),Xa=()=>i.dQ((e=>{let{previousState:t}=e;return{value:void 0,state:a.a9(t)}}));const Ha=e=>(t,r)=>async()=>{let n=e.now();const i=r();for(;;){e.now()-n>t&&(await new Promise((e=>setTimeout(e))),n=e.now());const r=i.next();if(r.done)return r.value}},Va=e=>t=>{const{consent:r,currentTimestampSecs:c,identities:l,sessionId:u,userId:p,viewId:_,pageviewState:g}=t;return(0,n.zG)(i.K4((()=>{let r;const i=new Promise((e=>{r=e})),[s,c]=a.Ue(a.a9(o.YP));return{...t,adServers:[da(e.optimisedActivationsConfig.dfp),{id:"dfp_contextual",filterCohorts:n.yR},ma(e.optimisedActivationsConfig.appnexus_adserver),{id:"xandr_ssp_contextual",filterCohorts:n.yR}],nonQlCohortsT:()=>i,setNonQlCohorts:r,setTpdUsage:c,tpdUsage:a.xH(s)}})),i.ak("geoip",(()=>(e=>(0,n.zG)(e,Wi,i.YO("data"),i.Hr("replacementMap",(e=>{let{data:t}=e;return(0,n.zG)(t,a.UI(o.UI((e=>({$ip_geo_info:e.geo_info,$ip_geo_info_continent:e.geo_info?.continent,$ip_isp_info:e.isp_info,$ip_address:e.ip,$ip_address_hash:e.ip_hash})))))})),i.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,n.zG)(t,a.UI(o.EQ((()=>({})),(e=>({isp:e.isp_info?.isp,organization:e.isp_info?.organization,autonomous_system_number:e.isp_info?.autonomous_system_number,autonomous_system_organization:e.isp_info?.autonomous_system_organization,continent:e.geo_info?.continent,country:e.geo_info?.country,city:e.geo_info?.city,province:e.geo_info?.province,postal_code:e.geo_info?.postal_code})))))}))))({...e,sessionId:u}))),i.Hr("watson",(t=>{let{webClient:r}=t;return(0,n.zG)(e.watson,o.fS((()=>(0,n.zG)(r,a.UI(o.UI((e=>e.url))),a.D8(o.Eh(D.Eq)),(t=>(0,ea.watson)({...e,pageUrl:t,watsonEnabled:(0,n.zG)(g,a.UI((e=>e.watsonEnabled)))}))))))})),i.ak("audienceMatching",(t=>{let{tpdUsage:r}=t;return Ki(e,{identities:l,sessionId:u,tpdUsage:r,userId:p,viewId:_})})),i.UI((e=>{let{audienceMatching:{analyticsEvents:t,...r},newEvents:i,...o}=e;return{...o,audienceMatching:r,newEvents:(0,n.zG)(a.vP(i,t),a.UI(f.RD),a.UI(f.UI(Rt.xH)))}})),i.UI((e=>{const[t,r,i]=a.Ue(o.bM()),[s,c]=(0,n.zG)(e.newEvents,a.En(2,Rt.uZ())),l=(0,n.zG)(a.vP(s,t),a.UI((e=>{let[t,r]=e;return(0,n.zG)(r,o.UI((e=>(0,n.zG)(t,f.UI(Rt.UI((0,m.bw)((t=>{let[,r]=t;return e(r)}))))))),o.fS((()=>f.of(Rt.bM()))))})));return{...e,newEvents:l,newEventsForAdvertiserSegmentation:c,collectTargetingSuccessMetrics:e=>{r(o.G(e)),i()}}})),i.ak("enrichedEvents",(t=>{let{enrichmentReplacementMap:r,geoip:c,newEvents:l,watson:u}=t;return(0,n.zG)(a.vP({misc:r,geoip:c.replacementMap,watson:u.replacementMap}),a.UI((0,we.Yt)(o.G5)),a.UI(o.UI((e=>{let{misc:t,geoip:r,watson:n}=e;return{...t,...r,...n}}))),(t=>i.K4((()=>((e,t,r,i)=>((0,n.zG)(t,a.UI(o.pC),a.YP((t=>{t&&e.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"event_enrichment_ready",time_origin:"sdk_init"})}))),(0,n.zG)(r,a.VS((()=>(0,n.zG)(a.vP((0,n.zG)(t,a.UI(o.UI(Zi({dropUnenriched:!0})))),i),a.UI((0,n.ls)((e=>{let[t,r]=e;return()=>(0,n.zG)(t,o.EQ((()=>[]),(e=>(0,n.zG)(r(),Rt.UI((0,s.H5)((0,m.rO)({properties:e})))))))})))))))))(e.metrics,t,p,l)))))})),i.UI((0,m.rO)({enrichedEvents:(0,wn.F)(e.metrics,"pageview_enriched")})),i.ak("lookalikeModels",(()=>(0,n.zG)(e.lookalikeModels,o.EQ((()=>(0,Ii.lookalikeModelsService)({...e,consent:r,currentTimestampSecs:c})),i.of)))),i.ak("userGroupCohorts",(()=>Na(e,a.vP({currentTimestampSecs:c,userId:p})))),i.ak("queryLanguage",(r=>{let{audienceMatching:o,nonQlCohortsT:s,enrichedEvents:c,lookalikeModels:l,setTpdUsage:u,userIdIsNewlyGenerated:f,userGroupCohorts:d}=r;return(0,n.zG)((m={...e,...t,newEvents:c,thirdPartyData:o.data,groupId:p,groupIdIsNewlyGenerated:f,nonQlCohorts:s,lookalikeModels:l,migratedStateMaps:e.migratedStateMaps,userGroupCohorts:d},(0,n.zG)(a.vP(m.eventSourceId,m.groupId,m.groupIdIsNewlyGenerated),a.D8((0,n.zG)(D.Eq,$.Uz((e=>{let[t]=e;return t})))),i.kR((e=>{let[t,r,a]=e;return(0,n.zG)(wi({...m,eventSourceId:t,groupId:r,groupIdIsNewlyGenerated:a,migratedStateMaps:m.migratedStateMaps}),i.yi(t))})),i.UI((e=>({stateMigratedThisInitialisation:(0,n.zG)(e,a.VS((e=>e.segmentationService.stateMigratedThisInitialisation))),cohorts:(0,n.zG)(e,a.VS((e=>e.cohortsRef))),currentPageviewSegments:{all:(0,n.zG)(e,a.VS((e=>e.currentPageviewSegments)),Dn((e=>e.all))),custom:(0,n.zG)(e,a.VS((e=>e.currentPageviewSegments)),Dn((e=>e.custom))),standard:(0,n.zG)(e,a.VS((e=>e.currentPageviewSegments)),Dn((e=>e.standard)))},eventsToPublish:(0,n.zG)(e,a.VS((e=>e.eventsToPublish))),eventsToPublishOnPageUnload:(0,n.zG)(e,a.VS((e=>e.eventsToPublishOnPageUnload))),realtime:(0,n.zG)(e,a.VS((e=>e.realtime)),a.Rp(!1,((e,t)=>e||t)),a.bw((e=>{e&&m.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_realtime",time_origin:"sdk_init"},performance.now())}))),segments:{all:(0,n.zG)(e,a.VS((e=>Mn(e.segmentationService.segments))),a.UI((e=>e.all))),custom:(0,n.zG)(e,a.VS((e=>Mn(e.segmentationService.segments))),a.UI((e=>e.custom))),standard:(0,n.zG)(e,a.VS((e=>Mn(e.segmentationService.segments))),a.UI((e=>e.standard)))},thirdPartyDataUsage:(0,n.zG)(e,a.VS((e=>e.segmentationService.tpdUsage))),transitionsSinceInit:(0,n.zG)(e,a.VS((e=>e.segmentTransitions.transitionsSinceInit)))}))))),i.bw((e=>{let{thirdPartyDataUsage:t}=e;return u(t)})));var m})),i.ak("classificationModels",(t=>{let{queryLanguage:n}=t;return Ei(e,a.vP({consent:r,currentTimestampSecs:c,queryLanguageCohorts:jn(n.currentPageviewSegments.all),realtime:n.realtime,userId:p}))})),i.ak("advertiserSegmentation",(t=>{let{queryLanguage:n,newEventsForAdvertiserSegmentation:i}=t;return Qa(e,a.vP({consent:r,customCohorts:jn(n.currentPageviewSegments.custom),realtime:n.realtime,sessionId:u,standardCohorts:jn(n.currentPageviewSegments.standard),userId:p,viewId:_,events:i}))})),i.ak("demandPartnersAndCuration",(r=>{let{queryLanguage:s,advertiserSegmentation:c}=r;const l=ei(Rt.jG()),u=(0,n.zG)(c.cohorts,o.UI((e=>e.all)),o.fS((()=>$n(Rt.cS)))),p=(0,n.zG)(s.currentPageviewSegments.all,Kn);return(0,n.zG)(i.vP({demandPartners:oa(e,{cohorts:p,consent:t.consent,url:(0,n.zG)(t.webClient,a.UI(o.UI((e=>e.url))))}),curation:fa(e,{activationConfigs:e.optimisedActivationsConfig.curation_platforms,cohorts:l.concat(u,p)})}),i.UI((e=>{let{demandPartners:t,curation:r}=e;return ca(t,r)})))})),i.ak("ipIdentifier",(e=>{let{userId:t,geoip:r}=e;return(0,n.zG)(r.data,a.UI(o.tS(o.KQ((e=>e.ip))))),Fa})),i.ak("secureSignal",(t=>{let{advertiserSegmentation:r,demandPartnersAndCuration:o}=t;return(0,n.zG)(Ba(e,(0,n.zG)(p,a.UI((e=>({userId:e,advertiserCohorts:r.cohorts,stdAudienceCohorts:o.ssp}))))),i.UI((e=>{let{signalRef:t}=e;return t})))})),i.Hr("nonQlCohorts",(e=>{let{advertiserSegmentation:t,classificationModels:r,contextualCohorts:i,userGroupCohorts:a,setNonQlCohorts:o,demandPartnersAndCuration:s,viewId:c}=e;return(0,n.zG)(qe.oA({advertiser:t.cohorts,userGroup:a,classificationModel:r,contextual:ha({contextualCohorts:i,viewId:c}),ssp:s.ssp}),(0,m.bw)(o))})),i.Hr("qlCohorts",(e=>{let{queryLanguage:t}=e;return(0,n.zG)(t.segments.all,a.UI(Rt.UI(String)))})),i.bw((t=>{return t.collectTargetingSuccessMetrics(_a({adServers:t.adServers,cohorts:{...t.nonQlCohorts,query_language:(r=t.qlCohorts,(0,n.zG)(r,qn,ii))},logger:e.logger,metrics:e.metrics}));var r})),(0,n.ls)(i.Hr("eventsToPublish",(t=>{let{qlCohorts:r,queryLanguage:i,nonQlCohorts:o}=t;const s=(e=>{if(!e.metrics.isEnabled())return e=>{};const t=(0,n.zG)(e.cohortsByType,qe.UI(a.Rp(new Set,((e,t)=>new Set([...e,...t])))),(e=>a.vP(e)));return r=>{"Pageview"===r.name&&(0,d.HJ)((()=>(0,n.zG)(r.cohorts,Ya(t.current),qe.Su(((t,r)=>e.metrics.track({name:"sdk_pageview_cohort_count",labels:{cohort_type:t},value:r}))))))}})({cohortsByType:(0,n.zG)(o,qe.UI(oi),qe.dx("query_language",r)),metrics:e.metrics});return(0,n.zG)(i.eventsToPublish,a.UI(f.UI(Rt.UI((0,m.bw)((e=>{let[,t]=e;return s(t)}))))))})),i.ak("eventsCacheReports",(()=>(0,n.zG)(e.eventsCache,R.EQ((()=>ut.of(Rt.cS)),(e=>()=>e.all())),(e=>{if(e.metrics.isEnabled()&&o.pC(e.performance)){const t=e.performance.value;return $a({...e,performance:t})}return Xa})({metrics:e.metrics,sessionId:t.sessionId,performance:e.performance})))),i.UI((e=>{let{adServers:t,advertiserSegmentation:r,demandPartnersAndCuration:i,eventsToPublish:o,geoip:s,queryLanguage:c,nonQlCohorts:l,watson:u,secureSignal:p}=e;return{activations:(0,n.zG)(t,Rt.UI((e=>(0,n.zG)(Object.values(l),Rt.UI(ai),Rt.DZ((t=>t.byAdServer(e))),Rt.UI(Mn),Rt.UI(a.D8(Rt.Eh(D.Eq))),(e=>a.vP(...e)),a.UI(Rt.xH),a.UI((t=>(0,n.bc)(e.id,t)))))),(e=>a.vP(...e)),a.UI(qe.sq)),cohorts:{all:c.cohorts,ql:c.segments.all,qlCustom:c.segments.custom,qlStandard:c.segments.standard},context:(0,n.zG)(a.vP(u.permutiveContext,s.permutiveContext),a.UI((e=>{let[t,r]=e;return{...t,...r}}))),eventsToPublish:o,eventsToPublishOnPageUnload:c.eventsToPublishOnPageUnload,externalData:a.vP({...r.externalData,...i.externalData}),geoIP:s.data,realtime:c.realtime,stateMigratedThisInitialisation:c.stateMigratedThisInitialisation,transitionsSinceInit:c.transitionsSinceInit,secureSignal:p}}))))}},659:(e,t,r)=>{r.d(t,{BJ:()=>p,El:()=>P,G6:()=>y,HD:()=>u,HP:()=>k,Kn:()=>l,Or:()=>S,PQ:()=>w,SL:()=>d,aT:()=>g,b0:()=>h,b2:()=>m,bw:()=>x,cO:()=>I,k$:()=>v,lo:()=>z,mQ:()=>A,rO:()=>G,vg:()=>E,vp:()=>f});var n=r(340),i=r(169),a=r(507),o=r(327),s=r(229),c=r(143);const l=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,u=e=>"string"==typeof e,p=e=>"number"==typeof e&&!Number.isNaN(e);function f(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function d(e){return t=>{let r=0;for(let n of t){r=r+e(n)|0}return r}}o.ff(s.xb);function m(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}let _=[];function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(_.unshift(e),_.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=_;_=[],e.forEach((e=>{try{e()}catch{}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&b(t);i(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function v(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function h(e,t){const r=Object.keys(e),n=r.length,i={};for(let o=0;o<n;o++){const n=r[o],s=t(n,e[n]);(0,a.pC)(s)&&(i[n]=s.value)}return i}function b(e){return/Mobi|Android/i.test(e)}function y(e){return/^((?!chrome|android).)*safari/i.test(e)}function w(e,t){return new Promise((r=>{(0,c.HJ)((()=>{Promise.resolve(e()).then(r)}),t?.timeout??0)}))}function I(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}const S=()=>({equals:(e,t)=>Object.is(e,t)});function E(e){return t=>null!=t&&e in t?t[e]:void 0}function k(e){let t=a.YP;const r=(0,a.fS)((()=>{const r=e();return t=(0,a.G)(r),r}));return()=>r(t)}const A=e=>{const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},G=e=>t=>{const r={...t};for(const n in e)r[n]=e[n]?.(t[n]);return r};function x(e){return t=>(e(t),t)}const z=e=>t=>{const r=e.slice(0,-1),o=e.slice(-1)[0];return(0,i.zG)(r,n.f2((e=>{let[r,n]=e;return(0,i.zG)(t,a.DT(r),a.UI(n))})),a.fS((()=>o(t))))},U=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}};U(parseInt),U(parseFloat);function P(e){return"object"==typeof e&&null!==e&&"_tag"in e&&["None","Some"].includes(e._tag)}},385:(e,t,r)=>{r.r(t),r.d(t,{lookalikeModelsService:()=>y,realService:()=>I,stubService:()=>w});var n=r(169),i=r(507);const a=(e,t,r,n)=>t+(r-t)*n/(Math.pow(2,e)-1),o=(e,t)=>{const r=(e,t)=>{const r=e.toString(16);return("0".repeat(t)+r).slice(Math.min(-t,-r.length))};return`${r(e.getUint32(t),8)}-${r(e.getUint16(t+4),4)}-${r(e.getUint16(t+6),4)}-${r(e.getUint16(t+8),4)}-${r(e.getUint32(t+10),8)}${r(e.getUint16(t+14),4)}`},s=e=>{const t=[1,2],r=e.getInt8(0);if(1===r)return c(e);if(2===r)return l(e);{const n=(0,i.Y3)((()=>o(e,1))),a=(0,i.g_)((()=>"Couldn\'t decode model id"),(e=>`Model id was ${e}`))(n);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${r}; ${a}`)}},c=e=>u(e,1),l=e=>u(e,2),u=(e,t)=>{const r=o(e,1),n=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),i=e.getInt8(18),a=e.getFloat32(19),s=e.getFloat32(23),[c,l]=((e,t,r,n,i,a)=>{const o={};let s=0;do{let r;1===a?(s=e.getUint16(t),r=e.getUint16(t+2),t+=4):(s=e.getUint32(t),r=e.getUint16(t+4),t+=6),o[0===s?"const":s]=r.toString(36)}while(0!==s);return[o,t]})(e,27,0,0,0,t);return[{version:t,id:r,data_preference:n,weights:c,precision:i,min:a,max:s},l]};var p=r(6),f=r(46),d=r(143),m=r(479),_=r(52),g=r(144),v=r(905),h=r(659);const b=()=>i.G({}),y=I;function w(e){return m.K4((()=>_.a9(b())))}function I(e){e.logger.warn("add cleanup of legacy LAL cache");const t=e.trace.startSpan("lookalike_models_data_retrieval_duration");return(0,n.zG)(v.m((0,n.zG)(_.vP(e.consent,e.currentTimestampSecs),_.UI((t=>{let[r,o]=t;return{currentTimestampSecs:o,validity:{maxAge:604800,key:()=>"_"},freshness:{maxAge:86400,key:()=>"_"},refresh:(0,n.zG)(r,i.DT(Boolean),i.UI((()=>()=>p.fF(function(e){const t="Failed fetching binary models, reverting to JSON.\\nError: ",r="Failed fetching json models.\\nError: ";return(0,n.zG)(p.Y3((()=>E(e)),(e=>e.message)),d.N1,p.oU((e=>()=>function(e){const t=[];let r=0;for(;r<e.byteLength;){const[n,i]=s(new DataView(e,r));t.push(n),r+=i}return t}(e))),d.N1,p.UI(S((e=>{let{precision:t,max:r,min:n}=e;return{"1p":{},precision:t,min:n,max:r}}))),p.Vn((r=>(e.logger.log(t+r),e.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),r))),p.wp((()=>(0,n.zG)(p.Y3((()=>k(e)),(e=>e.message)),p.UI((e=>e.models)),p.UI(S((()=>({"1p":{}}))))))),p.UI((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},r=Object.keys(e),n=e=>{const t={"1p":{}},{precision:r,min:n,max:i}=e,o=e["1p"],s=Object.keys(o);for(let e=0;e<s.length;e++){const c=s[e],l=parseInt(o[c],36);t["1p"][c]=a(r,n,i,l)}return t};for(let i=0;i<r.length;i++){const a=r[i],o=e[a];t[a]=n(o)}return t})(e):e)),p.fS((t=>(e.reportError(r+t),f.of({})))))}(e)))))}})))),m.UI(_.UI((0,n.ls)(g.fS((t=>(e.logger.warn("[LAL]",`Failed to refresh, using zero value. ${t}`),b()))),(0,h.bw)(i.UI((()=>{t.finish(),e.metrics.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"lookalike_models_ready",time_origin:"sdk_init"})})))))))}function S(e){return t=>{const r={};for(let n=0;n<t.length;n++){const i=t[n],{id:a,weights:o}=i;if(void 0===a||void 0===o)continue;const s=e(i);Object.keys(o).forEach((e=>{s["1p"][e]=o[e]})),r[a]=s}return r}}const E=e=>{const{permutiveApi:t,config:r,metrics:n}=e,i=n.startTimer("sdk_http_models_seconds",{});return t.req({url:A(r.cdnProtocol,r.cdnBaseUrl,"binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_models_seconds",i),e)))},k=e=>{const{permutiveApi:t,config:r,metrics:n}=e,i=n.startTimer("sdk_http_models_seconds",{});return t.req({url:A(r.cdnProtocol,r.cdnBaseUrl,"json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_models_seconds",i),e)))};function A(e,t,r){const n=`${e}://${t}`;switch(r){case"binary":return`${n}/models/v2/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-models.bin`;case"json":return`${n}/models/5dc35e4e-c442-405b-bf5f-5c2b8824b0cf-models.json`}}},623:(e,t,r)=>{r.d(t,{K:()=>x,O:()=>A});let n,i;const a=new WeakMap,o=new WeakMap,s=new WeakMap,c=new WeakMap,l=new WeakMap;let u={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return o.get(e);if("objectStoreNames"===t)return e.objectStoreNames||s.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(m(this),r),d(a.get(this))}:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(e.apply(m(this),r))}:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const a=e.call(m(this),t,...n);return s.set(a,t.sort?t.sort():[t]),d(a)}}function f(e){return"function"==typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(o.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));o.set(e,t)}(e),t=e,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,u):e);var t}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(d(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),l.set(t,e)),t}const m=e=>l.get(e);const _=["get","getKey","getAll","getAllKeys","count"],g=["put","add","delete","clear"],v=new Map;function h(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(v.get(t))return v.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=g.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!_.includes(r))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];return n&&(a=a.index(s.shift())),(await Promise.all([a[r](...s),i&&t.done]))[0]};return v.set(t,a),a}u=(e=>({...e,get:(t,r,n)=>h(t,r)||e.get(t,r,n),has:(t,r)=>!!h(t,r)||e.has(t,r)}))(u);var b=r(654),y=r(144),w=r(169),I=r(46),S=r(6),E=r(659),k=r(143);const A="[IDB]",G=(e,t,r,n,i,a)=>(0,w.zG)((0,I.of)(e.getNamespacedStorageKey(i)),(0,I.tS)((e=>(0,S.Y3)((async()=>r.put(n,a,e)),b.w))),(0,I.UI)((0,y.g_)((e=>{throw t.error(A,`Failed to store crypto key to ${n} due to unexpected error,\\n`,e),e}),(()=>a))),(e=>e()));class x{namespace;logger;cryptoAlg;idb;mainObjectStore;keyObjectStore;keyObjectKey;cryptoKey;MAX_CONSECUTIVE_PUTS=30;puts=1;hasForcedCompaction=!1;constructor(e,t,r,n,i,a,o,s){this.namespace=e,this.logger=t,this.cryptoAlg=r,this.idb=n,this.mainObjectStore=i,this.keyObjectStore=a,this.keyObjectKey=o,this.cryptoKey=s,this.logDebug("Created",this.idb)}static initialise(e,t,r,n,i,a,o,s,c,l){const u=(0,E.G6)(navigator.userAgent)&&!1,p=[l,n.isAvailable(),!u].every((e=>!0===e)),f=async(t,i,a)=>(0,w.zG)(await t.get(a,e.getNamespacedStorageKey(i)),(async e=>e??n.generateKey(!1)),(async n=>G(e,r,t,o,s,await n))).catch((e=>{const t=(0,b.w)(e);throw r.error(A,"Get crypto key failed. Got\\n",t),t})),d=(e,t,r)=>t.includes(r)?(0,w.Q1)():e.createObjectStore(r),m=()=>z(i,c,{upgrade:e=>{const t=[...e.objectStoreNames];d(e,t,a),d(e,t,o)}}).then((e=>{const t=[...e.objectStoreNames];return t.includes(a)&&t.includes(o)?e:Promise.reject(new Error("Object store(s) missing."))})),_=p?(0,y.Y3)((()=>function(e){if(!(0,E.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t=()=>{},r=0;return new Promise((e=>{const n=()=>(r++,indexedDB.databases().finally((0,k.GL)(e)));t=(0,k.UM)(n,100),n()})).finally((()=>{t(),e.track({name:"sdk_idb_conn_attempt_safari_count",value:r,labels:{}})}))}(t).then((()=>m())).catch((e=>(r.error(`Re-creating IDB database ${i} due to error`,e),U(i).then((()=>m())))))),String):(0,y.t$)("Connection not attempted. Default to localStorage");return(0,y.g_)((e=>(0,S.t$)(e)),(t=>(0,w.zG)((0,S.Y3)((()=>t.then((async e=>({db:e,cryptoKey:await f(e,s,o)})))),String),(0,S.UI)((t=>{let{db:i,cryptoKey:c}=t;return new x(e,r,n,i,a,o,s,c)})))))(_)}async put(e,t){return(0,w.zG)((async()=>(0,w.bc)(JSON.stringify(e),this.cryptoKey)),(0,I.tS)((e=>{let[t,r]=e;return(0,I.of)(this.cryptoAlg.encrypt(r,t))})),(0,I.tS)((e=>async()=>(await this.recreateIfNecessary(this.puts++),e))),(0,I.tS)((e=>(0,S.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),b.w))),(0,I.UI)((0,y.g_)((r=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \\n",r),"QuotaExceededError"===r.name&&this.forceCompaction(),r}),(()=>t))),(e=>e()))}get(e){return(0,w.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((async e=>e?JSON.parse(await this.cryptoAlg.decrypt(this.cryptoKey,e)):null)).catch((t=>{const r=(0,b.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,r),r}))))}delete(e){return(0,w.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),U(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return z(e).then((t=>(t.close(),U(e))))}recreateIfNecessary(e){return(0,E.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.recreate():Promise.resolve()}async recreate(){const e=this.idb.name,t=this.idb.version,r=await this.idb.getAllKeys(this.mainObjectStore),n=[];for(const e of r)n.push([e,await this.idb.get(this.mainObjectStore,e)]);await this.deleteStore(),this.idb=await z(e,t,{upgrade:e=>{e.createObjectStore(this.mainObjectStore),e.createObjectStore(this.keyObjectStore)}}),await Promise.all(n.map((e=>{let[t,r]=e;return this.idb.put(this.mainObjectStore,r,t)}))),await G(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(A,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(A,...t)}}const z=(0,w.ls)((function(e,t){let{blocked:r,upgrade:n,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=d(o);return n&&o.addEventListener("upgradeneeded",(e=>{n(d(o.result),e.oldVersion,e.newVersion,d(o.transaction))})),r&&o.addEventListener("blocked",(()=>r())),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}),k.t_,(e=>e.then((e=>({close:e.close.bind(e),createObjectStore:(0,w.ls)(e.createObjectStore.bind(e),w.Q1),delete:(0,w.ls)(e.delete.bind(e),k.t_),get:(0,w.ls)(e.get.bind(e),k.t_),getAllKeys:(0,w.ls)(e.getAllKeys.bind(e),k.t_),get name(){return e.name},get objectStoreNames(){return e.objectStoreNames},put:(0,w.ls)(e.put.bind(e),k.t_),get version(){return e.version}}))))),U=(0,w.ls)((function(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),d(r).then((()=>{}))}),k.t_)},897:(e,t,r)=>{r.r(t),r.d(t,{make:()=>o});var n=r(169),i=r(623);const a=e=>{const{logger:t,consent:r,prefix:n}=e,i=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{put=(()=>{return e=super.put.bind(this),t=i,n=()=>!r.current,function(){return(n()?t:e)(...arguments)};var e,t,n})()}},o=(e,t,r,o,s,c,l,u,p,f,d)=>(0,n.zG)(i.K,a({logger:p,consent:f,prefix:i.O})).initialise(e,t,p,r,o,s,c,l,u,d)},630:(e,t,r)=>{r.r(t),r.d(t,{watson:()=>u});var n=r(52),i=r(169),a=r(507),o=r(144),s=r(812),c=r(229),l=r(644);const u=e=>(0,i.zG)(f(e),n.YO("data"),n.Hr("replacementMap",(e=>{let{data:t}=e;return(0,i.zG)(t,a.YO("data"),a.Hr("taxonomyLabels",(e=>{let{data:t}=e;return function(e){const t=e=>{const t=e.split("/").filter((e=>e));return t.map(((e,r)=>"/"+t.slice(0,r+1).join("/")))},r=s.xH(e.filter(Boolean).map((e=>t(e.label))));return s.jj(c.Eq)(r)}(t.taxonomy??[])})),a.UI((e=>{let{data:t,taxonomyLabels:r}=e;return{$alchemy_concepts:t.concepts??[],$alchemy_document_emotion:t.emotion?.document?.emotion??null,$alchemy_document_sentiment:t.sentiment?.document??null,$alchemy_entities:t.entities??[],$alchemy_entity_names:(0,i.zG)(t.entities??[],s.UI((e=>e.text))),$alchemy_keywords:t.keywords??[],$alchemy_taxonomy:t.taxonomy??[],$alchemy_taxonomy_labels:r,$taxonomy_labels:r}})))})),n.Hr("permutiveContext",(e=>{let{data:t}=e;return(0,i.zG)(t,a.EQ((()=>({})),(e=>({watson:e}))))})),(e=>({permutiveContext:(0,i.zG)(e,n.UI((e=>e.permutiveContext))),replacementMap:(0,i.zG)(e,n.UI((e=>e.replacementMap)))}))),p=()=>n.a9(a.G({})),f=e=>(0,i.zG)(n.vP(e.watsonEnabled,e.pageUrl),n.UI((0,i.ls)(a.DT(l.li),a.tS(l.Yg))),n.UI(a.UI((0,i.ls)(d(e.permutiveApi,e.metrics,e.config,e.permutiveUrls,e.trace),n.p4,n.UI(a.UI(o.fS((()=>({})))))))),n.VS(a.fS(p))),d=(e,t,r,n,i)=>o=>{const s=t.startTimer("sdk_http_watson_seconds",{}),c=i.startSpan("watson_data_retrieval");return e.req({url:n.getEndpointUrl("/watson",a.G(r.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:o,classify:!0}}).then((e=>(t.stopTimer("sdk_http_watson_seconds",s),t.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"watson_data_ready",time_origin:"sdk_init"},performance.now()),c.finish(),e)))}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(143),t=__webpack_require__(52),r=__webpack_require__(169),n=__webpack_require__(479),i=__webpack_require__(507),a=__webpack_require__(812),o=__webpack_require__(659),s=__webpack_require__(6);function c(e,n){return(0,r.zG)(s.Y3((()=>e.get(n)),(e=>`Failed to read previous state from IndexedDB: ${e}.`)),s.UI((e=>e??void 0)),s.UI((i=>a=>(0,r.ls)((0,o.rO)({previousState:()=>i}),a,(a=>{let{value:s,state:c}=a;const[l,u]=t.Ue(!1),p=(0,r.zG)(c,t.Rp(-1,(e=>e+1)));return{value:(0,r.bc)(l,s),state:(0,r.zG)(t.vP(c,p),(0,o.bw)(t.YP((t=>{let[r,a]=t;if(0!==a||r!==i)switch(u(!1),typeof r){case"undefined":e.delete(n).then((()=>u(!0)));break;case"object":null===r?e.delete(n).then((()=>u(!0))):e.put(r,n).then((()=>u(!0)));break;default:e.put(r,n).then((()=>u(!0)))}}))))}})))))}function l(e){return n=>(0,r.ls)((0,o.rO)({previousState:t=>e.current?t:void 0}),n,(0,o.rO)({state:(0,r.ls)((r=>t.vP(e,r)),t.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}var u=__webpack_require__(144);class p extends Error{static errorName="NetworkRequestFailedError";name=(()=>p.errorName)();constructor(){super(p.defaultMessage)}static get defaultMessage(){return"Network request failed"}}class f extends Error{static errorName="NetworkRequestTimeoutError";name=(()=>f.errorName)();constructor(){super(f.defaultMessage)}static get defaultMessage(){return"Network request timed out"}}var d=__webpack_require__(614),m=function(e){return"Left"===e._tag},_=function(e){return"Right"===e._tag};function g(e){return{_tag:"Left",left:e}}function v(e){return{_tag:"Right",right:e}}function h(e,t){return{_tag:"Both",left:e,right:t}}var b=function(e,t,r){return function(n){switch(n._tag){case"Left":return e(n.left);case"Right":return t(n.right);case"Both":return r(n.left,n.right)}}},y=b;y(v,g,(function(e,t){return h(t,e)}));var w=v,I="These";r.yR,r.yR,d.Xl;class S{metrics;logger;constructor(e,t){this.metrics=t,this.logger=e.withPrefix("network")}req(e){return this.logger.withPrefix("request").debug(e.method,e.url,..."POST"===e.method?[{payload:e.payload}]:[]),this.reqImpl(e).then((e=>(0,r.MZ)(e))).then((t=>(this.logger.withPrefix("response").debug(e.method,e.url,{response:t}),t)),(t=>{throw this.logger.withPrefix("response").error(e.method,e.url,t),t}))}reqWithBeacon(e){let{url:t,payload:r}=e;const n=JSON.stringify(r),i=navigator?.sendBeacon?.(t,JSON.stringify(r))??!1;return this.trackRequestMetrics({is_beacon:!0,is_error:!i,request:{method:"POST",url:t,content_length:n.length}}),i}reqImpl(t){const n="arraybuffer",{url:a,dataType:s,contentType:c,method:l,withCredentials:m,timeout:_}=t;return new Promise(((g,b)=>{const y=new XMLHttpRequest,w="POST"===t.method?"string"==typeof(I=t.payload)?I:JSON.stringify(I):null;var I;const S=e=>this.trackRequestMetrics({is_beacon:!1,request:{method:l,url:a,content_length:w?.length??0},response:e});y.onload=(0,e.GL)((()=>{return(0,r.zG)(y.status,u.DT((e=>e<400),(()=>{const e="text"===y.responseType||""===y.responseType?y.responseText:"Couldn\'t access response text";return`Failed ajax request. Status code was ${y.status}. ${e}`})),u.tS((()=>"json"===s?y.responseText?u.Y3((()=>JSON.parse(y.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(y.responseText)}. Got ${e}`)):u.F2(null):"text"===s?u.F2(y.responseText):u.F2(y.response))),(0,o.bw)((0,r.ls)(i.IS,(e={content_length:"text"===y.responseType||""===y.responseType?y.responseText?.length??0:y.responseType===n?y.response.byteLength:0,response_time_ms:self.performance.now()-E,status_code:y.status},function(t){return d.Wi(t)?v(e):h(t.value,e)}),S)),u.EQ(b,g));var e})),y.onerror=(0,e.GL)((()=>{S(u.t$("network error")),b(new p)})),y.ontimeout=(0,e.GL)((()=>{S(u.t$("timeout")),b(new f)})),y.open(l,a,!0),c&&y.setRequestHeader("content-type",c),y.timeout=_||y.timeout,y.withCredentials=m||y.withCredentials,y.responseType="binary"===s?n:y.responseType;const E=self.performance.now();y.send(w)}))}trackRequestMetrics(e){if(!this.metrics?.isEnabled())return;const t=new URL(e.request.url).pathname;if(t.includes("metrics"))return;const n=r=>this.metrics.track({name:"sdk_http_request_count_total",value:1,labels:{request_method:e.request.method,request_path:t,request_content_length:e.request.content_length,...r}});var a;!0===e.is_beacon?n({is_beacon:!0,is_error:e.is_error}):(0,r.zG)((a=e.response,m(a)?d.YP:(_(a),d.G(a.right))),i.aD((()=>({})),(e=>({response_content_length:e.content_length,response_status:e.status_code,response_time_ms:e.response_time_ms}))),(t=>({is_beacon:!1,is_error:!_(e.response),...t})),n)}}class E{config;PATH_JOINER_Q="?";PATH_JOINER_A="&";constructor(e){this.config=e}getBaseUrl(){return`${this.config.apiProtocol}://${this.config.apiHost}`}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${r}/audiences`;return this.getUrl("audience-matching",i,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,n){const a=this.getUrlPrefix(e),o=(0,i.g_)((()=>""),(e=>`/${e}`))(r),s=`${this.getBaseUrl()}${a}${o}${t}`;return this.makeUrlWithQueryParams(s,n.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}var k=__webpack_require__(623),A=__webpack_require__(945);class G{sdkInitTimestamp;timeOriginSdkInit;logger;prefix="[Metrics]";timeOriginForContext=(()=>U())();pendingMetrics=[];pendingCounters={};pendingTimers={};noMetricsTracked=0;constructor(e,t,r){this.sdkInitTimestamp=e,this.timeOriginSdkInit=t,this.logger=r}isEnabled(){return!0}getNoMetricsTracked(){return this.noMetricsTracked}consume(){const e=this.pendingMetrics.concat(Object.values(this.pendingCounters).flat());return this.pendingMetrics=[],this.pendingCounters={},e}track(e){this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackCounter(e){if(this.noMetricsTracked++,this.logDebug(`Tracking ${e.name}`,{metric:e}),e.name in this.pendingCounters){const t=Object.keys(e.labels),r=this.pendingCounters[e.name].findIndex((r=>Object.keys(r.labels).length===t.length&&t.every((t=>r.labels[t]===e.labels[t]))));-1===r?this.pendingCounters[e.name].push(e):this.pendingCounters[e.name][r]=z(this.pendingCounters[e.name][r],e.value)}else this.pendingCounters[e.name]=[e]}synchroniseTimeBetweenContexts(e){return(0,r.zG)(A.gz(i.G5)(this.timeOriginForContext,this.timeOriginSdkInit),i.UI((t=>{let[r,n]=t;return e+r-n})))}trackTimeSinceInit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();(0,r.zG)(this.synchroniseTimeBetweenContexts(n),i.UI((e=>(e-this.sdkInitTimestamp)/1e3)),i.UI((r=>this.track({name:e,value:r,labels:t}))))}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class x{isEnabled(){return!1}getNoMetricsTracked(){return 0}consume(){return[]}track(e){}trackCounter(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}const z=(e,t)=>({...e,value:e.value+t}),U=()=>(0,r.zG)(i.Y3((()=>performance.timeOrigin)),i.hX((e=>"number"==typeof e&&!Number.isNaN(e))));var P=__webpack_require__(644);class q{sdkInitTimestamp;prefix;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.initialPrefix;this.sdkInitTimestamp=e,this.prefix=t}static initialPrefix=(()=>[D("Permutive"),self.document?D("M","#43dde2"):D("W","#FF5C00")])();get timeDeltaFromInit(){return`[${(new Date).getTime()-this.sdkInitTimestamp}ms]`}log(){return console.log.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}debug(){return console.debug.bind(self.console,`%c%s${this.prefixTemplate}`,"color: blue;",this.timeDeltaFromInit,...this.prefixContent)(...arguments)}warn(){return console.warn.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}error(){return console.error.bind(self.console,`%s${this.prefixTemplate}`,this.timeDeltaFromInit,...this.prefixContent)(...arguments)}withPrefix(e,t){return new q(this.sdkInitTimestamp,[...this.prefix,D(e,t)])}get prefixTemplate(){return this.prefix.map(P.li).join("")}get prefixContent(){return this.prefix.map(P.Yg).flat()}}class C{log(){}debug(){}warn(){}error(){}withPrefix(){return this}}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#0469d0";const r=[`background-color: ${t}`,"color:white",`border:1px solid ${t}`,"padding: 0px 2px","margin: 0px 1px","border-radius: 2px"].join(";");return["%c%s",[r,e]]}class O{crypto=(()=>self.crypto||self.msCrypto)();ALG_NAME="AES-GCM";isAvailable(){return!!this.crypto?.subtle}generateKey(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,e.t_)(this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},t,["encrypt","decrypt"]))}encrypt(e,t){const[r,n]=this._encrypt(e,this.str2bytes(t));return r.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(n,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const r=new Uint8Array(t,0,12),n=new Uint32Array(t,12,1)[0],i=t.slice(16,16+n);return this._decrypt(e,r,i).then(this.bytes2str)}_encrypt(t,r){const n=this.crypto.getRandomValues(new Uint8Array(12));return[(0,e.t_)(this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:n},t,r)),n]}_decrypt(t,r,n){return(0,e.t_)(this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:r},t,n))}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}class T{config;constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}var M=__webpack_require__(46),j=__webpack_require__(694),R=__webpack_require__(450),L=__webpack_require__(327),Q=__webpack_require__(214);var N=__webpack_require__(654),F=__webpack_require__(825);class Y{timeoutDurationInMilliseconds;maxTimeOutDurationInMilliseconds;constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,o.aT)(e)}debounce(t,r,n,i){let a,s,c,l=[];return u=>{i&&(c=i.concat(c??i.empty,u));const p=(0,o.b2)();l.push(p);return a?.(),a=(0,e.HJ)((()=>{s?.(),s=void 0;const e=t(c||u);l.forEach((t=>t.resolve(e))),c=i?.empty,l=[]}),r),s||(s=(0,e.HJ)((()=>{a?.(),s=void 0;const e=t(c||u);l.forEach((t=>t.resolve(e))),c=i?.empty,l=[]}),n)),p.promise}}}class B extends Error{constructor(e){super(e),this.name="StoreClosingError"}}const $="permutive-events-cache",X="permutive-events-for-page",H="[EVENTSCACHE]",V=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class K{config;logger;reportError;trace;metrics;userId;makeEventsStore;eventStore;eventsCache=(()=>this.makeEventsRepository($))();eventsForPage=(()=>this.makeEventsRepository(X))();eventsTTLInMilliseconds;readiness;debouncedReportError=(()=>new Y(5e3,5e3).schedule((e=>this.reportError(e.errorMessage,{userId:e.userId}))))();static initialise(e,t,n,i,a,o,c){return(0,r.zG)(c(),s.UI((r=>new K(e,t,n,i,a,o,c,r))))}constructor(e,t,n,a,s,c,l,u){this.config=e,this.logger=t,this.reportError=n,this.trace=a,this.metrics=s,this.userId=c,this.makeEventsStore=l,this.eventStore=u,this.eventsTTLInMilliseconds=(0,r.zG)((0,i.ij)(this.config.eventsTTLInDays),(0,i.tS)((e=>"number"==typeof e&&e>0?(0,i.G)(24*e*3600):i.YP))),this.eventsCache.events=(0,o.HP)((()=>(0,o.PQ)((0,r.zG)(M.tD((()=>this.trace.startSpan("load_event_cache"))),M.tS((e=>(0,r.zG)(this.loadFromDisk(),M.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents())),c.onChange((()=>this.reset()))}async migratePreviousPagesEvents(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,M.pE)((e=>(0,s.Y3)((()=>e.flush()),N.w)));return(0,r.zG)([this.eventsForPage,this.eventsCache],t,(0,M.UI)((t=>{const r=a.bj(t);return r.length>0&&this.reportError(`Migrate previous events failed. Got:\\n${r.join("\\n ")}`,{userId:this.userId.current}),e.finish()})),(e=>e()))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(a.xH)}async add(e,t){let{persistOnDisk:n}=t;return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,r.zG)(this.eventsForPage.events,M.UI((t=>[...t,e])),o.HP),n&&this.readiness.then((()=>this.eventsForPage.flush())),e}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:r});let n=1,i=[...e];for(;t>r;)i.splice(0,n),n*=2,t=2*JSON.stringify(i).length;return this.logDebug("Events after pruning",{count:i.length,sizeInBytes:t}),{events:i,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,r.zG)(this.eventsTTLInMilliseconds,i.EQ((()=>r.yR),(e=>a.hX((t=>e>Date.now()-t.time.getTime())))));return(0,r.zG)(M.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),M.YO("loadEventsCacheTask"),M.ak("eventsFromDisk",(()=>(0,r.zG)(a.nI([this.eventStore.get($),this.eventStore.get(X)]),a.UI(s.LV((0,o.lo)([[e=>e instanceof B,(0,r.ls)(e,M.of)],t=>(0,r.zG)(M.tD((()=>this.reportError(`Error fetching data from store. Got ${t}`,{userId:this.userId.current}))),M.tS((()=>()=>this.reset("historical"))),M.UI(e))]),(0,r.ls)(i.fS(e),M.of))),a.vP(M.qA)))),M.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:r}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",r)}})),M.UI((0,r.ls)((0,o.vg)("eventsFromDisk"),a.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),a.UI(F.k),t)))}async reset(e){return(0,r.zG)(M.tD((()=>this.logDebug("Resetting Events Cache"))),M.tS((()=>this.eventStore.deleteStore())),s.tS((()=>this.makeEventsStore())),s.Zl((t=>(this.eventStore=t,"historical"===e?A.gz(s.Ij)(this.eventsCache.reset,this.eventsForPage.flush):A.gz(s.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),s.wE((()=>()=>this.all())),s.fS((()=>M.of(W()))),(e=>e()))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(u.F2((0,r.Q1)()));return t=>e=e.then(t)})(),n=e=>(0,r.zG)(M.tD((()=>this.logDebug(`Writing ${e.length} events to ${m.key}`))),M.tS((()=>this.eventStore.put(e.map(F.X),m.key))),s.UI(r.Q1)),i=(0,r.zG)(M.tD((()=>this.logDebug(`Deleting events for ${m.key}`))),M.tS((()=>this.eventStore.delete(m.key))),s.Vn(N.w)),a=(0,r.ls)(M.of,M.At((e=>()=>this.logError(`Events cache failed to put ${m.key}. Got ${e}`))),M.tS((0,o.lo)([[e=>V(e)&&m.retryAttempts<9,()=>(0,r.zG)(M.tD((()=>{m.retryAttempts+=1,this.logDebug(`Attempt #${m.retryAttempts} to write ${m.key} to EventsStore`)})),M.tS((()=>d)),M.tS((()=>l)))],[e=>V(e),e=>(0,r.zG)(M.tD((()=>this.logDebug(`Attempted ${m.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),M.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${m.key}. Got ${e}`,userId:this.userId.current}))),M.tS((()=>s.t$(e))))],s.t$]))),c=e=>s.tD((()=>{this.logDebug(`Successfully wrote events for ${m.key} after ${m.retryAttempts} attempts`),m.retryAttempts=0,m.sizeInBytes=2*JSON.stringify(e).length,m.sizeInBytesLastSuccessfulWrite=m.sizeInBytes})),l=(0,r.zG)((()=>m.events()),M.tS((e=>(0,r.zG)(n(e),M.mU(u.EQ(a,(()=>c(e)))))))),p=(e,t)=>(0,r.zG)(e.events,M.UI((r=>{const n=2*JSON.stringify(r).length,i=this.pruneEventsToSizeLimit(r,n,t);return e.events=M.of(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes}))),f=(e,t)=>{let[n,...i]=e;return n&&0!==t?(0,r.zG)(p(n,t),M.tS((e=>(this.logDebug(`${e} left after pruning ${n.key}`),f(i,e))))):M.of((0,r.Q1)())},d=(0,r.zG)(s.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),s.fX(u.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),s.tS((e=>{const t=1.2*e,n=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,n),(0,r.zG)(f(n,t),s.fF)}))),m={key:e,events:M.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,r.zG)(M.tD((()=>this.trace.startSpan(`write_${m.key}`))),M.tS((e=>(0,r.zG)(l,M.At((()=>()=>e.finish()))))),t),reset:()=>(0,r.zG)(M.tD((()=>{m.events=M.of([]),m.sizeInBytes=0,m.sizeInBytesLastSuccessfulWrite=0})),M.tS((()=>i)),t)};return m}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(H,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn(H,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(H,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(H,...t)}}const W=()=>[],J=`permutive.${self.document?"main":"worker"}.`;class Z{config;shouldUsePerformanceMark=!1;constructor(e){this.config=e,this.shouldUsePerformanceMark=(self.performance?.mark&&this.config.tracingEnabled)??!1}startSpan(e){const t=this.generateSpan(e);return t.start(),{spanId:t.spanId,finish:t.finish}}measureSinceInit(t){const r=this.generateSpan(`${t}_since_init`);return r.start({startTime:e.NC}),{spanId:r.spanId,finish:r.finish}}traceTask(e){return t=>async()=>{const r=this.startSpan(e),n=await t();return r.finish(),n}}measureBetween(e,t,r){const n=this.generateSpan(e);n.start({startTime:t}),n.finish({startTime:r})}generateSpan(e){if(!this.shouldUsePerformanceMark)return{spanId:null,start:()=>{},finish:()=>{}};const{spanName:t,startMarkerName:r,endMarkerName:n}=Z.generateUniqueMarkerNames(e);return{spanId:r,start:e=>self.performance?.mark(r,e),finish:e=>{self.performance?.mark(n,{startTime:e?.startTime??performance.now()}),self.performance?.measure?.(t,r,n)}}}static generateUniqueMarkerNames(e){const t=`${J}${e}`,r=`${t}${Z.generateId()}`;return{spanName:t,startMarkerName:`${r}_start`,endMarkerName:`${r}_end`}}static generateId(){return"_"+Math.random().toString(36).substr(2,9)}}class ee{db;static version=3;static connect(t,n,i,a,o,c,l,u,p,f){return(0,r.zG)(s.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,897))),String),e.N1,s.tS((e=>e.make(t,n,i,a,o,c,l,ee.version,u,p,f))),s.UI((e=>new ee(Promise.resolve(e)))))}constructor(e){this.db=e}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new B(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,s.Y3)((()=>this.db.then((r=>r.put(e,t)))),(e=>{const t=(0,N.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,s.Y3)((()=>this.db.then((t=>t.get(e))).then(i.ij)),(e=>{const t=(0,N.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,s.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,s.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}const te=e=>{if(!e)return"";return(0,r.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};class re{urls;config;network;metricsCollector;logger;webClient;prefix="[API]";constructor(e,t,r,n,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:()=>i.YP;this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=a,this.webClient=o}async reportError(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;const o=(0,N.w)(e);if(this.logError("Reporting error:\\n",o),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const s=(0,r.zG)(this.webClient,j.UI(i.fS((()=>({domain:self.location?.hostname??"",referrer:"document"in self?self.document?.referrer:"",url:self.location?.href??"",user_agent:navigator?.userAgent??""})))),j.UI((e=>{const r={error_message:o?.message?.toString()??"",stack_trace:o?.stack?.split("\\n")},i=t?{user_id:t}:{};return{platform:"web",sdk_version:"v20.55.0",ql_runtime_version:"v14.1.0",timestamp:n,domain:e.domain,url:te(e.url),referrer:te(e.referrer),user_agent:e.user_agent,error_message:r.error_message??String(o),stack_trace:r.stack_trace,...i}}))),c=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",i.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),l=e=>{this.metricsCollector.trackCounter({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};await(0,r.zG)([p,f],a.Ew((e=>o.name===e.errorName||o.message.indexOf(e.errorName)>=0||o.message.indexOf(e.defaultMessage)>=0)),i.g_((()=>{const e=s();return c(e).catch((0,r.ls)(N.w,(e=>this.logError(e))))}),(async e=>l(e.errorName))))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}var ne=__webpack_require__(987);const ie=e=>{const t=ae(e.javaScriptInput),{env:r,...n}=(0,ne.N)({hash:e.hash,runtimeInput:t});return n},ae=e=>{if(e&&"object"==typeof e)return e;throw new Error("Invalid runtime input specified.")},oe=("undefined"!=typeof globalThis?globalThis:void 0)?.crypto||("undefined"!=typeof global?global:void 0)?.crypto||("undefined"!=typeof window?window:void 0)?.crypto||("undefined"!=typeof self?self:void 0)?.crypto||("undefined"!=typeof frames?frames:void 0)?.[0]?.crypto;let se;se=oe?e=>{const t=[];for(let r=0;r<e;r+=4)t.push(oe.getRandomValues(new Uint32Array(1))[0]);return new le(t,e)}:e=>{const t=[],r=e=>{let t=e,r=987654321;const n=4294967295;return()=>{r=36969*(65535&r)+(r>>16)&n,t=18e3*(65535&t)+(t>>16)&n;let e=(r<<16)+t&n;return e/=4294967296,e+=.5,e*(Math.random()>.5?1:-1)}};for(let n,i=0;i<e;i+=4){const e=r(4294967296*(n||Math.random()));n=987654071*e(),t.push(4294967296*e()|0)}return new le(t,e)};class ce{static create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t)}mixIn(e){return Object.assign(this,e)}clone(){const e=new this.constructor;return Object.assign(e,this),e}}class le extends ce{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4*e.length;super();let r=e;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),(r instanceof Int8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)&&(r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),r instanceof Uint8Array){const e=r.byteLength,t=[];for(let n=0;n<e;n+=1)t[n>>>2]|=r[n]<<24-n%4*8;this.words=t,this.sigBytes=e}else this.words=e,this.sigBytes=t}static random=(()=>se)();toString(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue).stringify(this)}concat(e){const t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(let e=0;e<i;e+=1){const i=r[e>>>2]>>>24-e%4*8&255;t[n+e>>>2]|=i<<24-(n+e)%4*8}else for(let e=0;e<i;e+=4)t[n+e>>>2]=r[e>>>2];return this.sigBytes+=i,this}clamp(){const{words:e,sigBytes:t}=this;e[t>>>2]&=4294967295<<32-t%4*8,e.length=Math.ceil(t/4)}clone(){const e=super.clone.call(this);return e.words=this.words.slice(0),e}}const ue={stringify(e){const{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){const r=t[e>>>2]>>>24-e%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse(e){const t=e.length,r=[];for(let n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new le(r,t/2)}},pe={stringify(e){const{words:t,sigBytes:r}=e,n=[];for(let e=0;e<r;e+=1){const r=t[e>>>2]>>>24-e%4*8&255;n.push(String.fromCharCode(r))}return n.join("")},parse(e){const t=e.length,r=[];for(let n=0;n<t;n+=1)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new le(r,t)}},fe={stringify(e){try{return decodeURIComponent(escape(pe.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:e=>pe.parse(unescape(encodeURIComponent(e)))};class de extends ce{constructor(){super(),this._minBufferSize=0}reset(){this._data=new le,this._nDataBytes=0}_append(e){let t=e;"string"==typeof t&&(t=fe.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_process(e){let t;const{_data:r,blockSize:n}=this,i=r.words,a=r.sigBytes;let o=a/(4*n);o=e?Math.ceil(o):Math.max((0|o)-this._minBufferSize,0);const s=o*n,c=Math.min(4*s,a);if(s){for(let e=0;e<s;e+=n)this._doProcessBlock(i,e);t=i.splice(0,s),r.sigBytes-=c}return new le(t,c)}clone(){const e=super.clone.call(this);return e._data=this._data.clone(),e}}class me extends de{constructor(e){super(),this.blockSize=16,this.cfg=Object.assign(new ce,e),this.reset()}static _createHelper(e){return(t,r)=>new e(r).finalize(t)}static _createHmacHelper(e){return(t,r)=>new _e(e,r).finalize(t)}reset(){super.reset.call(this),this._doReset()}update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e);return this._doFinalize()}}class _e extends ce{constructor(e,t){super();const r=new e;this._hasher=r;let n=t;"string"==typeof n&&(n=fe.parse(n));const i=r.blockSize,a=4*i;n.sigBytes>a&&(n=r.finalize(t)),n.clamp();const o=n.clone();this._oKey=o;const s=n.clone();this._iKey=s;const c=o.words,l=s.words;for(let e=0;e<i;e+=1)c[e]^=1549556828,l[e]^=909522486;o.sigBytes=a,s.sigBytes=a,this.reset()}reset(){const e=this._hasher;e.reset(),e.update(this._iKey)}update(e){return this._hasher.update(e),this}finalize(e){const t=this._hasher,r=t.finalize(e);t.reset();return t.finalize(this._oKey.clone().concat(r))}}const ge=[];class ve extends me{_doReset(){this._hash=new le([1732584193,4023233417,2562383102,271733878,3285377520])}_doProcessBlock(e,t){const r=this._hash.words;let n=r[0],i=r[1],a=r[2],o=r[3],s=r[4];for(let r=0;r<80;r+=1){if(r<16)ge[r]=0|e[t+r];else{const e=ge[r-3]^ge[r-8]^ge[r-14]^ge[r-16];ge[r]=e<<1|e>>>31}let c=(n<<5|n>>>27)+s+ge[r];c+=r<20?1518500249+(i&a|~i&o):r<40?1859775393+(i^a^o):r<60?(i&a|i&o|a&o)-1894007588:(i^a^o)-899497514,s=o,o=a,a=i<<30|i>>>2,i=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+o|0,r[4]=r[4]+s|0}_doFinalize(){const e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash}clone(){const e=super.clone.call(this);return e._hash=this._hash.clone(),e}}const he=me._createHelper(ve),be=(me._createHmacHelper(ve),{stringify(e){const{words:t,sigBytes:r}=e,n=this._map;e.clamp();const i=[];for(let e=0;e<r;e+=3){const a=(t[e>>>2]>>>24-e%4*8&255)<<16|(t[e+1>>>2]>>>24-(e+1)%4*8&255)<<8|t[e+2>>>2]>>>24-(e+2)%4*8&255;for(let t=0;t<4&&e+.75*t<r;t+=1)i.push(n.charAt(a>>>6*(3-t)&63))}const a=n.charAt(64);if(a)for(;i.length%4;)i.push(a);return i.join("")},parse(e){let t=e.length;const r=this._map;let n=this._reverseMap;if(!n){this._reverseMap=[],n=this._reverseMap;for(let e=0;e<r.length;e+=1)n[r.charCodeAt(e)]=e}const i=r.charAt(64);if(i){const r=e.indexOf(i);-1!==r&&(t=r)}return((e,t,r)=>{const n=[];let i=0;for(let a=0;a<t;a+=1)if(a%4){const t=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;n[i>>>2]|=t<<24-i%4*8,i+=1}return le.create(n,i)})(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="});const ye=function(e){let t=i.YP;const r=i.fS((()=>{const r=e();return t=i.G(r),r}));return()=>r(t)}((()=>({metadata:{72374:"0c8b70cdb7",83650:"b1836aadd2",83654:"1814c2be9e",83657:"4dd418aa54",83658:"7ea0e15bef",83659:"2b03e19752",83722:"e1ede4ee16",84413:"bc82a00983",84677:"3999909105",84732:"1bdb71f75b",84733:"107daca502",84734:"d4bf05e8b7",84735:"a29e171e56",84736:"87ad3efb30",84737:"911d1906f2",84738:"1e0507ceb2",84739:"3b82416770",84740:"dc5201e465",84741:"844f059ac4",84742:"7eb0c5ff09",84743:"b4123ede2e",84744:"a5bc586068",84745:"1f245ad87e",84746:"823ba87382",84747:"092372e8cf",84748:"ca3b404651",84749:"95e84348cc",84750:"25338f353d",84751:"860b1f8029",84752:"233f826b7c",84753:"19654117d8",84754:"9b43ca2008",85007:"6fee1cca17",85008:"7129744157",85009:"3e6505a949",85010:"e4f481c732",85011:"32a5af4faf",85012:"f84aa2f3ee",85013:"064360e954",85014:"6f5e2b2aa7",85015:"78191616e5",85016:"8ff02e5e13",85017:"9f7056ee82",85302:"055b0598b0",85403:"4100d85a9a",85593:"f204fa7425",85653:"b85bb89520",87312:"140a5e0115",87313:"af916c946f",87314:"f47bfa19ea",87317:"1578439845",87421:"9014c8b003",87422:"cb58816f2c",87487:"c369422d59",87488:"46b1fa3428",87490:"6f25a028f0",87491:"5adbc7f009",87492:"b3480067fb",87493:"d88c40d1bd",87494:"ad28288a39",87495:"b1690f69fc",87496:"509f5b23a9",87497:"484a5cfa6c",87498:"624c844299",87500:"04de45ab9d",87501:"0c119eca1f",87502:"4c07d45220",87503:"8364ba18c0",87504:"3c296d99c9",87505:"579940af57",87506:"6986dc4708",87507:"640e20dafe",87508:"271d18c88e",87509:"186745a5ca",87510:"28aecf3716",87511:"d7fe6723c8",87512:"3b87ec4ef4",87513:"ed111ccda2",87514:"f5a71cd40c",87515:"c03fdf490c",87516:"172cb89704",87517:"e41271011e",87518:"146bdbae31",87519:"f710df8e9b",87520:"f79128addb",87521:"9b8d528f00",87522:"6d8fdde78d",87523:"1729f01821",87524:"922d40c981",87587:"f72b8cb0f4",87588:"881da4410a",87591:"44a26bd89d",87592:"e6d9e797e2",87594:"3438ac2d92",87595:"bfb8b90691",87596:"93cf120177",87597:"a1c6e7f882",87598:"e77966ef25",87599:"85ca5e2395",87600:"131ec84f46",87601:"bed7bd3fda",87602:"8d07732ae6",87603:"6fec0064eb",87604:"1e5093d4ed",87605:"4a620946d7",87606:"52296c1d5d",87608:"ca3909bf5a",87611:"ac6f4bea6c",87612:"a9d9f1763b",87613:"027a72d9d4",87614:"91f4c88f28",87615:"844aee5992",87616:"4112caacf5",87617:"672df7bc22",87618:"99813753de",87619:"d0f734f636",87806:"58dc60f541",88152:"e77a6da0d6",88153:"028e8972ea",88973:"10ddbf215d",88974:"809cca0266",88975:"04036136b3",89152:"3d46da6e92",89855:"adc5855d0d",89856:"f7fd95cca6",89857:"6325957083",89858:"b17c7e5d5e",89859:"31092d33a0",89860:"26ef1645da",89861:"9896b887a1",89862:"a56815dec0",89863:"f70a2f8eb4",89864:"d629a217d9",89865:"588f37082d",89866:"a0cbb3bba5",89867:"1a926f9c72",90029:"6fb211940b",90030:"6bc9f4aa2e",90419:"8c2137c917",90420:"18d8265c57",90421:"109a6bfa81",90422:"c38d49eec1",90423:"6fb2bdd628",90424:"d15ebfd30e",90427:"83a6d9ea9b",90583:"e8f0b4a2e5",90584:"1da75a49c7",90678:"ece6717aa0",90679:"e0f4c68156",90680:"7dc4076eea",90681:"375c1a31d0",90682:"26aa31ae18",90683:"a8b2f4f61f",90740:"15915398f3",90741:"c56ea5b514",90742:"1bba77ee7f",90745:"e96a62e9d6",90749:"f397d6b64e",90752:"580d5e298f",90753:"d677430d5d",90754:"2cacbc9c58",90755:"a81db208dd",90756:"dba52d2640",90757:"fb8f246a6b",90758:"83a84f468e",90759:"72ac115418",90760:"12a5268acf",92377:"02497431cb",92380:"26b86279b2",92383:"31ca8663c2",92384:"c78147890e",92385:"284579fe2a",92386:"bd614fd493",92387:"4b02f0de86",92388:"588a1d8cbf",92389:"55b9e0edae",92390:"35023e88b6",92391:"b8c58f4d79",93351:"0c8b70cdb7",95572:"c53adf447b",95573:"2f83a0cec2",95574:"bb7cd75e57",95575:"3fc917d3c9",98423:"22a4ebc59d",98842:"1871d02c99",98843:"9538b17e67",98954:"e9b49feeee",99352:"6694d6e5e1",99355:"97d7985257",99356:"83a8ca37c5",99357:"0b0126f0be",99358:"b6ed6943cf",99359:"243633338d",99360:"0ba7011362",100800:"f613fcb26d",102174:"be500263c9",102196:"26efd4b1d7",103313:"f122b71fe7",103324:"9ac015e43a",103327:"d0f4c05f72",106853:"ef4cfacc82",108459:"ad25e89aa3",108461:"1ac9413df5",109017:"6876b34eb0",109039:"b611deccfa",109042:"c5cca42471",109043:"9de9a36044",109045:"c544db9d6b",109046:"682f3460b8",109047:"ec48760e88",109048:"775e221eab",109049:"ba17ad5518",109050:"e1d1a5db94",109051:"dfd010b5e9",109052:"3983ce9071",109053:"1e572ba510",109054:"7932e58e57",109055:"18e8a10ca4",109060:"5b12a5cc87",109130:"815ff29b87",109131:"6d602ceb34",109133:"aec2304096",109145:"4e49b371d9",109160:"f0f178736a",109177:"1702a2d8de",109190:"aa0af1803f",109350:"73f50cfaa5",109352:"15c734f59f",109500:"78571d4c20",109501:"6a0cd339b9",110753:"7ff080562c",110756:"daa7e4fbc5",110763:"a000553f01",110778:"946159f2d5",110779:"c6ffa5a9f4",110780:"ed0f111dc1",110782:"793d6d8ed0",110783:"1ea7642bb4",110786:"273da946b8",110788:"3ebfe6bb1d",110789:"09695f63b7",110792:"a5b7a77a33",110795:"ee5d28962e",110798:"3fc353071a",110799:"1984ea3112",111594:"7fa37fe11f",111596:"860bd783bc",111597:"c8a393d7df",111757:"8c842a5e37",111760:"2fe0c0ca1b",111764:"73a6ca364c",111766:"b0001bcb66",111780:"5fa1ea06b8",111783:"72b2c8d342",111960:"a3f8d17487",111961:"27a64a0047",111962:"8da0445c9a",111963:"f6bc875e3b",111966:"a5957e76a3",111967:"f2fd9207ef",111968:"6f0bc5ae78",111969:"7357e90b22",111970:"8555dcc3e4",111980:"21d5cdf4c1",111981:"b84f5ab3fc",111982:"5b8e844470",111984:"e50903c912",111985:"fc25b7016a",111986:"c8cf9118e8",112842:"3ed8a7f23e",112844:"ffbc1b560c",112853:"879267ec31",112856:"23aee9957d",112858:"2d36b9fab5",112860:"f4c96caa3c",112861:"0806b933a1",112862:"3c08b74838",112863:"b945b6df66",112865:"d4ca9a448d",112870:"f784228d8d",112871:"53ed52f312",112872:"15d13c7e3c",112903:"5c93294ed5",112904:"bb3f5a6509",112961:"fe19248e47",112962:"590b3c1b47",112963:"59ecedd9aa",112964:"0dec4eba87",112965:"e4088d8128",112966:"1dac2f6ac2",112967:"72b468607a",112968:"2f4ed7bd7b",112969:"906849a493",112970:"ca67a6350c",112972:"83fa4b7a6f",112973:"0cb41cc36d",112974:"5bce3acf56",112976:"2a460dc231",112979:"abd1fbdb3b",112980:"3dbce59df3",112981:"bf90815809",112995:"9410ab12c0",112996:"1c8ef5bada",112997:"325c7a32bc",112998:"2e45cdbca4",112999:"58ef8d1b8f",113002:"b2164a0377",113003:"460d4398fd",113007:"b1b6756e5b",113009:"ff6db8f0c1",113012:"1f60773b20",113013:"6f8cf79c1e",113015:"74fa21c0e7",113018:"a3643ef6fe",113020:"5766bc52b7",113022:"0951556719",113023:"b1fa99bc2c",113024:"49f48e3dff",113025:"f716ac4e73",113026:"fccf8f30b9",113027:"b4be3ef9e2",113028:"4bc4f814d9",113029:"538bad62fa",113032:"e922d50b57",113034:"769edefed2",113036:"8e8afc9863",113039:"d4c7da976c",113042:"b236d77622",113045:"56b31c00ae",113047:"b5a1e60cd3",113051:"9a05bd6dd4",113054:"05cbd33c84",113056:"568c03d797",113057:"acc9f2aae8",113061:"dfbe8c9936",113062:"7e18735b66",113063:"a3306a1f51",113064:"7cc6823673",113065:"da56189c2f",113078:"84e594e6cd",113080:"e9eb15a250",113083:"520428be96",113102:"224f07702a",113106:"7385063c52",113109:"90f233f795",113110:"51d2763873",113111:"f0a4b5cb15",113171:"5ceaa82c7a",113172:"8ec3e45cd7",113174:"9a08c97ce4",113175:"6f67c5f034",113176:"103a8ce359",113177:"6b031c9629",113180:"655a04b8b8",113181:"6ffbbb9b2b",113183:"caa4f980d0",113185:"82b51186df",113211:"543acba7a6",113213:"fb4dd2475d",113214:"e5f3a21d2c",113215:"bfbb2353ea",113232:"91e4b8a3c9",113233:"f4b0d850ab",113234:"e8b5f31442",113237:"874dff78fc",113238:"2d64a59b03",113239:"5debc25528",113240:"ac0375d934",113241:"58f811ce64",113242:"79041ad135",113244:"c63a61db6a",114090:"3daf20030a",114091:"2064ec18f1",114092:"e1c5a80e2e",114959:"ecc4a3d1cb",114960:"0450a8e358",114961:"b74ebaef3c",115031:"fc2bb50d26",115032:"d2a97c3ff3",115033:"a4fb38c546",115303:"c201295af4",115304:"d3818d9084",115305:"02af1698b2",115627:"d691b00157",115639:"324cbfe440",115640:"48ed9647b5",115827:"35fd6f73f0",115828:"7c99da2359",115829:"645ffe41a6",115830:"7053f78853",115831:"be236c0c66",115832:"abd6d55d78",115834:"a750be1010",115835:"5dc0bd5e92",115836:"a4584cd0b6",115837:"dd773dace9",115839:"5debc25528",115842:"e9c31fd9aa",115959:"9a31c82b9a",118635:"60216482a3",118636:"3feaa2a9a4",118637:"f5e6b50b91",118638:"71cd084183",118639:"19cee914f8",118640:"85d6b4a7fa",118641:"68eec807d5",118642:"2876cb4b57",118643:"4d4740776c",118644:"c15a902cf2",118645:"7846af305a",118646:"c6fd975d0b",118647:"ab5453b7e0",118648:"4e6becd116",118649:"66168a1f10",118650:"7eae360268",118651:"444e1b47b0",118652:"0b5dd6a0f0",118653:"79eae8b74a",118654:"53c8a4479e",118655:"40ce5697ec",118656:"5dd88dfa79",118657:"1413d0ea87",118658:"93e97eb917",118659:"b915c83fe0",118660:"eb1b1d6acd",118661:"acf1aaec20",118662:"c93887ea9f",118663:"cece6fb974",118664:"4a4f5765ed",118665:"00d835fe0f",118666:"27f6221a58",118667:"8c9a91e469",118668:"933b5cad9c",118669:"2464a9e5c8",118670:"0d612e3abf",118671:"be4e1c4d1c",118672:"6a3111abba",118673:"ceb3f938d8",118674:"e9b9ccf525",118675:"89f9b972da",118676:"a7901be06b",118677:"8eae84129a",118678:"292dfc4738",118679:"14ef0ed8db",118680:"18507c1441",118681:"a3e15039f3",118682:"36658c0401",118683:"8b4fa1ff96",118684:"8176e87112",118685:"5802993c63",118686:"8d22e566b4",118687:"a9c28e9aee",118688:"e9a9335cfc",118689:"bdbf991f7a",118690:"40585bac66",118691:"9d326b3b8c",118692:"6efdb3d6e3",118693:"92c4160a76",118694:"2659428d02",118695:"cedce14737",118696:"f281828d6f",118697:"061e4f97a8",118698:"1644c97d3d",118699:"62074f1824",118700:"2f96026b08",118701:"3f9fda2f3f",118702:"be4e786ec3",118703:"f1fbd6c953",118704:"a372ed2d8a",121451:"bd7b05a900",121924:"9efbc8e812",121926:"62538a02d2",121927:"6572a3038a",121928:"5c22d2f5e8",121929:"feca8ac472",121930:"d906a77d8e",121931:"909d0298a6",121932:"9611224769",121933:"96da90f578",121934:"0b2bbaeff2",121935:"bebc5f9bde",121936:"dd46d3486c",121937:"f831c15c03",121938:"7b071be099",121939:"fd2eeb325b",121940:"115e121421",121941:"ebf4778ac7",121942:"5f93cfb28c",121943:"e5aa6382fa",121944:"4f8d7ae9ea",121945:"1cfdc52f63",121946:"aec57153f6",121947:"d13cb46c8a",121948:"2f0c17afc6",121949:"db13aba62e",121950:"5cbdb2885a",121951:"850f1631e5",121952:"37491e25fc",121953:"9cf1360422",121954:"eedffcc206",121955:"3867086e85",121956:"792bc2b62b",121957:"004f1a1f44",121958:"c45c6b01d0",121959:"9a216d3db4",121960:"eeeb0c9853",121961:"d7a787aa39",121962:"c9d24adcf2",121963:"8f0233188e",121964:"db6e6de94c",121965:"81a5f95df6",121966:"db3ee5bfe9",121967:"e6d739ce69",121968:"2f237880ce",121969:"680320e83c",121970:"96972d9a48",121971:"3d11d0b140",121972:"3f8ce52c33",121973:"565e53a03f",121974:"0e5a1828cd",121975:"bd2fbaa264",123554:"2530827a34",123555:"f72dcc9121",123783:"332f5dceff",123885:"a59c584d61",124301:"cf3975232e",124302:"ea2a5c7fd9",124303:"4e70fedfb1",124320:"3d3452be68",125057:"db355fb112",127658:"eb60b484d4",127872:"bda6050d7e",127873:"827359a3fa",127875:"20d0ba0da1",128345:"b5d4a56816",128347:"253abb8f02",128348:"cd9566be90",128349:"432d7f899e",128352:"38fe64f31f",130647:"06518db396",130672:"0d9c5597e1",130673:"d2359087fb",133921:"9a765e5d2b",135504:"126f94d82d",140205:"0baded9cdf",141089:"3194254f73",141090:"1806c5f2da",141091:"aa97dce373",141092:"d5605da1a3",141093:"2a1c1a4eb0",141094:"87b4fb75c3",141095:"6ab827921c",141096:"e6dfc483f3",141097:"d222c42580",141098:"a3ff945d39",141099:"2141b45193",141100:"b371928c8c",141101:"5dc62d7a9f",141102:"942fc306ad",141103:"a298422fde",141104:"46a8824c8b",141105:"400bc3deee",141106:"c2208b1923",141107:"8cf0e5a429",141108:"b7d3237c37",141109:"9186f70c39",141110:"586c66d456",141111:"2e833da139",141112:"29260901f0",141113:"213e0d6a35",141114:"6d44eede9a",141115:"9219fd82a4",141116:"658b76e9f8",141117:"dcd79b6d69",141118:"59e21c4db9",141119:"da27f7b548",141120:"d30dcdb63a",141121:"da1bcac48c",141122:"dfed0ce40a",141123:"829d4e2f75",141124:"7fad375375",141125:"05e69487d7",141126:"a5c5b2b2ba",141127:"d0c0015f8e",141128:"91aae86035",141129:"fb695c9684",141130:"3991392ba5",141131:"e0c5ec9ada",141132:"b9de4385d4",141133:"e5ffc361ba",141134:"16e6809530",141135:"5e9300d738",141136:"9069bd5a16",141137:"ed1c8d6427",141138:"d2bb38ac84",141139:"2cb6f768ae",141993:"5b564d8b43",141994:"f61a75910c",145919:"e8bbcfbcda",146387:"57b658bbbd",147354:"2553a68e73",148305:"8419d8e0cf",149425:"f55d8e06f5",154299:"fcb50c3872",156468:"e5c1e8774a",156469:"95c464b6bf",156470:"fa578d2871",156471:"3faf3d6381",156472:"b8db848912",156473:"f42c1949c1",156474:"cf3d4deb7e",156475:"e18e4e991f",156476:"fda197128d",156477:"96d883d45b",156602:"7b30b599c8",156603:"5fa01ac908",156604:"77fd0dade1",156605:"93624af8cf",156606:"1cdab6ba54",156607:"f46fa3001a",156608:"fb46145071",156609:"7cbada98ae",156610:"0253623c61",156611:"a5eaa94beb",163181:"b58172b7a8",163182:"a7cde74422",165534:"501bd428c0",166684:"029f0d216e",167167:"3ece19d766",167934:"abc2f616d6",172299:"9a8ea1c000",175336:"06d3189f4e",175337:"b620178806",177711:"10283e4f79",177712:"f09689452a",177715:"c48c627e4d",177810:"a2e0668d0b",177811:"4277027b84",177812:"e9e585b46b",180104:"83c96958bd",180105:"5673d77a53",181375:"b6c65228a4",181377:"61aa05c3cd",181379:"27ff3e86e9",183399:"13d8969344",184227:"ebb1ac50b0",184914:"3ae89e2786",185469:"e6d0a46a48",185612:"8749c6bc24",185614:"ddf7e66d16",185615:"c827b872ee",185616:"44acead72b",185617:"d616558594",185618:"ddeac1c9d5",185619:"c0a50c0389",185621:"0751fb1378",185622:"0d2e59490b",185625:"fafff90112",185626:"f44b80a069",185627:"a4cdc2f6b2",185630:"db3c3816a5",185634:"200b744b9b",185635:"df5de23fd8",185636:"6e734bbb4a",185637:"c2c7183722",187096:"cdab9eb6a2",187097:"410751574b",187098:"9ed64fedff",187099:"af2d9dfe01",187100:"8d00c20c44",187101:"251fa63783",187102:"95836c9266",187103:"8a180d411b",187104:"0c44253a06",187107:"657d049108",187108:"8363e0b316",187109:"3482768e95",187111:"993ff25f7e",187112:"61702eaf46",187113:"335f227cfe",187114:"aa7fcd6825",187115:"2f2b39366f",187116:"2e751e2328",187117:"9df793efd1",187118:"113310039c",187120:"a26b5a395a",187122:"eff97587b9",187124:"346c2d953f",187125:"47067f9e1c",187127:"861b14eac0",187130:"590df86858",187133:"fcaf22d60b",187134:"dfa65752a2",187135:"3e719da7e8",187136:"d0e40a0ee7",187137:"e30a0fe29c",187138:"02b201b9c5",187140:"623e1d564c",187141:"e2cac104cb",187143:"27afd1b8ee",187144:"97a5422a64",187146:"bc836e9047",187149:"79a945b3c1",187155:"801d61446c",187157:"04709bd729",187158:"16860cc2e1",187159:"caf4dfeae5",187915:"14f50e2e05",187916:"9fa70371b7",187917:"e80841a58c",188044:"0ee14e6a93",189930:"71eb2bdf5b",191656:"f3e82be98d",192429:"eedb08d7fb",193022:"2d65903880",193023:"b975dd8b0f",193025:"5a0bbccdaa",193026:"a086dc6c3f",193027:"1641cda66f",193028:"703eed090e",194778:"4103c598ed",194783:"cc2378eb21",194784:"058fa23750",194785:"c98f9c7d7f",194786:"a0ada06734",194787:"4ae20ed9ae",194788:"3aa4fd1142",194789:"0604101b14",194796:"4427355ed5",195993:"49aca23a85",197982:"79f4358605",197983:"6f1920e486",197997:"140db43255",197998:"6f107e9182",197999:"b23711bc59",198001:"3ae89e2786",198002:"54a2f76c2e",198003:"5672687fcb",198004:"864669a76e",198005:"7ce290553b",198591:"1bb68d0266",198984:"07952baadc",201559:"250af28fd0",201560:"0e5593489f",201561:"973cd22e3e",201562:"f24d034790",201563:"1b4653ccf1",201564:"8015bf87ac",201565:"f0f752acdd",201566:"d84936200a",201567:"7511d194d6",201568:"415d6a0a64",202776:"9fa5e937aa",202911:"60e67b7bd1",206405:"8f26af3e44",206504:"c9a3c8bd61",206652:"2dee93d4e6",206656:"912e2d4c9f",206657:"98906a83eb",206664:"0805b588fe",207123:"f99b1d874d",207125:"3c940ab690",207965:"4190984af4",207970:"1ed1141638",207971:"441b880c19",207972:"4ae31e9292",208476:"77d308e0cf",208480:"b7f7d3b8a9",208537:"3ebf2b14d5",208539:"d537e2e47e",208559:"d537e2e47e",208771:"1b8f11eb29",210691:"2d660b6c16",211011:"5651ecb206",211012:"24442a2e99",211013:"6435345adc",211014:"9e408ba2ea",211015:"727045b388",211016:"50fde3b2e4",211017:"26d7cc0f43",211018:"c617e3d1a3",211019:"1af90b0c83",211020:"19c354fc18",213129:"2c4a6c918d",213131:"4068b47c6d",213132:"87120d51f6",213133:"25c1d9af45",213135:"707d9918c6",213137:"f133949f97",213138:"870720806c",213460:"b82d083324",213870:"edbfa3ef2c",213871:"1b5020e212",213872:"9a0fd0e3dc",226456:"b83b203d4f",228875:"35e58dfba5",230075:"d79fb3be3f",230348:"371633d772",232348:"c831fef2db",237324:"5d8b434695",237325:"bb163a3745",237974:"fc41fb1564",238172:"e9a33a848d",238174:"8937b8cce6",242265:"8289c3e0a0",242266:"550d4958cf",242267:"b46262e3e8",244915:"fd92920f9e",246178:"27e313d330",246737:"90da1ae950",248104:"e8c783c0c7",248492:"1676142b6a",248493:"770cf74f82",248494:"878ffa5a00",248495:"f721a47a4c",248497:"d40fe2c40c",248499:"0c36381928",248500:"1bf82b9f92",248501:"01af0a0058",248676:"99425a8441",248677:"03aeeb0896",248678:"90da5a9731",248679:"ccdb1e3cb5",248680:"1b20ff4a55",248875:"c66bcb2377",1e7:"11c975d76e",10000001:"b50d886098",10000002:"669634872b",10000003:"12d834dd50",10000004:"eea69f6b3b",10000005:"ebe292d8b6",10000006:"81b26ba127",10000007:"cea60ef9e0",10000008:"91aa2055b2",10000010:"7ee9b26adf",10000011:"d241094fdd",10000012:"a44a8eab5c",10000013:"6e4d12ddb5",10000014:"11757b88ba",10000015:"945ed0a170",10000016:"32e441bdeb",10000017:"d218bdacd2",10000018:"58becb7493",10000019:"1aa1bbb29d",10000020:"d0a8fd9652",10000021:"21514fb47e",10000022:"32a7d59500",10000023:"aebc4d2a9d",10000024:"d56c9050ba",10000025:"730dc045ea",10000026:"1e4d6b70c4",10000035:"307c11f72f",10000036:"6ff7f4b3fc",10000037:"fced62a41e",10000038:"27b00d7382",10000039:"11f9ba5de1",10000040:"d9bbed78fd",10000041:"ea8a453c55",10000042:"e749840796",10000043:"c82d1737c1",10000044:"24b7e42429",10000045:"d0cad77633",10000046:"5973aa854f",10000047:"584a8b96b4",10000048:"4ec5310347",10000049:"50a3fe4097",10000050:"0a23f838eb",10000051:"11bf7e3970",10000052:"ccf828d45f",10000053:"b21fbc41bc",10000054:"c5c1eb51f2",10000055:"5e65cebb81",10000056:"19eb777327",10000057:"0faf6d25ec",10000058:"b17cffa5ce",10000059:"1c9e56d780",10000060:"ce5bd11fe7",10000061:"0e63c9bc0f",10000062:"3b776bae75",10000063:"f97beb318f",10000064:"eb0a668371",10000065:"79a2595e43",10000066:"d502c18c55",10000067:"96110e718b",10000068:"fb7cfe71a6",10000069:"75113b6f05",10000070:"3f7de466b0",10000071:"2a6f06847b",10000072:"bb57c68153",10000073:"53d334a73a",10000074:"c5a96c7bea",10000075:"eade4d8a41",10000076:"9398dc5856",10000077:"5241636ad5",10000078:"2809553348",10000079:"758ca7e6d0",10000080:"ed88eb23c3",10000081:"882ede3f1e",10000082:"f441d474f9",10000083:"afb35bfdba",10000084:"cbc3ab14a3",10000085:"aa634388d5",10000086:"2c67cb7344",10000087:"e25c79f4be",10000088:"f292eea329",10000089:"fbfa6daf07",10000090:"68c6f128b5",10000324:"ad3868300f",10000325:"02c28e8877",10000327:"89d277605e",10000328:"352b1ec645",10000329:"a300370f5c",10000330:"8c88804594",10000687:"f7a7638665",10000688:"dd6d9d26cf",10000689:"4224169f0a",10000690:"a5755fc2f7",10000691:"26a77b0cbe",10000692:"1fe66e3c20",10000693:"e76168b4c5",10000694:"1713162d40",10000695:"2387afa064",10000696:"5bc9c044fd",10000697:"c0228e6179",10000698:"32a7fef483",10000699:"4cf535803c",10000700:"afbc74dfa0",10000701:"e523baf3d0",10000702:"0775017dc5",10000703:"bfdf3e1d4c",10000704:"bec1212f4d",10000705:"6137f6a7c1",10000706:"1e2ea12169",10000707:"eeb0f6228f",10000708:"5ab9703878",10000709:"20fad72e21",10000710:"0f514d5741",10000711:"eba7c94341",10000712:"a9a1d35baa",10000713:"882b83de8d",10000714:"3b70532969",10000715:"16f9be4863",10000716:"24e30a7671",10000717:"1d8f4fd1a4",10000718:"65d58a5062",10000719:"1699ef8445",10000720:"f76fb433d5",10000721:"678ab5cd40",10000722:"85044e9260",10000723:"81daba6e42",10000724:"af24df1baf",10000725:"99459141ce",10000726:"127f3667cb",10000727:"d1419bdd3c",10000728:"794286afce",10000729:"e0060afbd7",10000730:"3997010595",10000731:"214e74bd4d",10000732:"20b93ba9e4",10000733:"442d46338f",10000734:"52c4e5a8cc",10000735:"f1a55fc056",10000736:"71b0f76eb8",10000737:"6d4ccb9344",10000738:"a4c602bb4a",10000739:"e6d3396627",10000740:"1a57c60ff9",10000741:"768405a84a",10000742:"caa0b19636",10000743:"f9c6b8a08e",10000744:"7d0d909ef1",10000745:"58d239c0a4",10000746:"09ee3ad0a9",10000747:"da902d9427",10000748:"0f919c2850",10000749:"719fb46b47",10000750:"8c079158b5",10000751:"d1ef146292",10000752:"22207d1058",10000753:"8b1548b1a1",10000754:"8af5f7a884",10000755:"a8eb503756",10000756:"cf7ec6836a",10000757:"e8a14d646e",10000758:"4fc4376e7f",10000759:"b387ef2298",10000760:"2b7c1cfdcf",10000761:"e3d729caa8",10000762:"cc5913f888",10000763:"8ee10fe1d6",10000764:"13b563c7ca",10000765:"b7390a7f76",10000766:"f6b4d875d0",10000767:"e21a82c0aa",10000768:"6d696d3233",10000769:"0ea96ce452",10000770:"4e7fb168f5",10000771:"982f94f160",10000772:"977bd11740",10000773:"0215a29f51",10000774:"a75b74e775",10000775:"e948144098",10000776:"d471328a28",10000777:"29cfc3dd82",10000778:"eba1625606",10000779:"564a426ef9",10000780:"c0ec545ea8",10000781:"ada089f800",10000782:"85b8faa9f0",10000783:"42594b6228",10000784:"b7af9c0fab",10000785:"6c8167a54e",10000786:"368644729b",10000787:"3f53151409",10000788:"ebf406df5b",10000789:"b38ea19992",10000790:"c29391a64c",10000791:"8e7992ae19",10000792:"5af49fb54c",10000793:"b8406b2588",10000794:"e09caffae2",10000795:"ffb675958a",10000796:"d72a2ca0ad",10000797:"8355efd392",10000798:"6b1e96da04",10000799:"a1024f3665",10000800:"88f054825a",10000801:"bef23f23bd",10000802:"65b69fc8fb",10000803:"1f970f1d4a"},runtime:ie({hash:function(e){return he(e).toString(be).slice(0,8)},javaScriptInput:{ahoCorasickLookup:e=>[],eventSegments:e=>({"!UpdateLookalikeModels":["167934","172299","180104","180105","201559","201560","201561","201562","201563","201564","201565","201566","201567","201568","202911","213870","213871","213872","87587"],"!UpdateSecondPartyData":["103324","103327","118635","118636","118637","118638","118639","118640","118641","118642","118643","118644","118645","118646","118647","118648","118649","118650","118651","118652","118653","118654","118655","118656","118657","118658","118659","118660","118661","118662","118663","118664","118665","118666","118667","118668","118669","118670","118671","118672","118673","118674","118675","118676","118677","118678","118679","118680","118681","118682","118683","118684","118685","118686","118687","118688","118689","118690","118691","118692","118693","118694","118695","118696","118697","118698","118699","118700","118701","118702","118703","118704","167167","181375","181377","181379","184227","184914","187915","187916","187917","193022","193023","193025","193026","193027","193028","197982","197983","197997","197998","197999","198001","198002","198003","198004","198005","198984","202776","206405","206652","206656","206657","207123","207125","207970","207971","208476","208480","208537","208539","208559","208771","210691","213129","213460","230075","237324","248104","248492","248493","248494","248495","248497","248499","248500","248501","85403","87492","87494","88152","88153","90419","90420","90421","90422","90423","90424","90427"],"!UpdateThirdPartyData":["100800","109039","109042","109043","109045","109046","109047","109048","109049","109050","109051","109052","109053","109054","109055","109060","109130","109131","109133","109145","109160","109177","109190","109350","109352","110753","110756","110763","110778","110779","110780","110782","110783","110786","110788","110789","110792","110795","110798","110799","111594","111596","111597","111757","111760","111764","111766","111780","111783","111960","111961","111962","111963","111966","111967","111968","111969","111970","111980","111981","111982","111984","111985","111986","112842","112853","112856","112858","112860","112861","112862","112863","112865","112870","112871","112872","112903","112904","112961","112962","112963","112964","112965","112966","112967","112968","112969","112970","112972","112973","112974","112976","112979","112980","112981","112995","112996","112997","112998","112999","113002","113003","113007","113009","113012","113013","113015","113018","113020","113022","113023","113024","113025","113026","113027","113028","113029","113032","113034","113036","113039","113042","113045","113047","113051","113054","113056","113057","113061","113062","113063","113064","113065","113102","113106","113109","113110","113111","113171","113172","113174","113175","113176","113177","113180","113181","113183","113185","113211","113213","113214","113215","113232","113233","113234","113237","113238","113239","113240","113241","113242","113244","115627","115639","115640","115827","115828","115829","115830","115831","115832","115834","115835","115836","115837","115839","115842","115959","123554","123555","125057","133921","135504","147354","166684","189930","198591","85008","85009","85010","85011","85012","85014","85015","85016","85017","87508","87509","87517","87522","87523","87524","87601","87602","87603","87604","87605","87606","87608","87611","87612","87613","87614","87615","87616","87617","88973","88975","89855","89856","89857","89858","89859","89860","89861","89862","89863","89864","89865","89866","89867","90029","90030","90678","90679","90680","90681","90682","90683","90740","90741","90742","90745","90749","90752","90753","90754","90755","90756","90757","90758","90759","90760","92377","92380","98842","98843","98954","99352"],LinkClick:["140205"],Pageview:["10000000","10000001","10000002","10000003","10000004","10000005","10000006","10000007","10000008","10000010","10000011","10000012","10000013","10000014","10000015","10000016","10000017","10000018","10000019","10000020","10000021","10000022","10000023","10000024","10000025","10000026","10000035","10000036","10000037","10000038","10000039","10000040","10000041","10000042","10000043","10000044","10000045","10000046","10000047","10000048","10000049","10000050","10000051","10000052","10000053","10000054","10000055","10000056","10000057","10000058","10000059","10000060","10000061","10000062","10000063","10000064","10000065","10000066","10000067","10000068","10000069","10000070","10000071","10000072","10000073","10000074","10000075","10000076","10000077","10000078","10000079","10000080","10000081","10000082","10000083","10000084","10000085","10000086","10000087","10000088","10000089","10000090","10000324","10000325","10000327","10000328","10000329","10000330","10000687","10000688","10000689","10000690","10000691","10000692","10000693","10000694","10000695","10000696","10000697","10000698","10000699","10000700","10000701","10000702","10000703","10000704","10000705","10000706","10000707","10000708","10000709","10000710","10000711","10000712","10000713","10000714","10000715","10000716","10000717","10000718","10000719","10000720","10000721","10000722","10000723","10000724","10000725","10000726","10000727","10000728","10000729","10000730","10000731","10000732","10000733","10000734","10000735","10000736","10000737","10000738","10000739","10000740","10000741","10000742","10000743","10000744","10000745","10000746","10000747","10000748","10000749","10000750","10000751","10000752","10000753","10000754","10000755","10000756","10000757","10000758","10000759","10000760","10000761","10000762","10000763","10000764","10000765","10000766","10000767","10000768","10000769","10000770","10000771","10000772","10000773","10000774","10000775","10000776","10000777","10000778","10000779","10000780","10000781","10000782","10000783","10000784","10000785","10000786","10000787","10000788","10000789","10000790","10000791","10000792","10000793","10000794","10000795","10000796","10000797","10000798","10000799","10000800","10000801","10000802","10000803","103313","106853","108459","108461","109017","109500","109501","112844","113078","113080","113083","114090","114091","114092","114959","114960","114961","115031","115032","115033","115303","115304","115305","121451","121924","121926","121927","121928","121929","121930","121931","121932","121933","121934","121935","121936","121937","121938","121939","121940","121941","121942","121943","121944","121945","121946","121947","121948","121949","121950","121951","121952","121953","121954","121955","121956","121957","121958","121959","121960","121961","121962","121963","121964","121965","121966","121967","121968","121969","121970","121971","121972","121973","121974","121975","123554","123783","123885","124301","124302","124303","124320","127658","127872","127873","127875","128345","128347","128348","128349","128352","130647","130672","130673","141089","141090","141091","141092","141093","141094","141095","141096","141097","141098","141099","141100","141101","141102","141103","141104","141105","141106","141107","141108","141109","141110","141111","141112","141113","141114","141115","141116","141117","141118","141119","141120","141121","141122","141123","141124","141125","141126","141127","141128","141129","141130","141131","141132","141133","141134","141135","141136","141137","141138","141139","145919","149425","156468","156469","156470","156471","156472","156473","156474","156475","156476","156477","156602","156603","156604","156605","156606","156607","156608","156609","156610","156611","163181","163182","165534","175336","175337","185469","185612","185614","185615","185616","185617","185618","185619","185621","185622","185625","185626","185627","185630","185634","185635","185636","185637","187096","187097","187098","187099","187100","187101","187102","187103","187104","187107","187108","187109","187111","187112","187113","187114","187115","187116","187117","187118","187120","187122","187124","187125","187127","187130","187133","187134","187135","187136","187137","187138","187140","187141","187143","187144","187146","187149","187155","187157","187158","187159","188044","191656","192429","194778","194783","194784","194785","194786","194787","194788","194789","194796","195993","206405","206504","206664","207965","207972","211011","211012","211013","211014","211015","211016","211017","211018","211019","211020","213131","213132","213133","213135","213137","213138","226456","230348","232348","238172","238174","242265","242266","242267","246178","246737","248104","248676","248677","248678","248679","248680","72374","83650","83654","83657","83722","84413","84677","84733","84734","84739","84740","84747","84748","84749","84750","84751","84754","85302","85593","87314","87317","87421","87422","87487","87488","87492","87493","87497","87500","87502","87503","87504","87505","87510","87511","87512","87513","87514","87515","87516","87519","87520","87591","87592","87594","87595","87596","87597","87598","87599","87600","88974","89152","90583","90584","92383","92384","92385","92386","92387","92388","92389","92390","92391","93351","98423","99355","99356","99357","99358","99359","99360"],PageviewComplete:["130672","130673","206504","237325","84732","85007","85013","87487","87488","87492","87494","87495","87496","87498","87518","87588","88974","89855","90683"],PixelTracking:["102174","102196","141993","141994","154299","177711","177712","177715","177810","177811","177812","183399","192429","83658","83659","84735","84736","84737","84738","84741","84742","84743","84744","84745","84746","84752","84753","85653","87312","87313","87314","87490","87491","87492","87501","87505","87506","87521","87618","87619","87806","95572","95573","95574","95575"],SegmentEntry:["130672","130673","206504","237325","248875","84732","85007","85013","87487","87488","87492","87494","87495","87496","87498","87518","87588","88974","89855","90683"],SegmentExit:["248875"],SlotClicked:["146387","195993","237974","244915","87492","87507"],SlotViewable:["148305","228875"]}),eventsLookup:e=>["Pageview","PageviewComplete","SegmentEntry","PixelTracking","SlotClicked","SlotViewable","LinkClick"],interpretOnlyQueries:e=>({226456:e.i_q(e.i_cw(e.ge(1))),232348:e.i_q(e.i_cw(e.ge(1))),238172:e.i_q(e.i_cw(e.ge(1))),238174:e.i_q(e.i_cw(e.ge(1)))}),literalsLookup:e=>e.frontDecode(\'/art and entertainment/books and literature\\t43\\t/poetry\\t23\\tcomics and animation\\t23\\tdance\\t23\\tmovies and tv\\t36\\t/animated\\t37\\tchildren\\\'s\\t38\\tomedies\\t37\\tdocumentaries\\t37\\treality\\t38\\tomantic comedies\\t37\\ttelevision\\t24\\tusic/music genres/classical music\\t42\\topera\\t42\\tpop music\\t42\\tsoundtracks\\t23\\tshows and events/classical concert\\t23\\ttheatre\\t2\\tutomotive and vehicles/cars/luxury\\t25\\tmotorcycles\\t1\\tbusiness and industrial\\t24\\t/fashion industry\\t1\\teducation/adult education\\t11\\tlanguage learning\\t1\\tfamily and parenting\\t2\\tinance/accounting and auditing/tax preparation and planning\\t9\\tfinancial news\\t2\\tood and drink/dining out\\t16\\tfood/fruits and vegetables\\t21\\tsalads\\t16\\thealthy eating\\t16\\tvegan\\t19\\tetarian\\t1\\thealth and fitness\\t2\\tobbies and interests/arts and crafts/photography\\t23\\tbirdwatching\\t3\\tme and garden/gardening and landscaping\\t17\\thome improvement and repair\\t2\\tp/rent\\t4\\tsale\\t1\\tldp/sale\\t4\\tqv/rent\\t7\\tsale\\t1\\tpets/birds\\t6\\tlarge animals\\t1\\tsociety/crime\\t9\\tdating\\t2\\tports/diving\\t8\\thorse racing\\t13\\ts\\t8\\tolympics/paralympic games\\t8\\tskiing\\t8\\tvolleyball/beach volleyball\\t2\\trplist/rent\\t9\\tsale\\t4\\tmap/rent\\t8\\tsale\\t2\\ttyle and fashion/beauty/cosmetics\\t1\\ttechnology and computing/consumer electronics/tv and video equipment\\t\\t10940\\t3\\t63\\t3\\t74\\t1\\t1001\\t4\\t4\\t4\\t5\\t3\\t40\\t2\\t354\\t4\\t6\\t4\\t7\\t4\\t8\\t4\\t9\\t3\\t60\\t4\\t1\\t4\\t2\\t4\\t3\\t4\\t4\\t2\\t426\\t4\\t7\\t4\\t8\\t2\\t501\\t3\\t54\\t3\\t90\\t2\\t735\\t3\\t56\\t3\\t83\\t3\\t93\\t1\\t2401\\t3\\t11\\t3\\t20\\t4\\t8\\t3\\t43\\t4\\t6\\t3\\t58\\t3\\t61\\t3\\t83\\t4\\t9\\t3\\t91\\t2\\t524\\t3\\t31\\t4\\t3\\t3\\t40\\t4\\t6\\t3\\t64\\t4\\t6\\t4\\t7\\t3\\t70\\t4\\t1\\t3\\t82\\t4\\t3\\t3\\t90\\t2\\t721\\t4\\t9\\t3\\t40\\t3\\t80\\t4\\t5\\t1\\t3052\\t3\\t72\\t4\\t7\\t2\\t141\\t3\\t58\\t4\\t9\\t2\\t2\\t2\\t332\\t2\\t460\\t4\\t4\\t3\\t85\\t1\\t47\\t1\\t8036\\t3\\t41\\t4\\t2\\t3\\t55\\t4\\t8\\t3\\t77\\t2\\t201\\t3\\t10\\t4\\t6\\t3\\t55\\t2\\t330\\t4\\t1\\t3\\t53\\t2\\t661\\t2\\t951\\t\\t27534\\t2\\t826\\t4\\t8\\t3\\t30\\t4\\t4\\t4\\t7\\t3\\t58\\t3\\t60\\t4\\t3\\t3\\t71\\t4\\t9\\t3\\t83\\t4\\t9\\t3\\t92\\t2\\t909\\t3\\t62\\t1\\t8513\\t3\\t30\\t4\\t8\\t3\\t51\\t3\\t80\\t4\\t6\\t3\\t90\\t\\t386\\t\\t44608\\t3\\t12\\t3\\t26\\t3\\t32\\t3\\t41\\t4\\t6\\t4\\t7\\t3\\t57\\t3\\t62\\t4\\t9\\t3\\t70\\t3\\t88\\t2\\t702\\t4\\t4\\t4\\t5\\t4\\t6\\t4\\t7\\t4\\t8\\t3\\t10\\t4\\t8\\t3\\t21\\t3\\t30\\t1\\t8418\\t3\\t29\\t3\\t30\\t4\\t3\\t4\\t6\\t3\\t42\\t4\\t9\\t3\\t51\\t3\\t60\\t2\\t616\\t3\\t49\\t2\\t831\\t3\\t41\\t1\\t96\\t\\t50027\\t3\\t44\\t4\\t7\\t4\\t9\\t3\\t61\\t2\\t104\\t4\\t6\\t3\\t12\\t3\\t39\\t3\\t50\\t4\\t1\\t4\\t3\\t3\\t61\\t4\\t8\\t4\\t9\\t3\\t71\\t2\\t207\\t3\\t10\\t4\\t1\\t3\\t28\\t4\\t9\\t3\\t37\\t3\\t40\\t3\\t57\\t3\\t65\\t2\\t320\\t4\\t1\\t1\\t2031\\t4\\t2\\t4\\t3\\t3\\t54\\t3\\t79\\t2\\t203\\t4\\t5\\t4\\t8\\t4\\t9\\t3\\t21\\t4\\t2\\t4\\t7\\t4\\t8\\t3\\t37\\t3\\t53\\t2\\t301\\t4\\t5\\t3\\t10\\t4\\t8\\t3\\t38\\t3\\t47\\t2\\t404\\t2\\t501\\t3\\t33\\t3\\t51\\t4\\t3\\t4\\t4\\t3\\t63\\t3\\t70\\t3\\t88\\t1\\t5PLUS\\t1\\t96\\t\\t80022\\t2\\t504\\t3\\t13\\t3\\t24\\t4\\t8\\t3\\t34\\t4\\t7\\t4\\t8\\t3\\t46\\t4\\t9\\t3\\t50\\t2\\t601\\t4\\t3\\t3\\t10\\t4\\t1\\t4\\t2\\t4\\t5\\t3\\t21\\t4\\t2\\t4\\t4\\t3\\t31\\t4\\t4\\t3\\t42\\t4\\t3\\t4\\t4\\t4\\t5\\t4\\t6\\t4\\t8\\t4\\t9\\t3\\t50\\t4\\t2\\t4\\t4\\t2\\t729\\t3\\t32\\t3\\t42\\t3\\t54\\t2\\t817\\t1\\t1039\\t3\\t50\\t4\\t4\\t4\\t8\\t3\\t64\\t1\\t2082\\t\\t90630\\t2\\t720\\t3\\t40\\t1\\t2530\\t2\\t602\\t4\\t6\\t3\\t10\\t4\\t4\\t4\\t8\\t3\\t30\\t4\\t7\\t3\\t47\\t4\\t9\\t3\\t51\\t4\\t3\\t4\\t5\\t4\\t6\\t3\\t76\\t4\\t7\\t3\\t83\\t2\\t704\\t4\\t5\\t4\\t7\\t3\\t82\\t2\\t806\\t4\\t7\\t3\\t21\\t4\\t3\\t3\\t68\\t3\\t70\\t4\\t9\\t3\\t80\\t4\\t1\\t4\\t2\\t4\\t3\\t4\\t6\\t1\\t5206\\t3\\t15\\t3\\t31\\t2\\t304\\t3\\t30\\t4\\t6\\t4\\t7\\t3\\t66\\t3\\t76\\t4\\t7\\t3\\t85\\t1\\t7321\\t4\\t2\\t4\\t9\\t3\\t33\\t4\\t6\\t3\\t45\\t4\\t8\\t3\\t50\\t4\\t5\\t3\\t74\\t4\\t7\\t3\\t86\\t4\\t9\\t2\\t446\\t4\\t8\\t3\\t56\\t2\\t759\\t1\\t8304\\t\\tAK\\t1\\tL\\t1\\tR\\t1\\tZ\\t1\\tlabama\\t3\\tska\\t1\\trizona\\t2\\tkansas\\t\\tBOATRV\\t\\tCO\\t1\\tT\\t1\\tolorado\\t\\tDC\\t1\\tE\\t1\\telaware\\t\\tFIN/CALC/RENTBUY\\t2\\tXER\\t1\\tL\\t1\\tlorida\\t\\tGA\\t1\\tOLF\\t1\\tREEN\\t1\\teorgia\\t\\tHI\\t1\\tawaii\\t\\tIA\\t1\\tD\\t1\\tL\\t1\\tN\\t1\\tdaho\\t1\\tllinois\\t1\\tndiana\\t1\\towa\\t\\tKS\\t1\\tY\\t1\\tansas\\t1\\tentucky\\t\\tLA\\t1\\tDP (Submitted lead)\\t4\\tLead Form (Clicked CSMA checkbox)\\t1\\tUXKITCH\\t\\tMA\\t1\\tD\\t1\\tE\\t1\\tI\\t1\\tN\\t1\\tO\\t1\\tS\\t1\\tT\\t1\\tYHOME\\t1\\taine\\t2\\tryland\\t1\\tichigan\\t2\\tnnesota\\t2\\tssouri\\t1\\tontana\\t\\tNC\\t1\\tD\\t1\\tE\\t1\\tH\\t1\\tJ\\t1\\tM\\t1\\tV\\t1\\tY\\t1\\tebraska\\t2\\tvada\\t2\\tw York\\t1\\torth Carolina\\t\\tOH\\t1\\tK\\t1\\tR\\t1\\thio\\t1\\tklahoma\\t1\\tregon\\t\\tPA\\t2\\tDSPLIT\\t1\\tOOL\\t1\\tennsylvania\\t\\tRDC Submitted Lead\\t1\\tI\\t1\\tecruitment\\t\\tSC\\t1\\tD\\t1\\tOLAR\\t1\\tPA\\t1\\tRP\\t3\\t Moving Cost Calc (Submitted moving lead)\\t1\\toccer\\t\\tTLC\\t1\\tN\\t1\\tX\\t2\\tTLDP1\\t1\\texas\\t\\tUT\\t1\\ttah\\t\\tVA\\t1\\tI\\t1\\tT\\t1\\termont\\t1\\tirginia\\t\\tWA\\t2\\tTER\\t1\\tI\\t1\\tV\\t1\\tY\\t1\\tisconsin\\t1\\tyoming\\t\\tadvertising\\t1\\tirline\\t3\\tport\\t\\tbeach\\t1\\tlog\\t4\\t2/advice/rent\\t6\\tvideo/rent\\t\\tcfo\\t3\\t journal\\t1\\tio\\t3\\t journal\\t1\\tmo\\t3\\t today\\t1\\tonst\\t1\\truise\\t1\\tustomer experience\\t\\texecutive\\t\\tfifa\\t2\\tn\\t1\\tore\\t\\thiring\\t1\\toliday\\t7\\ts\\t2\\ttel\\t1\\tp\\t1\\tttps://www.realtor.com/mortgage/tools/rent-or-buy-calculator\\t\\tiab_2.0\\t1\\tmprv\\t1\\tnformation technology\\t\\tldp\\t3\\t/rent\\t3\\tqv/rent\\t1\\teaders\\t7\\thip\\t\\tmessi\\t1\\tls\\t\\tnh\\t\\tpassenger\\t1\\tremier league\\t\\trdc\\t3\\t2/ldp/rent\\t3\\t3/hp/rent\\t5\\tldpqv/rent\\t5\\tsrplist/rent\\t8\\tmap/rent\\t1\\tealtor.com/sell ("Compare Agents")_TADS-615\\t2\\tcruiting\\t7\\tment\\t2\\tnt\\t2\\tsort\\t1\\tonaldo\\t\\tsale\\t1\\tell\\t1\\toccer\\t1\\trp\\t1\\ttaffers\\t\\ttour\\t1\\travel\\t\\tvacation\\t\\tworld cup\\t1\\tww.barrons.com\\t4\\tmansionglobal.com\\t4\\twsj.com\'),propertiesLookup:e=>[["taxonomy"],["value"],["classifications_watson","taxonomy_labels"],["geo_info","province"],["realtor","st"],["realtor","unitName"],["trackingEventName"],["geo_info","postal_code"],["segment_number"],["client","url"],["realtor","pageType"],["realtor","searchedMaxPrice"],["client","domain"],["realtor","searchedMinPrice"],["creditScore"],["realtor","postmove"],["realtor","propertyFeatures"],["realtor","searchedPropertyFeaturesList"],["realtor","premove"],["article","headline"],["article","keywords"],["article","tag"],["client","title"],["documentTitle"],["geo_info","city"],["keywords"],["realtor","searchedBathroom"],["realtor","searchedBedroom"],["section"],["subsection"],["realtor","propertyType"],["taxonomy","primary_ALL"],["campaign_id"],["line_item_id"],["realtor","lotSizeAcres"],["realtor","searchedGarage"],["pageUri"],["realtor","bedrooms"],["realtor","device"],["realtor","loggedIn"],["realtor","searchedCityState"],["search","keywords"],["slot","ad_unit_path"]],queries:e=>({1e7:e.r(85,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"137"),e.y_(0,502)),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"464"),e.y_(0,502)),"/education/graduate school",1,2,"/science",1,1,1),10000001:e.r(76,"/automotive and vehicles","1"),10000002:e.r(78,0,2,["properties","contextual","classifications","categories"],e.e_(1,"42"),e.y_(0,502)),10000003:e.r(78,20,"/finance",["properties","contextual","classifications","categories"],e.e_(1,"52"),e.y_(0,502)),10000004:e.r(78,"/careers",22,["properties","contextual","classifications","categories"],e.e_(1,"123"),e.y_(0,502)),10000005:e.r(77,"/education",6),10000006:e.r(85,e.pc_(2,"/society/social institution/marriage"),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"186"),e.y_(0,502)),24,1,2,46,1,1,1),10000007:e.r(83,1,3,12,13,16,17,"/art and entertainment/visual art and design/art museums and galleries","/art and entertainment/visual art and design/arts education","/art and entertainment/visual art and design/performance art","/art and entertainment/visual art and design/restoration","/art and entertainment/visual art and design/sculpture","/education/art history",34,"201"),10000008:e.r(85,e.pc_(2,"/food and drink/food and grocery retailers"),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"210"),e.y_(0,502)),"/business and industrial/food industry",1,2,"/food and drink",1,1,1),10000010:e.r(78,30,33,["properties","contextual","classifications","categories"],e.e_(1,"223"),e.y_(0,502)),10000011:e.r(76,"/hobbies and interests","239"),10000012:e.r(76,"/home and garden","274"),10000013:e.r(78,"/art and entertainment/movies",4,["properties","contextual","classifications","categories"],e.e_(1,"324"),e.y_(0,502)),10000014:e.r(76,"/art and entertainment/music","338"),10000015:e.r(81,"/business and industrial/business news",26,"/law, govt and politics","/news",45,"/sports/sports news","/technology and computing/tech news","379"),10000016:e.r(85,e.pc_(2,"/finance/personal finance"),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"391"),e.y_(0,502)),"/finance/bank",1,2,26,1,1,1),10000017:e.r(76,"/pets","422"),10000018:e.r(80,"/art and entertainment/celebrity fan and gossip",9,11,14,"432"),10000019:e.r(76,"/real estate","441"),10000020:e.r(76,"/shopping","473"),10000021:e.r(78,33,"/sports",["properties","contextual","classifications","categories"],e.e_(1,"483"),e.y_(0,502)),10000022:e.r(78,21,"/style and fashion",["properties","contextual","classifications","categories"],e.e_(1,"552"),e.y_(0,502)),10000023:e.r(85,e.pc_(2,"/technology and computing"),e.ref(2),"/business and industrial/automation",1,2,"/science/computer science",1,1,1),10000024:e.r(80,"/art and entertainment/movies and tv/movies/reviews",11,4,58,"640"),10000025:e.r(76,"/travel","653"),10000026:e.r(78,"/hobbies and interests/games/video and computer games","/technology and computing/consumer electronics/game systems and consoles",["properties","contextual","classifications","categories"],e.e_(1,"680"),e.y_(0,502)),10000035:e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,"/science/engineering"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/science/physics"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"105"),e.y_(0,502)),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(2),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"471"),e.y_(0,502)),e.ge(1),1),2592e6)])),10000036:e.r(76,"/automotive and vehicles/buying and selling cars","30"),10000037:e.r(76,"/automotive and vehicles/motor shows","36"),10000038:e.r(78,"/automotive and vehicles/cars/hybrid","/automotive and vehicles/electric vehicles",["properties","contextual","classifications","categories"],e.e_(1,"22"),e.y_(0,502)),10000039:e.r(76,19,"27"),10000040:e.r(76,"/automotive and vehicles/cars/performance vehicles","24"),10000041:e.r(78,2,"/art and entertainment/comics and animation/comics",["properties","contextual","classifications","categories"],e.e_(1,"46"),e.y_(0,502)),10000042:e.r(76,"/business and industrial/business operations","53"),10000043:e.r(76,46,"188"),10000044:e.r(76,24,"192"),10000045:e.r(76,3,"203"),10000046:e.r(76,"/art and entertainment/visual art and design","204"),10000047:e.r(76,"/food and drink/beverages/alcoholic beverages","211"),10000048:e.r(76,"/food and drink/barbecues and grilling","215"),10000049:e.r(78,"/food and drink/desserts and baking","/food and drink/food and grocery retailers/bakeries",["properties","contextual","classifications","categories"],e.e_(1,"217"),e.y_(0,502)),10000050:e.r(78,27,"/food and drink/food/fast food",["properties","contextual","classifications","categories"],e.e_(1,"218"),e.y_(0,502)),10000051:e.r(76,"/food and drink/food allergies","219"),10000052:e.r(80,28,29,"/food and drink/health and lowfat cooking",30,"221"),10000053:e.r(76,32,"213"),10000054:e.r(78,"/health and fitness/exercise","/health and fitness/sports medicine",["properties","contextual","classifications","categories"],e.e_(1,"225"),e.y_(0,502)),10000055:e.r(76,"/health and fitness/men\'s health","228"),10000056:e.r(76,"/health and fitness/nutrition","229"),10000057:e.r(76,"/health and fitness/women\'s health","238"),10000058:e.r(88,"284"),10000059:e.r(76,"/art and entertainment/movies and tv/action","325"),10000060:e.r(76,5,"329"),10000061:e.r(76,6,"334"),10000062:e.r(76,"/art and entertainment/movies and tv/horror","336"),10000063:e.r(76,45,"380"),10000064:e.r(78,"/law, govt and politics/law enforcement","/law, govt and politics/legal issues",["properties","contextual","classifications","categories"],e.e_(1,"383"),e.y_(0,502)),10000065:e.r(76,"/news/national news","385"),10000066:e.r(79,"/law, govt and politics/government","/law, govt and politics/politics",3),10000067:e.r(76,"/science/weather","390"),10000068:e.r(76,43,"423"),10000069:e.r(76,"/pets/cats","424"),10000070:e.r(76,"/pets/dogs","425"),10000071:e.r(76,44,"427"),10000072:e.r(76,"/pets/reptiles","429"),10000073:e.r(76,"/sports/football","484"),10000074:e.r(76,"/sports/baseball","545"),10000075:e.r(76,"/sports/basketball","547"),10000076:e.r(76,"/sports/bodybuilding","549"),10000077:e.r(76,"/sports/bowling","550"),10000078:e.r(76,"/sports/boxing","485"),10000079:e.r(76,"/sports/bicycling","492"),10000080:e.r(76,"/sports/fishing","511"),10000081:e.r(76,"/sports/golf","512"),10000082:e.r(76,"/sports/hunting and shooting","514"),10000083:e.r(76,"/sports/rugby","527"),10000084:e.r(76,51,"531"),10000085:e.r(76,"/sports/tennis","539"),10000086:e.r(76,"/sports/walking","542"),10000087:e.r(80,"/business and industrial/tanning","/style and fashion/beauty",57,"/style and fashion/beauty/cosmetology and beauty professionals","553"),10000088:e.r(78,"/style and fashion/beauty/tattoos","/style and fashion/body art",["properties","contextual","classifications","categories"],e.e_(1,"574"),e.y_(0,502)),10000089:e.r(76,"/style and fashion/men\'s fashion","579"),10000090:e.r(76,"/technology and computing/consumer electronics","632"),10000324:e.r(76,20,"90"),10000325:e.r(84,"/business and industrial/company/merger and acquisition","/business and industrial/company/annual report","/business and industrial/company/bankruptcy","/business and industrial/company/earnings","/business and industrial/company/joint venture","80"),10000327:e.r(76,"/finance/personal finance/debt management","405"),10000328:e.r(76,"/finance/personal finance/insurance","398"),10000329:e.r(85,e.pc_(2,25),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"415"),e.y_(0,502)),"/finance/accounting and auditing/billing and invoicing",1,2,"/finance/accounting and auditing/bookkeeping",1,1,1),10000330:e.r(76,"/finance/investing","410"),10000687:e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,"/science/social science"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(3),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(6),e.ge(1),1),2592e6)])),10000688:e.r(77,23,5),10000689:e.r(78,19,"/automotive and vehicles/scooters and mopeds",["properties","contextual","classifications","categories"],e.e_(1,"29"),e.y_(0,502)),10000690:e.r(82,"/automotive and vehicles/vehicle brands/fiat","/automotive and vehicles/vehicle brands/ford","/automotive and vehicles/vehicle brands/honda","/automotive and vehicles/vehicle brands/hyundai","/automotive and vehicles/vehicle brands/nissan","/automotive and vehicles/vehicle brands/peugeot","/automotive and vehicles/vehicle brands/subaru","/automotive and vehicles/vehicle brands/suzuki","17"),10000691:e.r(83,18,"/automotive and vehicles/vehicle brands/audi","/automotive and vehicles/vehicle brands/bentley","/automotive and vehicles/vehicle brands/ferrari","/automotive and vehicles/vehicle brands/lamborghini","/automotive and vehicles/vehicle brands/land rover","/automotive and vehicles/vehicle brands/maserati","/automotive and vehicles/vehicle brands/mercedes-benz","/automotive and vehicles/vehicle brands/porsche","/automotive and vehicles/vehicle brands/rolls-royce","/automotive and vehicles/vehicle brands/toyota","/automotive and vehicles/vehicle brands/volkswagen","/automotive and vehicles/vehicle brands/volvo","23"),10000692:e.r(76,"/automotive and vehicles/cars/coupe","9"),10000693:e.r(78,"/automotive and vehicles/auto parts","/automotive and vehicles/auto repair",["properties","contextual","classifications","categories"],e.e_(1,"32"),e.y_(0,502)),10000694:e.r(76,"/automotive and vehicles/cars","25"),10000695:e.r(76,"/automotive and vehicles/cars/sedan","4"),10000696:e.r(76,"/art and entertainment/books and literature/children\'s books","45"),10000697:e.r(76,1,"49"),10000698:e.r(78,"/careers/career advice","/careers/resume writing and advice",["properties","contextual","classifications","categories"],e.e_(1,"125"),e.y_(0,502)),10000699:e.r(76,"/careers/telecommuting","130"),10000700:e.r(76,"/careers/career planning","126"),10000701:e.r(78,"/careers/job fairs","/careers/job search",["properties","contextual","classifications","categories"],e.e_(1,"128"),e.y_(0,502)),10000702:e.r(76,22,"133"),10000703:e.r(76,"/education/distance learning","148"),10000704:e.r(76,"/education/special education","136"),10000705:e.r(79,0,23,5),10000706:e.r(85,e.pc_(2,"/education/teaching and classroom resources/school supplies"),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"146"),e.y_(0,502)),"/education/homework and study tips",1,2,"/education/teaching and classroom resources/lesson plans",1,1,1),10000707:e.r(76,34,"206"),10000708:e.r(76,17,"209"),10000709:e.r(76,13,"208"),10000710:e.r(80,30,31,32,"/pets/animal welfare","212"),10000711:e.r(76,"/food and drink/beverages/non alcoholic beverages","222"),10000712:e.r(85,e.pc_(2,32),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"220"),e.y_(0,502)),"/food and drink/kosher food",1,2,31,1,1,1),10000713:e.r(76,"/food and drink/cuisines","214"),10000714:e.r(82,"/food and drink/food/condiments and dressings","/food and drink/food/frozen food",28,"/food and drink/food/grains and pasta","/food and drink/food/herbs and spices",29,"/food and drink/food/snack foods","/food and drink/gastronomy/slow food","216"),10000715:e.r(76,"/health and fitness/aging","230"),10000716:e.r(76,"/health and fitness/weight loss","231"),10000717:e.r(76,"/hobbies and interests/arts and crafts","248"),10000718:e.r(78,"/hobbies and interests/collecting","/hobbies and interests/collecting/stamps and coins",["properties","contextual","classifications","categories"],e.e_(1,"261"),e.y_(0,502)),10000719:e.r(76,"/hobbies and interests/games/board games and puzzles","269"),10000720:e.r(76,"/hobbies and interests/magic and illusion","241"),10000721:e.r(76,"/art and entertainment/music/musical instruments","243"),10000722:e.r(78,35,43,["properties","contextual","classifications","categories"],e.e_(1,"259"),e.y_(0,502)),10000723:e.r(78,"/art and entertainment/radio","/technology and computing/consumer electronics/radios",["properties","contextual","classifications","categories"],e.e_(1,"245"),e.y_(0,502)),10000724:e.r(78,"/art and entertainment/books and literature/fan fiction","/art and entertainment/books and literature/science fiction",["properties","contextual","classifications","categories"],e.e_(1,"246"),e.y_(0,502)),10000725:e.r(76,"/home and garden/appliances","277"),10000726:e.r(76,37,"280"),10000727:e.r(72,e.tw(e.cb(0,e.pc_(2,"/art and entertainment/visual art and design/drawing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/art and entertainment/visual art and design/painting"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/hobbies and interests/arts and crafts/woodworking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,37),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/home and garden/remodeling and construction"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"276"),e.y_(0,502)),e.ge(1),1),2592e6),e.pc_(2,"/art and entertainment/visual art and design/design/interior design"),1,1),10000728:e.r(88,"275"),10000729:e.r(84,"/home and garden/interior decorating","/home and garden/bed and bath/bathroom","/home and garden/bed and bath/bedroom","/home and garden/home furnishings","/home and garden/home furnishings/lamps and lighting","283"),10000730:e.r(76,"/art and entertainment/movies and tv/independent","328"),10000731:e.r(76,8,"332"),10000732:e.r(76,"/art and entertainment/movies and tv/dramas","333"),10000733:e.r(76,10,"326"),10000734:e.r(86,10,"330"),10000735:e.r(87,"369"),10000736:e.r(87,"378"),10000737:e.r(76,"/art and entertainment/music/music genres/jazz","357"),10000738:e.r(76,12,"345"),10000739:e.r(76,"/art and entertainment/music/music genres/blues","360"),10000740:e.r(76,"/art and entertainment/music/music genres/country music","350"),10000741:e.r(76,"/art and entertainment/music/music genres/hip hop","355"),10000742:e.r(76,14,"339"),10000743:e.r(78,"/art and entertainment/music/music genres/electronic music",14,["properties","contextual","classifications","categories"],e.e_(1,"351"),e.y_(0,502)),10000744:e.r(85,e.pc_(2,16),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"346"),e.y_(0,502)),12,1,2,13,1,1,1),10000745:e.r(76,"/news/local news","384"),10000746:e.r(76,"/news/international news","382"),10000747:e.r(76,"/finance/personal finance/financial planning/retirement and pension","416"),10000748:e.r(78,25,"/finance/personal finance/financial planning",["properties","contextual","classifications","categories"],e.e_(1,"396"),e.y_(0,502)),10000749:e.r(89,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"497"),e.y_(0,502))),10000750:e.r(76,"/pets/aquariums","426"),10000751:e.r(86,10,"440"),10000752:e.r(76,"/real estate/architects","445"),10000753:e.r(76,"/real estate/apartments","442"),10000754:e.r(80,"/business and industrial/agriculture and forestry","/business and industrial/agriculture and forestry/organic farming",35,44,"449"),10000755:e.r(76,"/real estate/buying and selling homes","451"),10000756:e.r(76,52,"548"),10000757:e.r(76,"/sports/water polo","543"),10000758:e.r(76,"/sports/table tennis and ping-pong","538"),10000759:e.r(76,"/sports/softball","535"),10000760:e.r(78,"/sports/volleyball",52,["properties","contextual","classifications","categories"],e.e_(1,"541"),e.y_(0,502)),10000761:e.r(76,50,"494"),10000762:e.r(76,"/sports/rowing","526"),10000763:e.r(76,"/sports/badminton","534"),10000764:e.r(76,"/sports/sailing","530"),10000765:e.r(89,e.pc_(2,"/sports/polo")),10000766:e.r(76,"/sports/skating/figure skating","510"),10000767:e.r(76,"/sports/cheerleading","486"),10000768:e.r(76,"/sports/auto racing","518"),10000769:e.r(76,"/sports/weightlifting","544"),10000770:e.r(76,"/sports/gymnastics","513"),10000771:e.r(76,"/sports/swimming","537"),10000772:e.r(76,"/sports/running and jogging","540"),10000773:e.r(78,"/sports/hockey","/sports/hockey/field hockey",["properties","contextual","classifications","categories"],e.e_(1,"509"),e.y_(0,502)),10000774:e.r(76,47,"495"),10000775:e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,"/sports/bicycling/mountain biking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/canoeing and kayaking"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/climbing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,47),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/go kart"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/parachuting"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/scuba diving"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/skating"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,51),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/skiing/waterskiing"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/snowboarding"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,"/sports/surfing and bodyboarding"),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"498"),e.y_(0,502)),e.ge(1),1),2592e6)])),10000776:e.r(76,"/sports/wrestling","546"),10000777:e.r(78,"/sports/olympics",50,["properties","contextual","classifications","categories"],e.e_(1,"521"),e.y_(0,502)),10000778:e.r(76,"/sports/martial arts","520"),10000779:e.r(76,"/sports/cricket","491"),10000780:e.r(76,"/sports/soccer","533"),10000781:e.r(81,"/art and entertainment/shows and events",18,21,27,"/home and garden/luxury homes","/style and fashion/fashion designers","/style and fashion/luxury goods","576"),10000782:e.r(76,"/style and fashion/beauty/hair care","590"),10000783:e.r(85,e.pc_(2,"/style and fashion/jewelry"),e.af_u(["properties","contextual","classifications","categories"],e.e_(1,"555"),e.y_(0,502)),"/style and fashion/accessories",1,2,57,1,1,1),10000784:e.r(76,"/style and fashion/clothing","566"),10000785:e.r(76,"/business and industrial/automation/robotics","638"),10000786:e.r(76,"/science/computer science/artificial intelligence","597"),10000787:e.r(78,8,58,["properties","contextual","classifications","categories"],e.e_(1,"648"),e.y_(0,502)),10000788:e.r(78,9,58,["properties","contextual","classifications","categories"],e.e_(1,"651"),e.y_(0,502)),10000789:e.r(86,58,"646"),10000790:e.r(78,4,58,["properties","contextual","classifications","categories"],e.e_(1,"647"),e.y_(0,502)),10000791:e.r(78,5,58,["properties","contextual","classifications","categories"],e.e_(1,"641"),e.y_(0,502)),10000792:e.r(78,6,58,["properties","contextual","classifications","categories"],e.e_(1,"645"),e.y_(0,502)),10000793:e.r(76,"/travel/tourist destinations/seaside resort","673"),10000794:e.r(76,"/travel/tourist destinations/africa","656"),10000795:e.r(76,"/travel/tourist facilities/camping","677"),10000796:e.r(76,"/travel/tourist destinations/south america","662"),10000797:e.r(76,"/travel/transports/road travel/road accident","670"),10000798:e.r(76,"/travel/tourist destinations/japan","657"),10000799:e.r(76,"/travel/tourist destinations/australia and new zealand","658"),10000800:e.r(84,"/travel/tourist destinations/italy","/travel/tourist destinations/eastern europe","/travel/tourist destinations/europe","/travel/tourist destinations/france","/travel/tourist destinations/greece","659"),10000801:e.r(76,"/travel/specialty travel/adventure travel","665"),10000802:e.r(76,"/travel/business travel","676"),10000803:e.r(76,"/travel/traveling with kids","666"),100800:e.r(51,"6692","100800","eyeota","35556","100800","liveramp_Experian","1004259159","100800"),102174:e.r(118,3,6,"FTHB_eBook_English"),102196:e.r(118,3,6,"FTHB_eBook_Espanol"),103313:e.r(118,0,10,"REALTOR.COM/ESPANOL"),103324:e.r(96,"2p_Realtor_Transact_Model","103324"),103327:e.r(97,"2p_Realtor_Transact_Model","103327"),106853:e.q(e.cb(0,e.a([e.pn(3,"California"),e.ps(40,"_CA")]),e.ge(1),1)),108459:e.r(12,0,24,"Atlanta"),108461:e.r(16,1,1,e.bsc_(3,["jdu5/UnS"]),24,"Wilmington"),109017:e.r(25,1,1,12,"realtor"),109039:e.r(53,"300304299","109039","300300099","109039"),109042:e.r(55,"300728699","109042","300615699","109042","300617499","109042"),109043:e.r(56,"300343499","109043","1212","109043","1211","109043","300343399","109043"),109045:e.r(110,"liveramp_PlaceIQ","1002443896",!1,"109045"),109046:e.r(53,"300257199","109046","300336299","109046"),109047:e.r(55,"300350399","109047","300396199","109047","1278","109047"),109048:e.r(56,"300392699","109048","300350499","109048","300350399","109048","300574199","109048"),109049:e.r(54,"10412","109049","300072599","109049","liveramp_Acxiom","300324399","109049","liveramp_Acxiom","300526799","109049","liveramp_Acxiom","300072499","109049","liveramp_Acxiom","300309599","109049","liveramp_Acxiom","300321399","109049","liveramp_Acxiom","300321499","109049","liveramp_Acxiom","300322699","109049","liveramp_Acxiom","300611599","109049","liveramp_Acxiom","300309199","109049","liveramp_Acxiom","300309099","109049","liveramp_Acxiom","300309399","109049","liveramp_Acxiom","300309499","109049"),109050:e.r(110,"liveramp_Epsilon","1000462956",!1,"109050"),109051:e.r(110,"liveramp_Epsilon","1000462026",!1,"109051"),109052:e.r(110,"liveramp_Epsilon","1000462016",!1,"109052"),109053:e.r(110,"liveramp_PlaceIQ","1002443656",!1,"109053"),109054:e.r(110,"liveramp_PlaceIQ","1002443666",!1,"109054"),109055:e.r(61,"1000987329","109055","1000987319","109055"),109060:e.r(40,"liveramp_Acxiom","300303099",!1,"109060","liveramp_Acxiom","1292",!1,"109060","liveramp_Acxiom","300302799",!1,"109060","liveramp_Acxiom","300178799",!1,"109060","liveramp_Acxiom","300341399",!1,"109060","liveramp_Acxiom","300301199",!1,"109060","liveramp_Acxiom","10408",!1,"109060","liveramp_Acxiom","300340799",!1,"109060"),109130:e.r(110,"liveramp_PlaceIQ","1002441156",!1,"109130"),109131:e.r(110,"liveramp_PlaceIQ","1002442936",!1,"109131"),109133:e.r(110,"liveramp_PlaceIQ","1002442946",!1,"109133"),109145:e.r(61,"1000993939","109145","1000994269","109145"),109160:e.r(62,"1000995319","109160","1000987269","109160","1000987279","109160","1000993479","109160"),109177:e.r(50,"liveramp_Epsilon","1000994029","109177","liveramp_Epsilon","1000993239",!1,"109177","liveramp_Epsilon","1000997889",!1,"109177","liveramp_Epsilon","1000996929",!1,"109177","liveramp_Epsilon","1000997879",!1,"109177","liveramp_Epsilon","1000994359",!1,"109177"),109190:e.r(110,"liveramp_PlaceIQ","1002441126",!1,"109190"),109350:e.r(63,"1000997889","109350","1000992969","109350","1000992999","109350","1000992989","109350","1000992959","109350"),109352:e.r(61,"1000992969","109352","1000992959","109352"),109500:e.r(20,12,["bigcharts.marketwatch.com","fncs.fnlondon.com","jp.wsj.com","partners.barrons.com","partners.inspiredbypenta.com","partners.newscorpsolutions.com","partners.wsj.com","partnerswsj.com","sponsor.marketwatch.com",536,"www.fnlondon.com",537,"www.marketwatch.com","www.penews.com",538]),109501:e.r(20,12,["decider.com","nypost.com","pagesix.com"]),110753:e.r(110,"liveramp_Epsilon","1003067436",!1,"110753"),110756:e.r(61,"1000997319","110756","1000999189","110756"),110763:e.r(61,"1000463996","110763","1000464146","110763"),110778:e.r(110,"liveramp_Epsilon","1003067476",!1,"110778"),110779:e.r(110,"liveramp_Epsilon","1000996259",!1,"110779"),110780:e.r(110,"liveramp_Acxiom","300324899",!1,"110780"),110782:e.r(53,"300618599","110782","300618399","110782"),110783:e.r(61,"1000465886","110783","1000465896","110783"),110786:e.r(61,"1005045319","110786","1005045329","110786"),110788:e.r(61,"1000995319","110788","1000987269","110788"),110789:e.r(58,"1005361539","110789","liveramp_Epsilon","1000992609","110789","liveramp_Epsilon","1003067546","110789"),110792:e.r(110,"eyeota","35356",!1,"110792"),110795:e.r(110,"eyeota","35355",!1,"110795"),110798:e.r(53,"300183399","110798","300183299","110798"),110799:e.r(110,"liveramp_Acxiom","10591",!1,"110799"),111594:e.r(60,"1000464276","111594","liveramp_Epsilon","1000990849","111594","liveramp_Epsilon","1000985799","111594","liveramp_Epsilon","1000985319","111594","1000985349","111594","liveramp_Epsilon","1000991149","111594","1000991089","111594","liveramp_Epsilon","1000985409","111594"),111596:e.r(61,"1000991149","111596","1000991139","111596"),111597:e.r(28,[e.itp("liveramp_Epsilon","1003067486",!1,"111597"),e.itp("liveramp_Epsilon","1003069586",!1,"111597"),e.itp("liveramp_Epsilon","1003069576",!1,"111597"),e.itp("liveramp_Epsilon","1003067396",!1,"111597"),e.itp("liveramp_Epsilon","1003069136",!1,"111597"),e.itp("liveramp_Epsilon","1003069596",!1,"111597"),e.itp("liveramp_Epsilon","1003067576",!1,"111597"),e.itp("liveramp_Epsilon","1003069616",!1,"111597"),e.itp("liveramp_Epsilon","1000991239",!1,"111597"),e.itp("liveramp_Epsilon","1003068426",!1,"111597"),e.itp("liveramp_Epsilon","1003068456",!1,"111597"),e.itp("liveramp_Epsilon","1003069116",!1,"111597"),e.itp("liveramp_Epsilon","1003069356",!1,"111597"),e.itp("liveramp_Epsilon","1003024916",!1,"111597"),e.itp("liveramp_Epsilon","1003069126",!1,"111597"),e.itp("liveramp_Epsilon","1000985469",!1,"111597"),e.itp("liveramp_Epsilon","1003069416",!1,"111597"),e.itp("liveramp_Epsilon","1003069386",!1,"111597"),e.itp("liveramp_Epsilon","1003024916",!1,"111597"),e.itp("liveramp_Epsilon","1003069416",!1,"111597")]),111757:e.r(110,"liveramp_Epsilon","1000997039",!1,"111757"),111760:e.r(110,"liveramp_Experian","1004267799",!1,"111760"),111764:e.r(53,"1295","111764","300728399","111764"),111766:e.r(63,"1004805159","111766","1000993349","111766","1000997689","111766","1000999659","111766","1000999669","111766"),111780:e.r(55,"300479799","111780","300150099","111780","300151199","111780"),111783:e.r(110,"liveramp_Acxiom","300479399",!1,"111783"),111960:e.r(61,"1000456786","111960","1000456796","111960"),111961:e.r(61,"1003026036","111961","1003026026","111961"),111962:e.r(110,"liveramp_Acxiom","1817",!1,"111962"),111963:e.r(110,"liveramp_Acxiom","1815",!1,"111963"),111966:e.r(110,"liveramp_Acxiom","300529799",!1,"111966"),111967:e.r(57,"liveramp_Acxiom","300035499","111967","300531099","111967","liveramp_Acxiom","300530999","111967","liveramp_Acxiom","300035099","111967","liveramp_Acxiom","300036099","111967","liveramp_Acxiom","300036299","111967"),111968:e.r(110,"liveramp_Acxiom","300530299",!1,"111968"),111969:e.r(110,"liveramp_Acxiom","300049099",!1,"111969"),111970:e.r(110,"liveramp_Acxiom","1229",!1,"111970"),111980:e.r(110,"liveramp_Acxiom","300044299",!1,"111980"),111981:e.r(110,"liveramp_Acxiom","1285",!1,"111981"),111982:e.r(110,"liveramp_Acxiom","300478799",!1,"111982"),111984:e.r(65,"1004258419","111984","1004258679","111984"),111985:e.r(110,"liveramp_Acxiom","1286",!1,"111985"),111986:e.r(110,"liveramp_Acxiom","15616",!1,"111986"),112842:e.r(66,"1001357459","112842","1001357469","112842"),112844:e.r(25,1,1,9,"https://www.realtor.com/sponsored/home-renovation-peace-of-mind"),112853:e.r(66,"1001357489","112853","1001357499","112853"),112856:e.r(66,"1001357389","112856","1001357399","112856"),112858:e.r(110,"liveramp_Acxiom","10868",!1,"112858"),112860:e.r(110,"liveramp_Acxiom","10869",!1,"112860"),112861:e.r(110,"liveramp_Acxiom","10870",!1,"112861"),112862:e.r(110,"liveramp_Acxiom","10871",!1,"112862"),112863:e.r(110,"liveramp_Acxiom","10872",!1,"112863"),112865:e.r(110,"liveramp_Acxiom","10873",!1,"112865"),112870:e.r(62,"1000990729","112870","1000985829","112870","1000985819","112870","1000990719","112870"),112871:e.r(61,"1000990329","112871","1000463436","112871"),112872:e.r(61,"1000463766","112872","1000463776","112872"),112903:e.r(5,e.ocqs([e.itp("liveramp_IXIDigital","1000090164",!1,"112903"),e.itp("liveramp_IXIDigital","1000090154",!1,"112903")]),"112903"),112904:e.r(5,e.itp("liveramp_IXIDigital","1000090134",!1,"112904"),"112904"),112961:e.r(110,"liveramp_IXIDigital","1000091664",!1,"112961"),112962:e.r(110,"liveramp_IXIDigital","1000091654",!1,"112962"),112963:e.r(110,"liveramp_Acxiom","300527799",!1,"112963"),112964:e.r(110,"liveramp_Acxiom","300527499",!1,"112964"),112965:e.r(110,"liveramp_Acxiom","300355099",!1,"112965"),112966:e.r(53,"300390099","112966","300350999","112966"),112967:e.r(110,"liveramp_Acxiom","300392199",!1,"112967"),112968:e.r(110,"liveramp_Acxiom","300528399",!1,"112968"),112969:e.r(53,"300352699","112969","300371599","112969"),112970:e.r(66,"1000089024","112970","1000089014","112970"),112972:e.r(66,"1000089004","112972","1000088994","112972"),112973:e.r(66,"1000088984","112973","1000088974","112973"),112974:e.r(110,"liveramp_IXIDigital","1000088964",!1,"112974"),112976:e.r(110,"liveramp_IXIDigital","1000088954",!1,"112976"),112979:e.r(110,"liveramp_IXIDigital","1000088934",!1,"112979"),112980:e.r(45,"liveramp_IXIDigital","1000088924","112980","liveramp_IXIDigital","1000088914","112980","liveramp_IXIDigital","1000088904","112980","liveramp_IXIDigital","1000088894","112980"),112981:e.r(110,"liveramp_IXIDigital","1000088944",!1,"112981"),112995:e.r(110,"liveramp_Experian","1004577759",!1,"112995"),112996:e.r(44,"liveramp_Experian","1004577739","112996","liveramp_Experian","1004577749","112996","liveramp_Experian","1004577729","112996"),112997:e.r(110,"liveramp_Experian","1007226721",!1,"112997"),112998:e.r(110,"liveramp_Experian","1007226771",!1,"112998"),112999:e.r(110,"liveramp_Experian","1004580679",!1,"112999"),113002:e.r(110,"liveramp_Experian","1004580629",!1,"113002"),113003:e.r(110,"liveramp_Experian","1007227411",!1,"113003"),113007:e.r(110,"liveramp_Experian","1004578089",!1,"113007"),113009:e.r(110,"liveramp_Experian","1004578079",!1,"113009"),113012:e.r(110,"liveramp_Experian","1004577959",!1,"113012"),113013:e.r(110,"liveramp_Experian","1004577939",!1,"113013"),113015:e.r(110,"liveramp_Experian","1004577879",!1,"113015"),113018:e.r(110,"liveramp_Experian","1007227231",!1,"113018"),113020:e.r(110,"liveramp_Experian","1004577899",!1,"113020"),113022:e.r(110,"liveramp_Experian","1004577989",!1,"113022"),113023:e.r(110,"liveramp_Experian","1007227351",!1,"113023"),113024:e.r(110,"liveramp_Experian","1004577999",!1,"113024"),113025:e.r(65,"1007226711","113025","1007226761","113025"),113026:e.r(110,"liveramp_Experian","1004576229",!1,"113026"),113027:e.r(110,"liveramp_Experian","1004576049",!1,"113027"),113028:e.r(110,"liveramp_Experian","1004575999",!1,"113028"),113029:e.r(110,"liveramp_Experian","1004576029",!1,"113029"),113032:e.r(110,"liveramp_Experian","1004576149",!1,"113032"),113034:e.r(110,"liveramp_Experian","1004576089",!1,"113034"),113036:e.r(110,"liveramp_Experian","1004575969",!1,"113036"),113039:e.r(110,"liveramp_Experian","1004576189",!1,"113039"),113042:e.r(110,"liveramp_Experian","1004576209",!1,"113042"),113045:e.r(110,"liveramp_Experian","1004576179",!1,"113045"),113047:e.r(110,"liveramp_Experian","1004575989",!1,"113047"),113051:e.r(110,"liveramp_Experian","1004576239",!1,"113051"),113054:e.r(110,"liveramp_Experian","1004576119",!1,"113054"),113056:e.r(110,"liveramp_Experian","1004575959",!1,"113056"),113057:e.r(110,"liveramp_Experian","1004576249",!1,"113057"),113061:e.r(110,"liveramp_Experian","1004576139",!1,"113061"),113062:e.r(110,"liveramp_Experian","1004576059",!1,"113062"),113063:e.r(110,"liveramp_Experian","1004576219",!1,"113063"),113064:e.r(110,"liveramp_Experian","1004576099",!1,"113064"),113065:e.r(110,"liveramp_Experian","1004576039",!1,"113065"),113078:e.r(25,1,1,9,"https://www.realtor.com/sponsored/home-search-peace-of-mind"),113080:e.r(25,1,1,9,"https://www.realtor.com/sponsored/diy-moving-questions-homesteading-family"),113083:e.r(25,1,1,9,"https://www.realtor.com/sponsored/expert-diy-moving-tips"),113102:e.r(110,"liveramp_Alliant","1002760926",!1,"113102"),113106:e.r(62,"1000993309","113106","1000997229","113106","1000993879","113106","1000994209","113106"),113109:e.r(110,"liveramp_Alliant","1002761776",!1,"113109"),113110:e.r(110,"liveramp_Alliant","1001431469",!1,"113110"),113111:e.r(110,"liveramp_Alliant","1002760786",!1,"113111"),113171:e.r(110,"liveramp_IXIDigital","1000091374",!1,"113171"),113172:e.r(110,"liveramp_Acxiom","300113799",!1,"113172"),113174:e.r(110,"liveramp_Acxiom","300538899",!1,"113174"),113175:e.r(110,"liveramp_Alliant","1000845826",!1,"113175"),113176:e.r(110,"liveramp_Acxiom","300618899",!1,"113176"),113177:e.r(61,"1000467056","113177","1000467046","113177"),113180:e.r(110,"liveramp_AnalyticsIQ","1004097629",!1,"113180"),113181:e.r(110,"liveramp_Alliant","1001431179",!1,"113181"),113183:e.r(110,"liveramp_Alliant","1002764196",!1,"113183"),113185:e.r(110,"eyeota","35354",!1,"113185"),113211:e.r(40,"liveramp_Experian","1004260969",!1,"113211","liveramp_Epsilon","1000999579",!1,"113211","liveramp_Epsilon","1000999579",!1,"113211","liveramp_Experian","1004260989",!1,"113211","liveramp_Experian","1004260929",!1,"113211","liveramp_Experian","1004260819",!1,"113211","liveramp_Experian","1004260879",!1,"113211","liveramp_Experian","1004261269",!1,"113211"),113213:e.r(110,"liveramp_Experian","1004601749",!1,"113213"),113214:e.r(110,"liveramp_PlaceIQ","1002442186",!1,"113214"),113215:e.r(110,"liveramp_PlaceIQ","1002443016",!1,"113215"),113232:e.r(44,"liveramp_AnalyticsIQ","1003048939","113232","liveramp_AnalyticsIQ","1003048949","113232","liveramp_AnalyticsIQ","1003048929","113232"),113233:e.r(43,"liveramp_AnalyticsIQ","1003809659","113233","liveramp_AnalyticsIQ","1001373039","113233"),113234:e.r(45,"liveramp_AnalyticsIQ","1001025269","113234","liveramp_AnalyticsIQ","1003514889","113234","liveramp_AnalyticsIQ","1001606126","113234","liveramp_AnalyticsIQ","1001605976","113234"),113237:e.r(4,e.itp("liveramp_Experian","1007229021",!1,"113237"),[e.itp("liveramp_Experian","1004581069",!1,"113237"),e.itp("liveramp_Experian","1004257589",!1,"113237")]),113238:e.r(110,"liveramp_Experian","1004269059",!1,"113238"),113239:e.r(111,"113239"),113240:e.r(110,"liveramp_Epsilon","1000985059",!1,"113240"),113241:e.r(110,"liveramp_Epsilon","1000991509",!1,"113241"),113242:e.r(110,"liveramp_Acxiom","10841",!1,"113242"),113244:e.r(110,"liveramp_Acxiom","1199",!1,"113244"),114090:e.q(e.tw(e.cb(0,e.t,e.e(1),2),7776e6)),114091:e.r(8,2,30,2,29),114092:e.r(112,0,e.t,30,30),114959:e.r(126,13),114960:e.r(7,13,13),114961:e.r(127,13),115031:e.r(126,1),115032:e.r(7,1,1),115033:e.r(127,1),115303:e.r(136,30,30),115304:e.q(e.acqs([e.tw(e.cb(0,e.t,e.ge(2),2),2592e6),e.tw(e.cb(0,e.t,e.le(29),30),2592e6)])),115305:e.q(e.tw(e.cb(0,e.t,e.e(1),2),2592e6)),115627:e.r(110,"liveramp_Acxiom","10892",!1,"115627"),115639:e.r(110,"liveramp_Experian","1004268459",!1,"115639"),115640:e.r(110,"liveramp_Acxiom","300325699",!1,"115640"),115827:e.r(110,"liveramp_Epsilon","1000997699",!1,"115827"),115828:e.r(110,"liveramp_Epsilon","1000464346",!1,"115828"),115829:e.r(110,"liveramp_Epsilon","1000464366",!1,"115829"),115830:e.r(110,"liveramp_Epsilon","1000464396",!1,"115830"),115831:e.r(110,"liveramp_Epsilon","1000464386",!1,"115831"),115832:e.r(110,"liveramp_Epsilon","1000464376",!1,"115832"),115834:e.r(110,"liveramp_Epsilon","1000464356",!1,"115834"),115835:e.r(61,"1000462176","115835","1000462186","115835"),115836:e.r(110,"liveramp_Epsilon","1002890146",!1,"115836"),115837:e.r(43,"liveramp_Epsilon","1000997029","115837","liveramp_Mastercard","1006793521","115837"),115839:e.r(111,"115839"),115842:e.r(65,"1005797871","115842","1005797791","115842"),115959:e.r(43,"liveramp_AnalyticsIQ","1004330519","115959","liveramp_StatSocial","1006916641","115959"),118635:e.r(96,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118635"),118636:e.r(97,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118636"),118637:e.r(98,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118637"),118638:e.r(99,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118638"),118639:e.r(100,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118639"),118640:e.r(101,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118640"),118641:e.r(102,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118641"),118642:e.r(103,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118642"),118643:e.r(104,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118643"),118644:e.r(105,"2P_realtor_consumer_classification_model_AFFORDABILITY-CALC","118644"),118645:e.r(96,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118645"),118646:e.r(97,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118646"),118647:e.r(98,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118647"),118648:e.r(99,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118648"),118649:e.r(100,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118649"),118650:e.r(101,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118650"),118651:e.r(102,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118651"),118652:e.r(103,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118652"),118653:e.r(104,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118653"),118654:e.r(105,"2P_realtor_consumer_classification_model_DOWNLOAD-APP","118654"),118655:e.r(96,"2P_realtor_consumer_classification_model_HOMEBUYER","118655"),118656:e.r(97,"2P_realtor_consumer_classification_model_HOMEBUYER","118656"),118657:e.r(98,"2P_realtor_consumer_classification_model_HOMEBUYER","118657"),118658:e.r(99,"2P_realtor_consumer_classification_model_HOMEBUYER","118658"),118659:e.r(100,"2P_realtor_consumer_classification_model_HOMEBUYER","118659"),118660:e.r(101,"2P_realtor_consumer_classification_model_HOMEBUYER","118660"),118661:e.r(102,"2P_realtor_consumer_classification_model_HOMEBUYER","118661"),118662:e.r(103,"2P_realtor_consumer_classification_model_HOMEBUYER","118662"),118663:e.r(104,"2P_realtor_consumer_classification_model_HOMEBUYER","118663"),118664:e.r(105,"2P_realtor_consumer_classification_model_HOMEBUYER","118664"),118665:e.r(96,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118665"),118666:e.r(97,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118666"),118667:e.r(98,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118667"),118668:e.r(99,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118668"),118669:e.r(100,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118669"),118670:e.r(101,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118670"),118671:e.r(102,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118671"),118672:e.r(103,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118672"),118673:e.r(104,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118673"),118674:e.r(105,"2P_realtor_consumer_classification_model_NEW-CONSTRUCTION","118674"),118675:e.r(96,"2P_realtor_consumer_classification_model_PREAPPROVAL","118675"),118676:e.r(97,"2P_realtor_consumer_classification_model_PREAPPROVAL","118676"),118677:e.r(98,"2P_realtor_consumer_classification_model_PREAPPROVAL","118677"),118678:e.r(99,"2P_realtor_consumer_classification_model_PREAPPROVAL","118678"),118679:e.r(100,"2P_realtor_consumer_classification_model_PREAPPROVAL","118679"),118680:e.r(101,"2P_realtor_consumer_classification_model_PREAPPROVAL","118680"),118681:e.r(102,"2P_realtor_consumer_classification_model_PREAPPROVAL","118681"),118682:e.r(103,"2P_realtor_consumer_classification_model_PREAPPROVAL","118682"),118683:e.r(104,"2P_realtor_consumer_classification_model_PREAPPROVAL","118683"),118684:e.r(105,"2P_realtor_consumer_classification_model_PREAPPROVAL","118684"),118685:e.r(96,"2P_realtor_consumer_classification_model_RENTER","118685"),118686:e.r(97,"2P_realtor_consumer_classification_model_RENTER","118686"),118687:e.r(98,"2P_realtor_consumer_classification_model_RENTER","118687"),118688:e.r(99,"2P_realtor_consumer_classification_model_RENTER","118688"),118689:e.r(100,"2P_realtor_consumer_classification_model_RENTER","118689"),118690:e.r(101,"2P_realtor_consumer_classification_model_RENTER","118690"),118691:e.r(102,"2P_realtor_consumer_classification_model_RENTER","118691"),118692:e.r(103,"2P_realtor_consumer_classification_model_RENTER","118692"),118693:e.r(104,"2P_realtor_consumer_classification_model_RENTER","118693"),118694:e.r(105,"2P_realtor_consumer_classification_model_RENTER","118694"),118695:e.r(96,"2P_realtor_consumer_classification_model_SELLER","118695"),118696:e.r(97,"2P_realtor_consumer_classification_model_SELLER","118696"),118697:e.r(98,"2P_realtor_consumer_classification_model_SELLER","118697"),118698:e.r(99,"2P_realtor_consumer_classification_model_SELLER","118698"),118699:e.r(100,"2P_realtor_consumer_classification_model_SELLER","118699"),118700:e.r(101,"2P_realtor_consumer_classification_model_SELLER","118700"),118701:e.r(102,"2P_realtor_consumer_classification_model_SELLER","118701"),118702:e.r(103,"2P_realtor_consumer_classification_model_SELLER","118702"),118703:e.r(104,"2P_realtor_consumer_classification_model_SELLER","118703"),118704:e.r(105,"2P_realtor_consumer_classification_model_SELLER","118704"),121451:e.r(16,1,1,e.bsnc_(3,["zzhuWDFR"]),4,"CA"),121924:e.r(15,370,373),121926:e.r(15,369,374),121927:e.r(15,372,375),121928:e.r(15,371,376),121929:e.r(15,378,380),121930:e.r(14,379,["7E2ji95Y"]),121931:e.r(15,382,383),121932:e.r(14,381,["SQ5PTvyH"]),121933:e.r(15,386,387),121934:e.r(15,388,391),121935:e.r(15,392,393),121936:e.r(15,395,398),121937:e.r(15,396,399),121938:e.r(15,397,400),121939:e.r(15,394,401),121940:e.r(15,402,404),121941:e.r(15,403,405),121942:e.r(14,406,["sVjgHvVo"]),121943:e.r(15,412,419),121944:e.r(15,411,420),121945:e.r(14,410,["1CmQf4+t"]),121946:e.r(15,413,421),121947:e.r(14,414,["YFkPfI2F"]),121948:e.r(14,416,["y6JnMS1r"]),121949:e.r(15,415,423),121950:e.r(15,417,424),121951:e.r(15,427,433),121952:e.r(15,431,434),121953:e.r(14,428,["T6ymaLMj"]),121954:e.r(14,429,["SxcylPIm"]),121955:e.r(14,430,["WW0xF5GS"]),121956:e.r(15,432,435),121957:e.r(14,425,["jdu5/UnS"]),121958:e.r(14,426,["Pedc8NJC"]),121959:e.r(15,437,440),121960:e.r(15,438,441),121961:e.r(15,439,442),121962:e.r(14,443,["3/dW7+j1"]),121963:e.r(14,448,["JtpF7Qro"]),121964:e.r(14,450,["rGpgAXsL"]),121965:e.r(14,451,["2aRsW41+"]),121966:e.r(14,458,["H01M+RUS"]),121967:e.r(15,459,461),121968:e.r(15,462,463),121969:e.r(15,466,467),121970:e.r(14,465,["hBX+p+Qk"]),121971:e.r(15,464,468),121972:e.r(14,469,["onpmRGVF"]),121973:e.r(14,472,["9ZsFF7mu"]),121974:e.r(14,471,["UrJIn/1u"]),121975:e.r(15,473,475),123554:e.q(e.acqs([e.cb(0,e.bsc_(12,["JWYGW11p"]),e.ge(1),1),e.ocqs([e.itp("liveramp_Acxiom","10797",!1,"123554"),e.itp("liveramp_Acxiom","10901",!1,"123554"),e.itp("eyeota","35436",!1,"123554"),e.itp("eyeota","35435",!1,"123554"),e.itp("liveramp_Epsilon","1003069936",!1,"123554"),e.itp("liveramp_Epsilon","1003069926",!1,"123554"),e.itp("liveramp_PlaceIQ","1002615766",!1,"123554"),e.itp("liveramp_PlaceIQ","1002615756",!1,"123554"),e.itp("liveramp_Experian","1004256489",!1,"123554"),e.itp("liveramp_Experian","1004256479",!1,"123554"),e.itp("liveramp_Alliant","1000849646",!1,"123554"),e.itp("liveramp_Alliant","1000852686",!1,"123554"),e.itp("liveramp_AnalyticsIQ","1000691006",!1,"123554"),e.itp("liveramp_AnalyticsIQ","1000690996",!1,"123554")])])),123555:e.r(54,"10797","123555","10901","123555","eyeota","35435","123555","eyeota","35436","123555","liveramp_Epsilon","1003069936","123555","liveramp_Epsilon","1003069926","123555","liveramp_PlaceIQ","1002615766","123555","liveramp_PlaceIQ","1002615756","123555","liveramp_Experian","1004256489","123555","liveramp_Experian","1004256479","123555","liveramp_Alliant","1000849646","123555","liveramp_Alliant","1000852686","123555","liveramp_AnalyticsIQ","1000690996","123555","liveramp_AnalyticsIQ","1000691006","123555"),123783:e.r(115,0,3,3,12,538),123885:e.r(20,9,["https://www.realtor.com/sponsored/get-closer-go-farther/","https://www.realtor.com/sponsored/introducing-optimum/"]),124301:e.r(131,35),124302:e.r(132,35),124303:e.r(133,35),124320:e.r(115,0,3,3,12,536),125057:e.r(44,"liveramp_Ibotta","1004254569","125057","liveramp_ShareThis","1001010409","125057","liveramp_MeritDirect","1002720596","125057"),127658:e.r(6,e.bsc_(24,["/r9gkvBD","0C0FAQIG","0dFFvbuJ","0mHejp6Y","19pfqV4o","2oxImtsL","3gWAkOj9","57LEqgNC","5PWvNOuo","7u6bduxd","96fGGllJ","ABEN9L7g","B5wHgtVd","CcKtlbyI","Ceb7gLh6","Cedb6ITx","Dr/1Ftss","Dv+Vf038","ETEXIybS","EW5DxxYF","GV9HI0Bd","GykyWVCQ","Hjd6QTEe","I7G8tpu5","J/SZt8jh","J8Aom94m","JD52HWPp","JryuriVQ","LLNp5W3D","MfAJ7tba","Mtt9XmYu","NJcbj7Ec","OsbBqVzm","OzjtbA12","P8Uw3f72","PpePv4qt","QKntw0bK","QSWg3Cid","SbbzAUsm","SiXC6rn+","Wwbx8IUD","ZLOpVnHR","ZMoAbb9W","ZRRHp9sO","aGAvKpkW","aijJIQ7n","bitDKT+T","cK0Jf0nN","cWZ6GIrl","cXshlsSd","cq9Mh8U4","dbukod7Z","fZHcEHeM","htKce+uj","irqvtXRI","kTYGbdqa","lAUPIZBz","lrMAj/SD","ltCqcPoC","mwzkKA6a","nlKs16rx","oG9lX2qe","onpmRGVF","pFPrM0gt","pww7zx2H","qlbgYzt3","rLNCkWRx","scPzS/AI","tJs6zh9t","tkveKveW","u/eurn16","vQvtu1oB","wA2ZHuQG","yeBG5anl"]),1,0,e.as(e.x,40,["Durham_NC","Lincoln_NE","St._Louis_MO","Jersey_City_NJ","Pittsburgh_PA","Greensboro_NC","Santa_Ana_CA","San_Juan_PR","Cincinnati_OH","St._Paul_MN","Riverside_CA","Newark_NJ","Corpus_Christi_TX","Orlando_FL","Stockton_CA","Irvine_CA","Lexington_KY","Henderson_NV","Louisville_KY","Anaheim_CA","Honolulu_HI","Cleveland_OH","New_Orleans_LA","Tampa_FL","Aurora_CO","Arlington_TX","Wichita_KS","Bakersfield_CA","Tulsa_OK","Minneapolis_MN","Oakland_CA","Miami_FL","Virginia_Beach_VA","Long_Beach_CA","Raleigh_NC","Colorado_Springs_CO","Omaha_NE","Atlanta_GA","Mesa_AZ","Kansas_City_MO","Sacramento_CA","Tucson_AZ","Fresno_CA","Albuquerque_NM","Milwaukee_WI","Baltimore_MD","Detroit_MI","Memphis_TN","Las_Vegas_NV","Portland_OR","El_Paso_TX","Boston_MA","Oklahoma_City_OK","Nashville_TN","Washington_DC","Denver_CO","Seattle_WA","San_Francisco_CA","Indianapolis_IN","Charlotte_NC","Columbus_OH","Fort_Worth_TX","Jacksonville_FL","Austin_TX","San_Jose_CA","Dallas_TX","San_Diego_CA","San_Antonio_TX","Philadelphia_PA","Phoenix_AZ","Houston_TX","Chicago_IL","Los_Angeles_CA","New_York_City_NY"]),e.ge(1),1,1),127872:e.r(8,20,30,20,29),127873:e.r(8,10,20,10,19),127875:e.r(8,2,10,2,9),128345:e.r(129,17,452),128347:e.r(129,17,"green"),128348:e.r(129,16,452),128349:e.r(129,16,390),128352:e.r(123,1,1,e.cx,16,[452,390]),130647:e.r(23,34,2),130672:e.r(0,109500,109500),130673:e.r(0,109501,109501),133921:e.r(110,"eyeota","310",!1,"133921"),135504:e.r(41,"liveramp_MeritDirect","1000073144",!1,"135504","liveramp_DunandBradstreet","1002783036",!1,"135504","liveramp_DunandBradstreet","1000310286",!1,"135504","eyeota","35086",!1,"135504","liveramp_Bombora","1005390279",!1,"135504","liveramp_AnalyticsIQ","1000691256",!1,"135504","liveramp_Bombora","1005387569",!1,"135504","liveramp_DunandBradstreet","1000311616",!1,"135504","liveramp_MeritDirect","1002709486",!1,"135504","liveramp_Stirista","1003893529",!1,"135504","eyeota","35272",!1,"135504","liveramp_StatSocial","1006912551",!1,"135504","liveramp_Bombora","1000096154",!1,"135504","eyeota","34878",!1,"135504"),140205:e.r(11,6,["dest_url"],["cMghptYu"]),141089:e.r(13,373,370),141090:e.r(13,374,369),141091:e.r(13,375,372),141092:e.r(13,376,371),141093:e.r(13,380,378),141094:e.r(17,"Connecticut",379),141095:e.r(13,383,382),141096:e.r(17,"District of Columbia",381),141097:e.r(13,387,386),141098:e.r(13,391,388),141099:e.r(13,393,392),141100:e.r(13,398,395),141101:e.r(13,399,396),141102:e.r(13,400,397),141103:e.r(13,401,394),141104:e.r(13,404,402),141105:e.r(13,405,403),141106:e.r(17,"Louisiana",406),141107:e.r(13,419,412),141108:e.r(13,420,411),141109:e.r(17,"Massachusetts",410),141110:e.r(13,421,413),141111:e.r(13,422,414),141112:e.r(17,"Mississippi",416),141113:e.r(13,423,415),141114:e.r(13,424,417),141115:e.r(13,433,427),141116:e.r(13,434,431),141117:e.r(17,"New Hampshire",428),141118:e.r(17,"New Jersey",429),141119:e.r(17,"New Mexico",430),141120:e.r(13,435,432),141121:e.r(13,436,425),141122:e.r(17,"North Dakota",426),141123:e.r(13,440,437),141124:e.r(13,441,438),141125:e.r(13,442,439),141126:e.r(13,446,443),141127:e.r(17,"Rhode Island",448),141128:e.r(17,"South Carolina",450),141129:e.r(17,"South Dakota",451),141130:e.r(17,"Tennessee",458),141131:e.r(13,461,459),141132:e.r(13,463,462),141133:e.r(13,467,466),141134:e.r(17,"Virgin Islands",465),141135:e.r(13,468,464),141136:e.r(17,"Washington",469),141137:e.r(17,"West Virginia",472),141138:e.r(13,474,471),141139:e.r(13,475,473),141993:e.r(118,3,6,"RDC Lead Form (Clicked Vet checkbox)"),141994:e.r(115,3,1,1,6,447),145919:e.r(115,0,1,1,12,538),146387:e.r(10,4,32,[3141569474,3131120824]),147354:e.r(28,[e.itp("liveramp_AnalyticsIQ","1000691216",!1,"147354"),e.itp("liveramp_MeritDirect","1000073034",!1,"147354"),e.itp("liveramp_Acxiom","802360285",!1,"147354"),e.itp("liveramp_AnalyticsIQ","1000691226",!1,"147354"),e.itp("liveramp_ShareThis","1001600536",!1,"147354"),e.itp("eyeota","35177",!1,"147354"),e.itp("liveramp_ShareThis","1001600546",!1,"147354"),e.itp("eyeota","6591",!1,"147354"),e.itp("liveramp_ShareThis","1001600546",!1,"147354"),e.itp("liveramp_Bombora","1005389309",!1,"147354"),e.itp("liveramp_DunandBradstreet","1000309926",!1,"147354"),e.itp("liveramp_ShareThis","1005652151",!1,"147354"),e.itp("liveramp_MeritDirect","1002714726",!1,"147354"),e.itp("liveramp_Bombora","1005388289",!1,"147354"),e.itp("liveramp_Bombora","1000096004",!1,"147354")]),148305:e.r(12,5,32,3163306995),149425:e.r(118,0,39,!0),154299:e.r(27,["/uD3Y5e9"]),156468:e.r(108,1,1),156469:e.r(108,2,2),156470:e.r(108,3,3),156471:e.r(108,4,4),156472:e.r(108,5,5),156473:e.r(108,6,6),156474:e.r(108,7,7),156475:e.r(108,8,8),156476:e.r(108,9,9),156477:e.r(108,10,10),156602:e.r(128,1,1),156603:e.r(128,2,2),156604:e.r(128,3,3),156605:e.r(128,4,4),156606:e.r(128,5,5),156607:e.r(128,6,6),156608:e.r(128,7,7),156609:e.r(128,8,8),156610:e.r(128,9,9),156611:e.r(128,10,10),163181:e.r(125,["TSzuFE6k","pDV97NlH"]),163182:e.r(114,0,1,1,9),165534:e.r(12,0,39,!0),166684:e.r(45,"liveramp_Experian","1007229091","166684","liveramp_StatSocial","1006912891","166684","liveramp_AnalyticsIQ","1005128719","166684","liveramp_DunandBradstreet","1001640126","166684"),167167:e.r(95,"news_corp_dow_jones_segments","P0296","167167"),167934:e.r(32,"00a5e35b-8f2e-4d1d-ae5f-39b3264a5fe7",e.ge(.9824543),"167167"),172299:e.r(2,"373ee009-1527-4868-9655-26720ada8e4c",.7390768,"172116"),175336:e.r(122,["MGqL1OKD","ZhSu44i8","fhskQSHP","zztF2abT"]),175337:e.r(122,["qi0AdLxF","tzqJGDQD"]),177711:e.r(27,["Cz2i+r47"]),177712:e.r(27,["/9toeJU7","es855RUD","pv3i2VlK"]),177715:e.r(27,["7HLthWYc","GtfWb9Yx","T/zDy5U5"]),177810:e.r(27,["BqZe5q+Z"]),177811:e.r(116,3,1,1,6,521),177812:e.r(117,3,1,1,6,521),180104:e.r(33,.6715599),180105:e.r(33,.87230957),181375:e.r(95,"liveramp_JPMC_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1917238555","181375"),181377:e.r(95,"liveramp_JPMC_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1670818027","181377"),181379:e.r(95,"liveramp_JPMC_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1767768536","181379"),183399:e.r(27,["wWh3yvQp"]),184227:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_bible_gateway_1p","nc-03042024","184227"),184914:e.r(107,"184914"),185469:e.r(19,["81656","81655","81654","81653","81652","81650","81648","81647","81646","81643","81642","81641","81640","81638","81637","81635","81633","81632","81631","81630","81625","81624","81623","81621","81615","81612","81611","81610","81601","81527","81526","81525","81524","81523","81522","81521","81520","81507","81506","81505","81504","81503","81501","81435","81434","81433","81432","81431","81430","81429","81428","81427","81426","81425","81424","81423","81422","81419","81418","81416","81415","81413","81411","81410","81403","81401","81335","81334","81332","81331","81330","81328","81327","81326","81325","81324","81323","81321","81320","81303","81301","81253","81248","81243","81241","81239","81237","81235","81230","81225","81224","81220","81210","81155","81154","81152","81151","81149","81148","81147","81146","81144","81143","81141","81140","81138","81137","81136","81133","81132","81131","81130","81129","81128","81126","81125","81124","81123","81122","81121","81120","81101","81091","81089","81082","81081","81077","81069","81067",302,"81059",301,"81055",300,299,"81049","81046","81040",298,"81030","81027","81025","81024","81023","81022","81020","81019","81008","81007","81006","81005","81004","81003","81001",297,"80467","80463","80426","80423"]),185612:e.r(19,["36860","36758","36749","36703","36502","36483","36477","36476","36475","36474","36473","36471","36467","36460","36456","36455","36454","36453","36442","36432","36426","36421","36420","36401","36376","36375","36374","36373","36371","36370","36362","36360","36353","36352","36351","36350","36346","36345","36344","36343","36340","36330","36323","36322","36321","36320","36319","36318","36317","36316","36314","36313","36312","36311","36310","36305","36303","36301","36130","36117","36116","36115","36114","36111","36110","36109","36108","36107","36106","36105","36104","36101","36093","36092","36091","36089","36082","36081","36080","36079","36078","36071","36069","36067","36066","36064","36057","36054","36053","36052","36051","36049","36048","36047","36046","36043","36042","36041","36038","36037","36036","36035","36034","36033","36032","36030","36029","36028","36027","36026","36025","36024","36022","36020","36017","36016","36013","36010","36009","36008","36006","36005","36003","35010"]),185614:e.r(19,["72687","72686","72685","72682","72680","72679","72677","72675","72672","72669","72668","72663","72662","72661","72658","72653","72651","72650","72645","72644","72642","72639","72636","72635","72634","72633","72630","72626","72623","72619","72617","72615","72611","72601","72587","72585","72584","72583","72579","72578","72577","72576","72573","72572","72571","72569","72568","72567","72566","72565","72564","72562","72561","72560","72556","72555","72554","72553","72550","72544","72542","72540","72539","72538","72537","72536","72534","72533","72532","72531","72530","72529","72528","72527","72526","72524","72523","72522","72521","72520","72519","72517","72515","72513","72512","72501","72482","72479","72478","72476","72473","72472","72471","72470","72469","72467","72466","72464","72462","72461","72460","72459","72458","72457","72456","72455","72454","72453","72450","72449","72447","72445","72444","72443","72442","72441","72440","72438","72437","72436","72435","72434","72433","72432","72431","72430","72429","72428","72427","72426","72425","72424","72422","72421","72419","72417","72416","72415","72414","72413","72412","72411","72410","72405","72404","72401","72396","72395","72394","72392","72391","72390","72389","72387","72386","72384","72383","72379","72377","72376","72374","72373","72372","72370","72369","72368","72367","72366","72365","72364","72360","72359","72358","72355","72354","72353","72352","72351","72350","72348","72347","72346","72342","72341","72340","72339","72338","72335","72333","72332","72331","72330","72329","72328","72327","72326","72325","72324","72322","72320","72315","72313","72311","72301","72206","72183","72180","72176","72175","72170","72169","72166","72165","72160","72153","72142","72140","72134","72123","72120","72117","72112","72108","72101","72086","72083","72081","72076","72075","72074","72073","72072","72069","72066","72065","72064","72060","72059","72055","72051","72048","72046","72044","72042","72041","72040","72038","72036","72031","72029","72026","72024","72023","72021","72020","72017","72014","72007","72006","72005","72004","72003","71678","71676","71675","71674","71670","71667","71666","71663","71662","71661","71655","71654","71653","71644","71643","71640","71639","71638","71630","71603","71601","65761","65733","65729","38769"]),185615:e.r(19,["95148","95136","95130","95129","95128","95126","95125","95124","95123","95122","95121","95120","95119","95118","95117","95112","95111","95110","95070","95037","95033","95032","95030","95014","95008","94402","94306","94305","94304","94303","94301","94087","94086","94085","94074","94070","94063","94062","94061","94060","94044","94043","94041","94040","94038","94037","94028","94027","94025","94024","94022","94021","94020","94019","94018","94010"]),185616:e.r(19,["93591","93563","93560","93553","93552","93551","93550","93544","93543","93536","93535","93534","93532","93510","93243","92397","91759","91750","91741","91711","91702","91390","91387","91384","91381","91355","91354","91351","91350","91344","91342","91326","91325","91321","91311","91107","91042","91024","91011","91001"]),185617:e.r(19,[327,326,325,324,"92697",323,322,321,"92663","92662","92661","92660","92657",320,319,318,317,316,"92648",315,"92646",314,313,"92629","92627","92626","92625","92620",312,"92617",311,"92612",310,309,"92604","92603",308,"90743","90742",306,305,304]),185618:e.r(19,[303,"81092","81090","81087","81084","81076","81073","81071",302,"81063","81062",301,"81057",300,"81052",299,"81047","81045","81044","81043","81041",298,"81036","81033","81029","81021","80928","80864","80862","80861","80836","80835","80834","80833","80832","80831","80830","80828","80826","80825","80824","80823","80822","80821","80818",297,"80815","80812","80810","80808","80807","80805","80804","80802","80801","80759","80758","80757","80755",296,"80751","80750","80749","80747","80746","80745","80744","80743",295,"80741","80740","80737","80736","80735","80734","80733",294,"80731",293,"80728","80727","80726","80723","80722","80721","80720","80705","80701",292,"80653",291,290,289,288,287,286,285,284,283,282,281,280,279,278,277,276,275,274,273,272,271,270,"80547",269,268,267,"80536","80535",266,265,"80526","80525",264,263,262,"80138","80137","80136","80135","80134","80131","80130","80129","80126","80125","80124","80120","80118","80117","80116","80112","80109","80108","80107","80106","80105","80104","80103","80102","80101",261,"80019","80018","80016","80015","80013","80011","69168"]),185619:e.r(19,["63155","63147","63146","63144","63143","63141","63140","63139","63138","63137","63136","63135","63134","63133","63132","63131","63130","63126","63125","63124","63123","63122","63121","63120","63119","63118","63117","63116","63115","63114","63113","63112","63111","63110","63109","63108","63107","63106","63105","63104","63103","63102","63101","63074","63045","63044","63043","63042","63034","63033","63031"]),185621:e.r(19,["49285","49284","49264","49251","49096","49076","49073","49021","48933","48917","48915","48912","48911","48910","48906","48895","48894","48892","48890","48879","48876","48875","48873","48872","48867","48866","48864","48861","48857","48855","48854","48853","48848","48845","48843","48842",200,"48840","48837","48836","48835",199,"48827","48825","48824","48823","48822","48821","48820","48819","48817","48816","48813","48808",198,197,"48476",196,195,194,193,192,191,190,189,188,"48414","48393","48381","48380","48353","48189","48178","48169","48167","48165","48143","48139","48137","48116","48114"]),185622:e.r(19,["48883","48880","48858",200,199,"48807","48768","48757","48747","48746","48734","48732","48724","48722","48710","48708","48706","48662","48659","48658","48657","48655","48652","48650",198,"48642","48640","48638","48637","48634","48631","48628","48626","48623","48618",197,"48615","48614","48613","48611","48609","48607","48604","48603","48602","48601","48532","48529","48519","48509","48507","48506","48505","48504","48503","48502","48473","48464","48463","48462",196,"48458","48457",195,194,193,"48439","48438","48437",192,191,190,189,"48423","48421","48420",188,"48417","48415","48411"]),185625:e.r(19,["28594",164,"28589","28587",163,"28585","28584","28582","28581",162,"28579","28578","28577","28575","28574","28573","28572","28571","28570","28562","28560","28557","28556","28555","28553","28552",161,"28547","28546","28544","28543","28542","28540","28539",160,"28537","28533","28532","28531",159,"28529","28528","28527","28526","28525","28524","28523","28521","28520","28519","28518","28516","28515",158,"28512","28511","28510","28509","28508","28504","28501","28478","28466","28464","28460","28458","28454","28453","28447","28445","28444","28441","28398","28393","28391","28385","28382","28366","28365","28349","28344","28341","28334","28333","28328","28325","28318","27982","27981","27978","27976","27974","27973","27972","27968","27966","27965","27964",157,"27960","27959","27958","27956","27954","27953","27950","27949","27948","27947","27943","27941","27939","27936","27929","27927","27923","27921","27920","27917","27916","27915",156,155,154,"27885",153,152,"27875",151,"27865",150,149,148,147,146,145,144,143,"27824","27821","27817","27814","27810","27808","27806",142,"27531","27530"]),185626:e.r(19,["11804","11803","11801","11797",85,"11791",84,"11771","11765","11762","11758",83,"11753",82,"11732","11714","11709","11596",81,"11579","11577","11576","11568","11560",80,"11548","11547","11545","11542","11514","11507",79,78,77,76,75,74,73,72,71,70,69,68,67,66,"11050","11042",65,"11030","11024","11023","11021","11020",64,63,62]),185627:e.r(19,[109,107,105,102,"12563",100,99,98,97,"10994","10993","10989","10986","10984","10983","10980","10977","10976",61,"10970","10968","10965","10964","10962","10960","10956","10954","10952","10931","10927","10923","10920","10913","10911","10901","10604","10603","10598","10597","10596","10595","10594","10591","10590","10589","10588","10579","10578","10576","10570","10567","10566","10562","10560","10549","10548","10547","10546","10545","10542","10541","10540","10537","10536","10535","10533","10532","10527","10526","10524","10520","10519","10518","10517","10516","10514","10512","10511","10510","10509","10507","10506","10505","10504","10501"]),185630:e.r(19,["08889","08887","08886","08876","08869","08867","08865","08858","08853","08848","08844","08836","08833","08829","08827","08826","08825","08822","08821","08812","08809","08807","08805","08804","08802","08801","08560","08559","08551","08530","08525","07980","07979","07977","07974","07970","07960","07946","07945","07939","07934","07933","07931","07930","07926","07924","07922","07921","07920","07901","07885","07882","07881","07880","07876","07874","07871","07870","07869","07865","07863","07860","07857","07856","07853","07852","07851","07850","07849","07848","07847","07846","07844","07843","07840","07838","07836","07833","07832","07831","07830","07828","07827","07826","07825","07823","07821","07820","07803","07801","07439","07092","07090","07081","07076","07069","07066","07065","07059","07036","07023"]),185634:e.r(19,["45789","45788","45786","45784","45773","45768","45767","45750","45746","45745","45744","45742","45734","45729","45727","45724","45723","45721","45715","45714","45711",187,186,185,184,183,182,181,180,179,178,"44699","44697","44695","44693","44689",177,"44683","44682","44681","44680","44678","44675","44672","44671",176,175,"44665","44663",174,173,"44656","44653","44651",172,171,"44644","44643",170,"44640","44639","44634",169,"44629",168,"44625","44624","44622","44621","44620","44619","44615","44613",167,"44609",166,"44607","44601","44555","44515","44514","44512","44511","44510","44509","44507","44506","44505","44504","44503","44502","44493","44490","44481","44471","44460","44455","44454","44452","44451","44449","44445","44444","44443","44442","44441","44440","44437","44436","44432","44431","44429","44427","44425","44423","44415","44413","44412","44408","44406","44405","44401","44201","43988","43986","43985","43983","43981","43977","43976","43974","43973","43972","43971","43968","43967","43964","43963","43962","43961","43953","43952","43951","43950","43948","43947","43946","43945","43944","43943","43942","43940","43939","43938","43935","43934","43933","43932","43931","43930","43928","43926","43925","43920","43917","43915","43914","43913","43912","43910","43909","43908","43907","43906","43905","43903","43902","43901","43840","43837","43824","43804","43793","43788","43787","43786","43780","43779","43778","43773","43772","43759","43754","43747","43732","43724","43719","43718","43717","43716","43713","43711"]),185635:e.r(19,["45831","45821","45813","44889","44870","44857","44847","44846","44841","44839","44836","44826","44824","44814","44811","44089","43623","43620","43619","43617","43616","43615","43614","43613","43612","43611","43610","43609","43608","43607","43606","43605","43604","43571","43570","43567","43566","43560","43558","43557","43556","43554","43553","43551","43549","43548","43547","43545","43543","43542","43540","43537","43536","43533","43532","43531","43530","43528","43527","43526","43525","43522","43521","43520","43519","43518","43517","43515","43512","43506","43505","43504","43502","43501","43469","43468","43465","43464","43460","43458","43457","43456","43452","43449","43447","43446","43445","43442","43440","43439","43438","43436","43435","43434","43433","43432","43431","43430","43420","43416","43414","43412","43410","43408","43407","43406","43402"]),185636:e.r(19,["97760",367,"97756","97739","97734","97730","97712","97709","97707","97703","97702","97701",366,365,364,"97392",363,362,"97385","97384","97383","97381",361,"97375",360,"97373","97362","97360","97358",359,"97352",358,357,"97346",356,"97342",355,"97335",354,353,"97327","97325",352,351,"97317","97306","97305","97303","97301","97267","97266","97239","97222","97219","97206","97202","97089","97086","97071","97070","97068","97062","97055","97045","97042","97038","97035","97034","97032","97027","97026","97023","97022","97017","97015","97013","97009","97004","97002"]),185637:e.r(19,["98686","98685","98684","98683","98682","98675","98674","98672","98671","98665","98664","98663","98662","98661","98660","98651","98649","98648","98647","98645","98644","98643","98642","98641","98640","98639","98638","98632","98631","98629","98626","98625","98624","98621","98616","98614","98612","98611","98610","98609","98607","98606","98605","98604","98603","98601","98597","98596","98593","98591","98590","98589","98586","98585","98582","98581","98579","98577","98576","98572","98570","98568","98565","98564","98556","98547","98544","98542","98539","98538","98537","98533","98532","98531","98530","98527","98513","98512","98501","98377","98361","98356","98355","98336",368]),187096:e.r(19,["85545","85377","85331","85281","85268","85266","85264","85263","85262","85260","85259","85258","85257","85256","85255","85254","85253","85251","85250","85215","85213","85207","85203","85201","85087","85086","85085","85054","85050","85032","85029","85028","85027","85024","85023","85022","85021","85020","85018","85016","85015","85014","85013","85012","85008"]),187097:e.r(19,["85922","85756","85755","85750","85749","85748","85747","85745","85743","85742","85741","85739","85737","85730","85719","85718","85716","85715","85714","85713","85712","85711","85710","85708","85707","85706","85705","85704","85658","85654","85653","85650","85645","85643","85641","85638","85637","85635","85632","85631","85630","85629","85627","85626","85625","85623","85622","85619","85618","85617","85616","85615","85614","85613","85611","85610","85609","85608","85607","85606","85605","85603","85602","85552","85551","85546","85543","85540","85536","85535","85534","85533","85531","85194","85193","85192","85191","85172","85145","85141","85138","85137","85132","85131","85128","85123","85122"]),187098:e.r(19,["95686","95641","95632","95391",350,349,348,347,"95361",346,345,344,"95320",343,"95258","95253","95242","95240","95237","95236",342,"95230","95227","95220","95219",341,"95212","95211","95210","95209","95207",340,"95205","95204","95203","95202","94561","94514","94513","94505"]),187099:e.r(19,["95388","95387","95386",350,"95382","95380",349,348,"95374","95369","95368",347,"95365","95363","95360","95358","95357","95354","95351","95350","95348","95341","95340",346,345,"95334","95333",344,"95329","95328","95326","95324","95323","95322","95319","95317","95316","95315","95313","95312","95307",343,"95303","95301",342,341,340,"93725","93723","93720","93706","93668","93665","93662","93660","93656","93653","93652","93640","93638","93637","93636","93635","93631","93630","93627","93626","93625","93624","93622","93620","93614","93610","93609","93608","93606","93601","93242","93234","93210"]),187100:e.r(19,["93527","93461","93314","93313","93311","93309","93308","93307","93306","93305","93304","93301","93292","93287","93285","93280","93277","93276","93274","93272","93270","93268","93267","93266","93265","93263","93261","93260","93258","93257","93256","93252","93251","93250","93249","93247","93245","93241","93239","93238","93230","93226","93224","93221","93220","93219","93218","93215","93212","93208","93207","93206","93204","93203","93202","93201"]),187101:e.r(19,["92887",339,338,337,336,335,334,333,"92869",332,"92867","92866","92865","92861",331,330,"92808",329,328,327,"92780",326,325,"92701","92694","92692","92691","92688","92679","92678",322,321,"92675",320,318,317,314,313,312,311,310,309,308,307,"91710","91709","91708"]),187102:e.r(19,[338,337,336,335,334,"92860","92596","92595","92592","92591","92587","92586","92585","92584","92583","92582","92571","92570","92567","92563","92562","92561","92557","92555","92549","92548","92545","92544","92543","92539","92536","92532",307,"92508","92506","92505","92504","92503","92399","92373","92324","92320","92282","92276","92274","92270","92264","92262","92260","92258","92253","92241","92240","92236","92234","92223","92220","92211","92210","92203","92201","91752"]),187103:e.r(19,[339,333,332,"92845","92844","92843","92841","92840","92835","92833","92832","92831",331,330,329,328,"92805","92804","92802","92801","92708","92706",324,"92703",323,319,316,315,"90808",306,305,"90716","90715","90713","90703","90701","90680","90650","90638","90631",304,"90623","90621","90620"]),187104:e.r(19,[303,296,295,294,293,292,291,"80651",290,289,288,287,286,285,284,283,"80640",282,281,280,"80623",279,278,"80620",277,276,275,274,273,"80602",272,271,270,269,"80543","80542",268,267,266,"80530",265,264,"80520","80516","80514",263,262,"80260","80241","80239","80234","80233","80229","80221","80216","80212","80031","80030","80024","80023",261,"80020","80003","80002"]),187107:e.r(19,["06812","06811","06810","06804","06801","06798","06796","06795","06794","06793","06791","06790","06787","06786","06785","06784","06783","06782","06779","06778","06777","06776","06770","06763","06762","06759","06758","06757","06756","06755","06754","06753","06752","06751","06750","06716","06710","06708","06706","06705","06704","06702","06492","06488","06482","06470","06451","06450","06410","06107","06092","06089","06085","06081","06079","06070","06069","06068","06062","06059","06058","06053","06052","06051","06039","06032","06031","06024","06022","06020","06019","06018","06013","06001"]),187108:e.r(19,["33190","33189","33186","33183","33178","33177","33176","33175","33174","33173","33172","33166","33165","33158","33157","33156","33155","33149","33146","33145","33144","33143","33142","33139","33136","33135","33134","33133","33132","33131","33130","33129","33128","33127","33126","33125","33122","33109","33101","33032"]),187109:e.r(19,["52807","52806","52804","52803","52802","52801","52778","52777","52776","52774","52773","52772","52771","52769","52768","52767","52766","52765","52761","52760","52759","52758","52757","52756","52755","52754","52753","52752","52751","52750","52749","52748","52747","52746","52745","52742","52739","52738","52737","52732","52731","52730","52729","52728","52727","52726","52722","52721","52720","52701","52660","52659","52658","52657","52656","52655","52654","52653","52652","52651","52650","52649","52647","52646","52645","52644","52641","52640","52639","52638","52637","52635","52632","52631","52630","52627","52626","52625","52624","52623","52621","52620","52619","52601","52595","52591",258,"52586","52585","52580","52577","52576","52573",257,"52568","52567","52565",256,"52562","52561","52557","52556",255,254,253,"52550","52543","52542","52540","52535","52534",252,251,250,"52362","52361","52359","52358","52356","52355","52353",249,"52340",248,"52337","52335","52334","52333","52327","52325","52323","52322","52321","52320",247,"52317","52316","52312",246,"52309","52308","52307","52306",245,244,"52255","52254",243,"52252","52251","52248","52247","52246","52245","52242","52241","52240",242,"52236","52235","52231",241,240,239,238,"52220","52216","52212",237,236,"52207",235,234,"52201",233,"52075","52074","52071","52070","52069","52064","52060",232,"52037",231,230,229,"52030",228,227,"50268",226,225,"50256","50255","50252","50251","50241",224,223,"50234","50232",222,221,"50225","50219","50214",220,219,"50208",218,217,"50170",216,215,"50166","50163","50162",214,"50160",213,212,211,"50145","50143","50141",210,"50138","50137","50136","50135","50127","50125","50119","50118","50116",209,208,207,"50062",206,"50057","50055","50054",205,204,203,"50028",202,"50001"]),187111:e.r(19,["52411","52405",250,"52403","52402","52401","52354","52352","52351","52349","52348",249,"52346","52345","52344","52342","52341","52339",248,"52336","52332","52330","52329","52328","52326","52324",247,"52315","52314","52313",246,245,"52302",244,"52257",243,"52249",242,"52233","52232","52229",241,240,"52225","52224","52223",239,238,"52219","52218","52217","52215","52214","52213","52211","52210",237,236,"52206",235,234,"52202","52175","52172","52171","52170","52169","52168","52166","52165","52164","52163","52162","52161","52160","52159","52158","52157","52156","52155","52154","52151","52147","52146","52144","52142","52141","52140","52136","52135","52134","52133","52132","52101",233,"52078","52077","52076","52073","52072","52068","52066","52065","52057","52056",232,"52053","52052","52050","52049","52048","52047","52046","52045","52044","52043","52042","52041","52040","52039","52038","52036","52035",231,230,229,"52003","52002","52001","50707","50703","50702","50701","50682","50681","50680","50677","50676","50675","50674","50673","50672","50671","50670","50669","50668","50667","50666","50665","50664","50662","50660","50659","50658","50657","50655","50654","50653","50652","50651","50650","50649","50648","50647","50645","50644","50643","50642","50641","50638","50636","50635","50634","50632","50631","50630","50629","50628","50627","50626","50625","50624","50623","50622","50621","50620","50619","50616","50613","50612","50611","50609","50608","50607","50606","50605","50604","50603","50602","50601","50482","50479","50477","50476","50475","50472","50471","50469","50468","50467","50466","50464","50461","50460","50459","50458","50457","50456","50455","50454","50450","50449","50448","50446","50444","50440","50435","50434","50433","50428","50426","50401","50269","50258","50242","50230",218,"50206","50173",217,"50158","50157","50154",213,"50126","50122",209,208,207,"50102",202,"50006"]),187112:e.r(19,["52594","52593","52590",258,"52584","52583","52581","52574","52572","52571",257,"52569","52566",256,"52560","52555",255,254,"52552",253,"52549","52548","52544","52537","52536",252,"52531","52530",251,"51656","51651","51647","51646","51645","51638","51637","51636","51632","51631","51630","51601","51577","51573","51566","51552","51544","51541","51535","51533","51532","51462","51453","50864","50863","50862","50861","50860","50859","50858","50857","50854","50853","50851","50849","50848","50847","50846","50845","50843","50842","50841","50840","50839","50837","50836","50835","50833","50831","50830","50801","50327","50325","50324","50323","50322",228,227,"50319","50317","50316","50315","50314","50313","50312","50311","50310","50309","50277","50276","50275","50274","50273","50272","50266",226,"50264","50263","50262","50261",225,"50254","50250","50244","50243",224,"50238",223,"50235","50233",222,221,"50226","50222","50220","50218","50217","50216","50213",220,219,"50174",216,215,"50167","50165","50164",214,"50156","50155",212,211,"50149","50147","50146","50144","50140",210,"50133","50131","50129","50128","50124","50123","50115","50111","50109","50108","50107","50103","50076","50074","50073","50072","50070","50069","50068","50067","50066","50065","50064","50063",206,"50060","50058","50052","50050",205,"50048",204,"50046",203,"50042","50039","50038","50035","50033","50032","50029","50026","50025","50023","50022","50021","50020","50009","50008","50007","50003","50002"]),187113:e.r(19,["62682","62635","62326","61774","61772","61761","61759","61755","61754","61752","61747","61745","61736","61734","61732","61723","61721","61705","61704","61701","61625","61616","61615","61614","61607","61606","61605","61604","61603","61602","61572","61569","61568","61564","61563","61559","61554","61553","61550","61547","61546","61544","61543","61542","61539","61536","61535","61534","61533","61531","61529","61528","61525","61524","61520","61519","61517","61490","61489","61488","61486","61485","61484","61482","61478","61477","61475","61474","61472","61467","61466","61465","61462","61459","61458","61455","61453","61452","61449","61448","61447","61443","61441","61440","61439","61438","61436","61435","61434","61433","61432","61431","61430","61428","61427","61423","61422","61420","61417","61416","61415","61414","61412","61411","61410","61402","61401","61361","61344","61285","61284","61283","61282","61281","61279","61278","61277","61276","61275","61273","61272","61270","61265","61264","61263","61262","61261","61259","61257","61256","61254","61252","61251","61250","61244","61243","61242","61241","61240","61239","61238","61237","61236","61235","61234","61232","61231","61230","61201","61114","61112","61111","61109","61108","61107","61104","61103","61102","61101","61089","61088","61084","61081","61078","61077","61074","61071","61070","61067","61064","61063","61062","61060","61053","61051","61050","61048","61047","61046","61044","61039","61037","61032","61028","61027","61024","61020","61019","61018","61014","61013","61011","61007"]),187114:e.r(19,["46574","46552","46532","46410","46409","46408","46407","46406","46405","46404","46403","46402","46394","46393","46391","46390","46385","46383","46382","46377","46376","46375","46373","46371","46368","46360","46356","46350","46348","46347","46346","46345","46342","46341","46340","46327","46324","46323","46322","46321","46320","46319","46312","46311","46307","46304","46303","46302","46301"]),187115:e.r(19,["66758","66528","66524","66251","66227","66226","66224","66223","66221","66220","66219","66218","66217","66216","66215","66214","66213","66212","66211","66210","66209","66208","66207","66206","66205","66204","66203","66202","66160","66118","66112","66111","66109","66106","66105","66103","66102","66101","66095","66093","66092","66091","66085","66083","66080","66079","66078","66076","66072","66071","66067","66064","66062","66061","66053","66042","66040","66039","66033","66032","66031","66030","66026","66025","66021","66018","66015","66014","66013","66012","66006"]),187116:e.r(19,["04992","04988","04987","04986","04985","04984","04983","04982","04981","04979","04978","04976","04975","04974","04973","04971","04970","04969","04967","04966","04965","04964","04963","04961","04958","04957","04956","04955","04953","04952","04951","04950","04949","04947","04945","04944","04943","04942","04941","04940","04939","04938","04937","04936","04932","04930","04929","04928","04925","04924","04923","04922","04921","04920","04918","04917","04915","04912","04911","04849","04848","04787","04786","04785","04783","04781","04780","04779","04777","04776","04774","04773","04772","04769","04768","04766","04765","04764","04763","04762","04761","04760","04758","04757","04756","04750","04747","04746","04745","04743","04742","04740","04739","04737","04736","04735","04734","04733","04732","04730","04694","04693","04691","04686","04685","04684","04683","04681","04680","04679","04677","04676","04675","04674","04673","04671","04669","04668","04667","04666","04664","04662","04660","04658","04657","04655","04654","04653","04652","04650","04649","04648","04646","04643","04642","04640","04635","04634","04631","04630","04628","04627","04626","04625","04624","04623","04622","04619","04617","04616","04614","04613","04612","04611","04609","04607","04606","04605","04497","04496","04495","04493","04492","04491","04490","04489","04488","04487","04485","04481","04479","04478","04476","04475","04474","04473","04472","04471","04469","04468","04464","04463","04462","04461","04460","04459","04457","04456","04455","04454","04453","04451","04450","04449","04448","04444","04443","04442","04441","04438","04435","04434","04431","04430","04429","04428","04427","04426","04424","04422","04421","04419","04418","04417","04416","04415","04414","04413","04412","04411","04410","04408","04406","04401","04364","04360","04359","04355","04354","04352","04351","04349","04347","04346","04345","04344","04330","04294","04292","04290","04289","04286","04285","04284","04282","04281","04280","04276","04275","04274","04271","04270","04268","04267","04265","04263","04261","04259","04258","04257","04256","04255","04254","04253","04252","04250","04240","04239","04238","04237","04236","04234","04231","04227","04226","04224","04222","04221","04220","04219","04217","04216","04210","04088","04068","04051","04041","04040","04037","04022","04010","03579"]),187117:e.r(19,["49548","49546","49544","49534","49525","49519","49512","49509","49508","49507","49506","49505","49504","49503","49464","49460","49457","49456","49451","49448","49445","49444","49443","49442","49441","49440","49435","49434","49430","49428","49426","49424","49423","49418","49417","49415","49409","49404","49403","49401","49348","49345","49341","49331","49330","49321","49319","49318","49316","49315","49306","49302","49301","48838","48809"]),187118:e.r(19,["48317","48316","48315","48314","48313","48312","48310","48309","48307","48306","48236","48093","48092","48091","48089","48088","48082","48081","48080","48066","48045","48044","48043","48038","48036","48035","48026","48021","48015"]),187120:e.r(19,["56096","56093","56082","56071","56069","56063","56058","56057","56052","56050","56044","56028","56017","56011","55946","55379","55378","55372","55352","55337","55306","55150","55129","55124","55123","55122","55121","55120","55118","55089","55088","55087","55085","55077","55076","55075","55071","55068","55065","55057","55055","55054","55053","55052","55049","55046","55044","55033","55031","55024","55021","55020","55019","55018","55016","55009","55001"]),187122:e.r(19,[164,163,162,"28554",161,160,159,158,"27986","27985","27983","27980","27979","27970","27969","27967",157,"27957","27946","27944","27942","27938","27937","27935","27932","27928","27926","27925","27924","27922","27919","27910",156,"27897","27896","27893",155,"27891","27890",154,"27888","27886","27884",153,"27882","27881","27880",152,"27878","27877","27876","27874","27873","27872",151,"27870","27869","27866","27864",150,"27862","27861",149,148,"27857","27856","27855","27853","27852","27851","27850","27849","27847","27846","27845","27844","27843","27842","27841","27840","27839",147,146,"27832","27831",145,"27829",144,"27827",143,"27825","27823","27822","27820","27819","27818","27816","27815","27813","27812","27809","27807","27805","27804","27803","27801","27597","27596","27594","27589","27587","27584","27570","27565","27563","27557","27556","27553","27551","27549","27544","27542","27537","27536",142,"27525","27508","27507"]),187124:e.r(19,["68648","68366","68183","68182","68178","68164","68157","68154","68152","68147","68144","68142","68138","68137","68136","68135","68134","68133","68132","68131","68130","68128","68127","68124","68123","68122","68118","68117","68116","68114","68112","68111","68110","68108","68107","68106","68105","68104","68102","68073","68070","68069","68066","68065","68064","68059","68050","68046","68042","68041","68040","68036","68033","68028","68025","68022","68018","68017","68015","68010","68007","68005","68003"]),187125:e.r(19,["03897","03894","03890","03887","03886","03885","03884","03883","03882","03878","03875","03874","03873","03872","03871","03870","03869","03868","03867","03865","03864","03862","03861","03860","03858","03857","03856","03855","03854","03853","03852","03851","03850","03849","03848","03847","03846","03845","03844","03842","03841","03840","03839","03838","03837","03836","03835","03833","03832","03830","03827","03826","03825","03824","03823","03820","03819","03818","03817","03816","03814","03813","03812","03811","03810","03809","03801","03291","03290","03276","03269","03261","03259","03256","03254","03253","03249","03246","03237","03227","03226","03225","03220","03218","03110","03109","03106","03104","03103","03102","03101","03077","03054","03053","03045","03044","03042","03038","03036","03034","03032","03031"]),187127:e.r(19,["88354","88352","88350","88349","88347","88344","88342","88340","88339","88337","88330","88325","88317","88314","88311","88310","88301","88268","88267","88265","88264","88263","88262","88260","88256","88255","88254","88253","88252","88250","88244","88242","88240","88232","88231","88230","88220","88210","88203","88201","88114","88081","88072","88065","88063","88061","88056","88055","88053","88052","88051","88049","88048","88047","88046","88045","88044","88043","88042","88041","88040","88039","88038","88034","88030","88029","88028","88027","88026","88025","88024","88023","88022","88021","88020","88012","88011","88009","88008","88007","88005","88004","88003","88002","88001","87943","87942","87941","87940","87939","87937","87936","87935","87933","87931","87930","87901","87832","87831","87830","87829","87828","87827","87825","87824","87823","87821","87820","87801","87357","87347","87327","87326","87323","87321","87316","87315","87312","87151","87121","87120","87114","87106","87105","87104","87102","87068","87062","87060","87051","87049","87045","87040","87038","87036","87034","87031","87028","87026","87023","87022","87021","87020","87014","87011","87007","87006","87005","87002","79922","79837","79835"]),187130:e.r(19,["11980","11978","11977","11976","11975","11973","11972","11971","11970","11968","11967","11965","11964","11963","11962","11961","11960","11959","11958","11957","11956","11955","11954","11953","11952","11949","11948","11947","11946","11944","11942","11941","11939","11937","11935","11933","11932","11931","11930","11901","11798","11794","11792","11790","11789","11788","11787","11786","11784","11780","11779","11778","11777","11776","11768","11767","11766","11764","11763","11755","11754","11747","11746","11743","11742","11741","11740","11738",82,"11733","11731","11729","11727","11725","11724","11721","11720","11717","06390"]),187133:e.r(19,[85,84,83,"11710","11598",81,"11581","11580","11575","11572","11570","11569","11566","11565","11563","11561","11559","11558","11557","11556",80,"11553","11552","11550","11549","11530","11520","11518","11516","11510","11509",79,"11096",65,"11010","11003",62]),187134:e.r(19,[114,113,"12771","12746",112,111,110,"12604","12603","12601","12594","12592",109,"12589","12586","12585",108,107,"12581","12580","12578","12577","12575","12574","12572",106,105,"12569",104,103,102,"12561","12553","12550","12549","12548","12547",101,"12545","12543","12542",100,"12538",99,98,"12528","12527","12525",97,"12522","12520","12518","12515","12514","12512","12508","12507","12504","12501","12493",96,95,"12487","12486","12484",94,"12472","12471","12466",93,92,91,90,"12440","12429",89,88,"12419","12417",87,"12404",86,"10998","10996","10992","10990","10988","10987","10985","10979","10975",61,"10973","10969",60,"10958","10953","10950","10941",59,"10933","10932","10930","10928","10926","10925","10924","10922","10921","10919","10918","10917","10916","10915","10914","10910"]),187135:e.r(19,["14892","14889","14886","14883","14882","14881","14867","14859","14854","14853","14850","14817","13905","13904","13903","13902","13901","13865","13864","13863","13862","13861","13860","13859","13856","13850","13849","13847","13846","13844","13843","13842","13841","13839","13838","13835","13834","13833","13832","13830","13827","13826","13825","13820","13815","13814","13813","13812","13811","13810","13809","13808","13807","13806","13804","13803","13802","13801","13797","13796","13795","13790","13788","13787","13786","13784","13783","13782","13780","13778","13777","13776","13775","13774","13760","13757","13756","13755","13754","13753","13752","13751","13750","13748","13747","13746","13744","13743","13740","13739","13738","13736","13734","13733","13732","13731","13730",125,"13482",124,123,"13415","13411","13348","13342","13335",122,"13326","13315",120,119,"13155",118,"13136","13124","13102","13101","13092","13087",117,"13073",116,"13068","13062","13053",115,"13045","13040","12792","12791","12790","12789","12788","12787","12786",114,"12784","12783","12781",113,"12779","12778","12777","12776","12775","12770","12769","12768","12767","12766","12765","12764","12763","12762","12760","12759","12758","12754","12752","12751","12750","12749","12748","12747","12745","12743","12742","12741",112,"12738","12737","12736","12734","12733","12732",111,"12726","12725","12724","12723","12722",110,"12720","12719","12701",108,106,104,103,"12565",101,"12544","12534","12530","12529","12526","12523","12521","12517","12516","12513","12503","12502","12498","12496","12495","12494","12492",96,"12490",95,"12485",94,"12482","12481","12480","12477","12475","12474","12473","12470","12469","12468","12465","12464","12463",93,"12460","12459",92,"12457","12456","12455","12454","12453","12452","12451","12450","12449","12448",91,"12444",90,"12442","12441","12439","12438","12436","12435","12434","12433","12432","12431","12430",89,"12427","12424","12423","12422","12421",88,"12418","12416","12414","12413","12412",87,"12410","12409","12407","12406","12405",86,"12195","12192","12184","12176","12174","12173","12172","12167","12165","12156","12155","12143","12136","12132","12130","12125","12124","12123","12120","12116","12115","12106","12093","12087","12083","12075","12062","12060","12058","12051","12046","12042","12037","12029","12024","12017","12015",60,59]),187136:e.r(19,["13502","13501","13495","13494","13493","13492","13491","13490","13486",125,"13484","13483","13480","13478","13477","13476","13471","13469",124,"13461",123,"13456","13455","13441","13440","13438","13435","13431","13425","13424","13421","13418","13417","13413","13409","13408","13403","13402","13364","13363","13355","13354","13352","13346","13338","13334",122,"13328","13323","13322","13321","13319","13318","13316","13314","13313","13310","13309","13308","13304","13303","13301","13290","13244","13224","13219","13215","13214","13212","13211","13210","13209","13208","13207","13206","13205","13204","13203","13202","13167","13166","13164","13163","13162",120,119,"13157","13153","13152",118,"13138","13135","13134","13123","13122","13120","13119","13116","13112","13110","13108","13104","13090","13088","13084","13082","13080","13078",117,116,"13069","13066","13063","13061","13060","13057","13054",115,"13051","13044","13042","13041","13039","13037","13035","13032","13031","13030","13029","13028","13027","13021","13020"]),187137:e.r(19,[187,186,"44720",185,"44714",184,"44709",183,182,181,180,179,"44703",178,177,"44685",176,175,"44666",174,173,"44652",172,171,"44645",170,169,"44630",168,"44618","44614",167,166,"44333","44325","44321","44320","44319","44314","44313","44312","44311","44310","44308","44307","44306","44305","44304","44303","44302","44301","44286","44281","44278","44264","44262","44260","44250","44240","44236","44232","44230","44224","44223","44221","44216","44203","44202","44141","44087","44067","44056"]),187138:e.r(19,[367,"97731","97499","97498","97496","97495","97494","97493","97492","97490","97489","97488","97487","97486","97481","97480","97479","97478","97477","97476","97473","97471","97470","97467","97466","97465","97463","97462","97461","97459","97458","97457",366,"97455","97454","97453","97452","97451","97450","97449",365,"97447",364,"97444","97443","97441","97439","97438","97437","97436","97435","97434","97432","97431","97430","97426","97424","97423","97420","97419","97416","97415","97414","97413","97412","97411","97408","97406","97405","97404","97403","97402","97401","97396","97394","97391","97390",363,"97388",362,"97380","97378",361,"97376",360,"97370","97369","97368","97367","97366","97365","97364","97361","97357",359,358,357,"97347",356,"97344","97343","97341","97338",355,354,"97331","97330",353,"97326","97324",352,351]),187140:e.r(19,["19504","19454","19446","19440","19438","19067","19057","19056","19055","19054","19053","19047","19044","19040","19030","19021","19020","19007","19006","19002","18980","18977","18976","18974","18972","18970","18969","18966","18964","18962","18960","18955","18954",141,"18950","18947","18946","18944","18942","18940","18938","18936","18935","18933","18932","18930","18929","18927","18925","18923","18921","18920","18917","18915","18914","18913","18912","18902","18901","18081",132,"18076","18074","18073","18070",130,"18054",129,128,127]),187141:e.r(19,["19539","19530","19529",141,140,"18624",139,"18351","18343","18333",138,137,136,"18254","18250","18244","18240","18237","18235","18232","18230","18229",135,"18212","18211",134,133,"18195","18109","18106","18104","18103","18102","18101","18092","18091","18088","18087","18086","18085","18083","18080","18079","18078",132,"18072","18071","18069","18067","18066","18065","18064","18063","18062","18059",131,130,"18053","18052","18051","18049","18046","18045",129,128,"18040","18038","18037",127,"18035","18034","18032","18031","18030","18020","18018","18017","18015","18014","18013","18012","18011"]),187143:e.r(19,["18847","18709","18708","18707","18706","18705","18704","18702","18701",140,"18660","18651","18644","18643","18642","18641","18640","18634","18621","18618","18617","18615","18612","18610","18602","18519","18518","18517","18512","18510","18509","18508","18507","18505","18504","18503","18473","18472","18471","18470","18469","18466","18465","18464","18463","18462","18461","18460","18458","18457","18456","18455","18454","18453","18452","18451","18447","18446","18445","18444","18443","18440","18439","18438","18437","18436","18435","18434","18433","18431","18428","18426","18425","18424","18421","18420","18419","18417","18415","18414","18411","18407","18405","18403","18372","18371","18370","18360","18357","18356","18355","18354",139,"18350","18349","18347","18346","18344","18342","18340","18337","18336","18335","18334","18332",138,137,"18328","18327","18326","18325","18324","18323","18322","18321","18302","18301",136,"18249","18239","18234","18225","18224","18223","18222","18221",135,134,"18202",133,131]),187144:e.r(19,["16157","16141","16136","16123","16120","16117","16115","16063","16059","16055","16046","16037","15321","15275","15243","15241","15238","15237","15236","15235","15234","15229","15228","15226","15225","15223","15221","15220","15218","15216","15215","15214","15212","15209","15208","15206","15205","15204","15202","15147","15145","15144","15143","15142","15139","15136","15126","15116","15112","15108","15106","15101","15090","15086","15084","15082","15081","15077","15076","15075","15074","15071","15066","15065","15064","15061","15059","15057","15056","15052","15051","15050","15049","15046","15044","15043","15042","15031","15030","15027","15026","15024","15021","15017","15015","15014","15010","15009","15007","15006","15005","15003","15001"]),187146:e.r(19,["78599","78598","78597","78596","78594","78593","78592","78590","78589","78586","78583","78580","78579","78578","78577","78575","78570","78569","78567","78566","78562","78561","78559","78558","78552","78550","78543","78542","78541","78539","78538","78537","78535","78526","78521","78520","78516","78504","78418","78385","78379","78363","78355","78338"]),187149:e.r(19,["23898","23888","23878","23874","23866","23851","23837","23829","23828","23827","23488","23487","23486","23480","23464","23462","23461","23460","23459","23457","23456","23455","23454","23453","23452","23451","23442","23441","23440","23438","23437","23436","23435","23434","23433","23432","23430","23427","23426","23423","23422","23421","23420","23418","23417","23416","23415","23414","23413","23410","23409","23408","23407","23405","23401","23398","23395","23389","23359","23358","23357","23356","23354","23350","23347","23337","23336","23323","23322","23321","23320","23316","23315","23314","23310","23308","23307","23306","23304","23303","23302","23301"]),187155:e.r(19,["23117","23069","23047","23024","23015","22989","22973","22972","22968","22960","22957","22948","22942","22940","22936","22935","22932","22923","22901","22746","22743","22741","22740","22738","22737","22736","22735","22734","22733","22732","22731","22730","22729","22727","22726","22725","22724","22723","22722","22719","22718","22716","22715","22714","22713","22711","22709","22701","22580","22567","22556","22554","22553","22551","22546","22542","22538","22535","22534","22514","22508","22485","22448","22443","22438","22433","22427","22408","22407","22406","22405","22401","22193","22192","22191","22172","22134","22125","22026","22025","20186","20181","20136","20119","20112","20106"]),187157:e.r(19,["98950","98946","98943","98941","98940","98934","98926","98925","98922","98901","98852","98847","98846","98836","98831","98828","98826","98822","98821","98817","98816","98815","98811","98802","98801","98580","98558","98446","98445","98433","98396","98391","98390","98387","98385","98375","98374","98372","98360","98338","98330","98328","98323","98321",368,"98296","98294","98292","98290","98288","98272","98258","98256","98252","98251","98241","98224","98223","98092","98077","98075","98074","98072","98068","98065","98059","98058","98053","98052","98051","98050","98045","98042","98038","98031","98030","98029","98027","98025","98024","98022","98019","98014","98010","98006","98002","98001"]),187158:e.r(19,["53589","53585","53563","53548","53546","53545","53538","53536","53534","53525","53511","53505","53501","53406","53405","53404","53403","53402","53235","53228","53221","53220","53207","53195","53192","53191","53190","53185","53184","53182","53181","53179","53177","53176","53172","53170","53168","53167","53158","53157","53154","53150","53149","53147","53144","53143","53142","53140","53139","53132","53130","53129","53128","53126","53125","53121","53120","53119","53115","53114","53110","53108","53105","53104"]),187159:e.r(19,["54984","54981","54977","54966","54945","54943","54930","54921","54909","54773","54772","54770","54769","54768","54767","54763","54762","54761","54760","54759","54758","54757","54756","54755","54754","54751","54750","54749","54747","54746","54742","54741","54740","54739","54738","54737","54736","54734","54730","54729","54728","54727","54726","54725","54724","54723","54722","54721","54720","54703","54701","54670","54669","54667","54666","54665","54664","54661","54660","54659","54658","54657","54656","54655","54654","54653","54652","54651","54650","54648","54646","54645","54644","54643","54642","54639","54638","54637","54636","54635","54634","54632","54631","54630","54629","54628","54627","54626","54625","54624","54623","54622","54621","54619","54618","54616","54615","54614","54613","54612","54611","54610","54603","54601","54499","54495","54494","54489","54482","54481","54475","54473","54469","54467","54466","54458","54457","54455","54454","54449","54443","54423","54413","54412","54410","54407","54406","54022","54021","54014","54013","54011","54005","54003","54002","53968","53965","53964","53962","53961","53959","53952","53951","53950","53948","53944","53943","53942","53941","53937","53936","53934","53929","53924","53920","53913","53910","53827","53826","53825","53821","53820","53818","53817","53816","53813","53812","53811","53810","53809","53808","53807","53806","53805","53804","53802","53801","53588","53584","53581","53573","53569","53556","53554","53543","53540","53518"]),187915:e.r(95,"liveramp_Charter_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1765187608","187915"),187916:e.r(95,"liveramp_Charter_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1566492038","187916"),187917:e.r(95,"liveramp_Charter_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","314784792","187917"),188044:e.r(9,0,e.y(3,374),1,1),189930:e.r(63,"1000458706","189930","1000458726","189930","1000458736","189930","1000458746","189930","1000458756","189930"),191656:e.q(e.tw(e.cb(0,e.y(12,537),e.ge(1),1),5184e6)),192429:e.r(31,3,e.ref(0),6,["DyX6UffV"]),193022:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","530631815","193022"),193023:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1726659569","193023"),193025:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","2107687341","193025"),193026:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1431201507","193026"),193027:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","737781229","193027"),193028:e.r(95,"liveramp_ADT_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","402869262","193028"),194778:e.r(130,1,1,3,391),194783:e.r(130,1,1,3,421),194784:e.r(130,1,1,3,446),194785:e.r(130,1,1,3,474),194786:e.r(130,1,1,3,375),194787:e.r(130,1,1,3,434),194788:e.r(130,1,1,3,436),194789:e.r(130,1,1,3,422),194796:e.r(130,3,3,12,536),195993:e.r(30,0,e.af_u(["properties","realtor","WordpressTag"],e.bsc([],["Zu275zAe","rXw0X3W7","z6CF4DcU"])),e.ge(1),1,4,e.os(e.e,33,[6959903413,6957167475,6957167265,6957166980,6957166743,6957166728]),e.ge(1),1),197982:e.r(95,"news_corp_dow_jones_segments","P0224","197982"),197983:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","77229","197983"),197997:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","99188","197997"),197998:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76922","197998"),197999:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76867","197999"),198001:e.r(107,"198001"),198002:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76887","198002"),198003:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76886","198003"),198004:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76891","198004"),198005:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","75885","198005"),198591:e.r(45,"eyeota","1696","198591","liveramp_Alliant","1000846756","198591","liveramp_Experian","1004268459","198591","eyeota","13252","198591"),198984:e.r(95,"8a69a14e-eb2d-4eed-b253-f0a442da9b45","3iOLrDm6","198984"),201559:e.r(32,"23983f89-5fee-443e-b0c5-8f0c9ce001d8",e.ge(.77015513),"198005"),201560:e.r(32,"1ac0c757-e19e-4c42-af3c-201a14cb6e96",e.ge(.79459023),"198004"),201561:e.r(32,"36bc35bc-03e8-49d7-8a21-417fd6ab61fe",e.ge(.8453673),"198003"),201562:e.r(32,"109e357a-8b7a-49fa-9ea8-ec05695d4ae1",e.ge(.8280099),"198001"),201563:e.r(32,"53427060-de33-4d74-96bc-c50c1b861543",e.ge(.7975409),"197999"),201564:e.r(32,"68a2f1fa-ccb5-454b-a463-f08de95e9544",e.ge(.81123275),"197998"),201565:e.r(32,"279b1219-d280-4dcd-a05c-d2efa6d79164",e.ge(.73285794),"197997"),201566:e.r(32,"d4f97554-6720-4d50-ad50-dc71c6fa0c8c",e.ge(.79608035),"197983"),201567:e.r(32,"f73db0e9-828f-4485-b253-29db77abb31b",e.ge(.76655614),"197982"),201568:e.r(32,"def0e389-6f0e-47e1-b54e-3e1d19cd6481",e.ge(.79627943),"198002"),202776:e.r(95,"news_corp_dow_jones_segments","P0106","202776"),202911:e.r(32,"3b199647-f4ae-44b1-aa28-2e8264664b0d",e.ge(.929043),"202776"),206405:e.r(1,[e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","106580",!1,"206405"),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76886",!1,"206405"),e.isp("news_corp_dow_jones_segments","P0286",!1,"206405"),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","90014",!1,"206405"),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","186580",!1,"206405"),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","107819",!1,"206405"),e.isp("news_corp_dow_jones_segments","P0179",!1,"206405")]),206504:e.r(1,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],206405)),e.cw(2,e.pe(8,206405)),e.ge(1)),e.cb(0,e.o([e.os(e.cx,20,[504,483,485,487,509,508,476,484,491,"cios",488,486,492]),e.os(e.cx,25,[504,483,509,508,476,484,491,492]),e.pc_(31,487),e.os(e.s,19,[476,483,485,487,491,492,504,508]),e.os(e.s,21,[476,504]),e.ps(["campaign","name"],504),e.os(e.s,22,[476,483,485,487,491,492,504,508]),e.os(e.s,23,[476,483,485,487,491,492,504,508]),e.os(e.s,28,[484,486,488,504]),e.os(e.s,29,[476,484,486,487,509])]),e.ge(1),1)]),206652:e.r(35,"news_corp_dow_jones_segments","P0286","206652","P0215","206652","P0028","206652"),206656:e.r(34,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76869",!1,"206656","news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76849",!1,"206656"),206657:e.r(95,"news_corp_dow_jones_segments","P0293","206657"),206664:e.r(21,e.os(e.s,19,[496,522,523,531]),e.os(e.s,22,[496,522,523,531]),e.os(e.s,23,[496,522,523,531]),[449,496,522,523,531],[449,496,522,523],41,523,522,523,496),207123:e.r(35,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","117026","207123","P0310","207123","P0313","207123"),207125:e.r(34,"news_corp_dow_jones_segments","P0248",!1,"207125","news_corp_dow_jones_segments","P0246",!1,"207125"),207965:e.r(31,0,e.bsc_(["geo_info","continent"],["sf+0wHmC"]),["geo_info","country"],["/iPFLcJE","EXYOGqxD","G/Qp+UBo","HjazHniC","JZpuk1uE","QZN7IPvo","QqsMlKHj","SBJkjIqJ","WqWIcUq0","ikvxLhey","pIQvAjTX","xISxN+LR"]),207970:e.r(36,"207392","207970","81579","207970"),207971:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_ny_post","207392","207971"),207972:e.r(21,e.ps(19,529),e.ps(22,529),e.ps(23,529),[456,529],[456,529],31,529,529,529,529),208476:e.r(95,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","645415015","208476"),208480:e.r(95,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1406053043","208480"),208537:e.r(95,"liveramp_Lowes_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","410290287","208537"),208539:e.r(106,"208539"),208559:e.r(106,"208559"),208771:e.r(95,"liveramp_Lowes_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1207837190","208771"),210691:e.r(95,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1205137926","210691"),211011:e.r(131,27),211012:e.r(132,27),211013:e.r(133,27),211014:e.r(134,27),211015:e.r(135,27),211016:e.r(131,26),211017:e.r(132,26),211018:e.r(133,26),211019:e.r(134,26),211020:e.r(135,26),213129:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_ny_post","87434","213129"),213131:e.r(22,289),213132:e.q(e.cb(0,e.os(e.c,["privacy_sandbox_topics_v2"],[365,364]),e.ge(1),1)),213133:e.r(22,173),213135:e.r(22,263),213137:e.r(129,16,409),213138:e.r(112,0,e.o([e.pc_(16,"PET"),e.os(e.cx,17,["CAT","DOG","PETS"])]),1,1),213460:e.r(36,"113594","213460","87430","213460"),213870:e.r(2,"d1ad9062-75b2-4958-a2bd-d5be022792f5",.723196,"213129"),213871:e.r(2,"1b8961f8-3eac-4da5-b219-087ab3f8ed5b",.799777,"213460"),213872:e.r(32,"0812fb73-ec3a-4b54-969a-3bb8ace8b252",e.ge(.87966865),"213133"),228875:e.r(10,5,33,[6964059722,6964059041,6964058600,6962997301,6960265098,6960264666,6960264603,6964060061,6964060055,6964060007,6964059983,6964059791,6964059092,6962997259,6962979757]),230075:e.r(95,"3ff6823c-576b-486a-a3d8-10049d1f50e0","cmbq4nuU","230075"),230348:e.r(9,0,e.pc_(["realtor","customkv"],"LUXURY"),1,1),237324:e.q(e.ocqs([e.isp("news_corp_dow_jones_segments","P0176",!1,"237324"),e.isp("news_corp_dow_jones_segments","P0098",!1,"237324"),e.isp("news_corp_dow_jones_segments","P0099",!1,"237324"),e.isp("news_corp_dow_jones_segments","P0055",!1,"237324"),e.isp("news_corp_dow_jones_segments","P0043",!1,"237324"),e.isp("news_corp_dow_jones_segments","P0022",!1,"237324"),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","76879",!1,"237324")])),237325:e.r(109,237324,237324),237974:e.r(12,4,32,3282445377),242265:e.r(25,300,300,5,454),242266:e.r(16,300,300,e.ps(5,454),38,"WEB_PH"),242267:e.r(136,1,1),244915:e.r(10,4,33,[6957552158,6957551984,6957551942,6957551495,6957551483,6957551417,6957551243,6957551030,6957549800,6956463724,6953750379,6956835737,6956835593,6956835590,6956835563,6956835548,6953028855]),246178:e.r(30,0,e.pc_(16,444),e.ge(1),1,0,e.pc_(17,444),e.ge(1),1),246737:e.q(e.cb(0,e.o([e.os(e.cx,20,[511,514,526,"us soccer",493,510,456,535,529]),e.os(e.cx,25,[456,535,529]),e.pc_(31,529),e.os(e.s,19,[510,511,514,526,529,535]),e.os(e.s,21,[493,511,514,529,535]),e.os(e.s,22,[493,510,511,514,526,529,535]),e.os(e.s,23,[510,511,514,526,529,535]),e.os(e.s,36,["champions-league",493,510,511,"premier-league",526,529,"uefa","world-cup"]),e.ps(28,529),e.os(e.s,29,[529,535])]),e.ge(3),3)),248104:e.r(72,e.isp("news_corp_dow_jones_segments","P0033",!1,"248104"),e.isp("news_corp_dow_jones_segments","P0339",!1,"248104"),e.isp("news_corp_dow_jones_segments","P0338",!1,"248104"),e.isp("news_corp_dow_jones_segments","P0341",!1,"248104"),e.isp("news_corp_dow_jones_segments","P0342",!1,"248104"),e.isp("news_corp_dow_jones_segments","P0340",!1,"248104"),e.o([e.os(e.cx,20,[525,479,499,490,"tourism",532,513,478,477,"holiday travel",533,534,498,497]),e.os(e.cx,25,[533,534,498,497]),e.pc_(41,533),e.pc_(31,533),e.os(e.s,19,[497,533,534]),e.os(e.s,21,[498,533,534]),e.os(e.s,22,[497,533,534]),e.os(e.s,23,[497,533,534]),e.os(e.s,36,[477,478,479,490,497,499,513,525,532,533,534]),e.ps(28,533),e.os(e.s,29,[498,533])]),3,3),248492:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163664","248492"),248493:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163663","248493"),248494:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163662","248494"),248495:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163661","248495"),248497:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163660","248497"),248499:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163659","248499"),248500:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163658","248500"),248501:e.r(95,"news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","163657","248501"),248676:e.r(20,7,["11201","11203","11204","11205","11206","11207","11208","11209","11210","11211","11212","11213","11214","11215","11216","11217","11218","11219","11220","11221","11222","11223","11224","11225","11226","11228","11229","11230","11231","11232","11233","11234","11235","11236","11237","11238","11239","11240","11241","11242","11243","11247","11249","11252","11256"]),248677:e.r(20,7,[63,64,"11101","11102","11103","11104","11105","11106","11109","11351","11352",66,"11355",67,68,69,70,71,72,73,74,75,"11365","11366","11367","11368","11369","11370","11371","11372","11373","11374","11375","11377","11378","11379","11385","11411","11412","11413","11414","11415","11416","11417","11418","11419","11420","11421","11422","11423",76,77,78,"11429","11430","11432","11433","11434","11435","11436","11451","11499","11691","11692","11693","11694","11697"]),248678:e.r(20,7,["10451","10452","10453","10454","10455","10456","10457","10458","10459","10460","10461","10462","10463","10464","10465","10466","10467","10468","10469","10470","10471","10472","10473","10474","10475"]),248679:e.r(20,7,["10301","10302","10303","10304","10305","10306","10307","10308","10309","10310","10311","10312","10313","10314"]),248680:e.r(20,7,["10001","10002","10003","10004","10005","10006","10007","10009","10010","10011","10012","10013","10014","10016","10017","10018","10019","10020","10021","10022","10023","10024","10025","10026","10027","10028","10029","10030","10031","10032","10033","10034","10035","10036","10037","10038","10039","10040","10041","10044","10048","10055","10060","10065","10069","10075","10080","10081","10082","10087","10090","10095","10098","10099","10101","10102","10103","10104","10105","10106","10107","10108","10109","10110","10111","10112","10113","10114","10115","10118","10119","10120","10121","10122","10123","10128","10129","10150","10151","10152","10153","10154","10155","10156","10157","10158","10159","10161","10162","10163","10164","10165","10166","10167","10168","10169","10170","10171","10172","10173","10174","10175","10176","10177","10178","10197","10199","10270","10271","10278","10279","10280","10281","10282"]),248875:e.q(e.ocqs([e.ifp("248680"),e.ifp("248676"),e.ifp("248678"),e.ifp("248677"),e.ifp("248679")])),72374:e.r(26),83650:e.r(69,0,0,e.ps(9,501),5,384),83654:e.r(123,1,1,e.s,9,["https://www.realtor.com/mortgage/rates"]),83657:e.r(112,0,e.bsc_(9,["1/sYTKSH","7DCLwLM4","Bo0z8VPa","MDJ+OPkX","T0aCGeKa","TI40oxth","jKrrBx9Z","kT2rIMbk","rnj2mGTI","uVCIBVBa","v8vARIhk","zjXr1G4u"]),1,1),83658:e.r(119,3,9,"https://www.realtor.com/advice/guides/first-time-home-buyer"),83659:e.r(69,3,3,e.y(6,447),6,407),83722:e.r(119,0,9,"https://www.realtor.com/welcome/first-time-buyer"),84413:e.r(129,17,259),84677:e.q(e.tw(e.cb(0,e.os(e.s,5,["hp-new/buy","hp-new/rent","hp-return/buy","hp-return/rent","hp/buy","hp/rent","ldp/const","ldp/fore","ldp/nh",506,"ldp/sale","ldpqv/const","ldpqv/fore","ldpqv/nh",507,"ldpqv/sale","srplist/const","srplist/fore","srplist/nh","srplist/sale","srpmap/const","srpmap/fore","srpmap/nh","srpmap/sale"]),e.ge(10),10),864e5)),84732:e.r(38,83650,83650,83657,83657,83658,83658,83722,83722,102174,102174),84733:e.r(121,[480,503]),84734:e.r(114,0,1,1,8),84735:e.r(118,3,14,"poor"),84736:e.r(118,3,14,"fair"),84737:e.r(118,3,14,"good"),84738:e.r(118,3,14,"excellent"),84739:e.r(124,17),84740:e.r(124,16),84741:e.r(118,3,6,"Home Affordability Calc (Clicked Vet checkbox)"),84742:e.r(118,3,6,"LDP Lead Form (Clicked Vet checkbox)"),84743:e.r(118,3,6,"LDP Monthly Payment (Clicked Vet checkbox)"),84744:e.r(118,3,6,"LDP Payment Estimate Overlay (Clicked Vet checkbox)"),84745:e.r(118,3,6,"Mortgage Calc (Clicked Vet checkbox)"),84746:e.r(118,3,6,"LDP Payment Estimate Overlay (Visit)"),84747:e.r(121,[480,494]),84748:e.r(119,0,9,"https://www.realtor.com/mortgage"),84749:e.r(93,"https://www.realtor.com/mortgage/tools/refinance-calculator","FIN/CALC/REFI"),84750:e.r(93,"https://www.realtor.com/mortgage/tools/mortgage-calculator","FIN/CALC/MORT"),84751:e.r(119,0,9,"https://www.realtor.com/mortgage/tools/affordability-calculator"),84752:e.r(118,3,6,\'SRP Moving Cost Calc (Clicked "Get Estimates")\'),84753:e.r(116,3,1,1,6,455),84754:e.r(92,"https://www.realtor.com/landlords","REALTOR.COM/LANDLORDS + CHILD PAGES, AKA AVAIL LANDING PAGES"),85007:e.r(29,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84741)),e.cw(2,e.pe(8,84741)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84742)),e.cw(2,e.pe(8,84742)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84745)),e.cw(2,e.pe(8,84745)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84743)),e.cw(2,e.pe(8,84743)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84744)),e.cw(2,e.pe(8,84744)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],141993)),e.cw(2,e.pe(8,141993)),e.ge(1))),85008:e.r(60,"1000459266","85008","liveramp_AnalyticsIQ","1005883351","85008","liveramp_Experian","1004269579","85008","liveramp_Experian","1004269599","85008","1000459276","85008","liveramp_AnalyticsIQ","1000691206","85008","1000462846","85008","liveramp_AnalyticsIQ","1000693396","85008"),85009:e.r(52,"1285","85009","liveramp_Acxiom","4117","85009","liveramp_Acxiom","300325399","85009","liveramp_Acxiom","300324999","85009","liveramp_Acxiom","300325599","85009","liveramp_Acxiom","300180499","85009","liveramp_Acxiom","300325999","85009","liveramp_Acxiom","300326699","85009","liveramp_Acxiom","1295","85009","liveramp_Acxiom","300325199","85009","liveramp_Acxiom","300325499","85009","liveramp_Acxiom","300325699","85009","liveramp_Acxiom","300326299","85009"),85010:e.r(48,"liveramp_Acxiom","1948","85010","liveramp_Acxiom","1244","85010","liveramp_Acxiom","1248","85010","10506","85010","300437699","85010","liveramp_Acxiom","1241","85010","1242","85010","liveramp_Acxiom","1243","85010","liveramp_Acxiom","1249","85010","liveramp_Acxiom","300438199","85010","liveramp_Acxiom","300437699","85010","liveramp_Acxiom","300437799","85010"),85011:e.r(28,[e.itp("liveramp_IXIDigital","1000091534",!1,"85011"),e.itp("liveramp_IXIDigital","1001357449",!1,"85011"),e.itp("liveramp_Acxiom","300493899",!1,"85011"),e.itp("liveramp_Acxiom","300046699",!1,"85011"),e.itp("liveramp_Acxiom","300534499",!1,"85011"),e.itp("liveramp_Acxiom","300046599",!1,"85011"),e.itp("liveramp_Acxiom","300534099",!1,"85011"),e.itp("liveramp_Acxiom","300493799",!1,"85011"),e.itp("liveramp_IXIDigital","1001357439",!1,"85011"),e.itp("liveramp_IXIDigital","1001357459",!1,"85011"),e.itp("liveramp_IXIDigital","1001357479",!1,"85011"),e.itp("liveramp_IXIDigital","1001357499",!1,"85011"),e.itp("liveramp_IXIDigital","1001357449",!1,"85011"),e.itp("liveramp_IXIDigital","1001357469",!1,"85011"),e.itp("liveramp_IXIDigital","1001357489",!1,"85011"),e.itp("liveramp_IXIDigital","1001357509",!1,"85011")]),85012:e.r(28,[e.itp("liveramp_Epsilon","1002890016",!1,"85012"),e.itp("liveramp_AnalyticsIQ","1002176636",!1,"85012"),e.itp("liveramp_Experian","1007229001",!1,"85012"),e.itp("eyeota","287",!1,"85012"),e.itp("liveramp_Epsilon","1003070176",!1,"85012"),e.itp("liveramp_Epsilon","1003070146",!1,"85012"),e.itp("liveramp_Epsilon","1003070156",!1,"85012"),e.itp("liveramp_Epsilon","1003070206",!1,"85012"),e.itp("liveramp_Epsilon","1003070216",!1,"85012"),e.itp("liveramp_Epsilon","1003070186",!1,"85012"),e.itp("liveramp_Epsilon","1003070196",!1,"85012"),e.itp("liveramp_Epsilon","1003070226",!1,"85012"),e.itp("liveramp_Epsilon","1003070236",!1,"85012"),e.itp("liveramp_Epsilon","1003070136",!1,"85012"),e.itp("liveramp_Epsilon","1003070306",!1,"85012"),e.itp("liveramp_Epsilon","1003070316",!1,"85012"),e.itp("liveramp_Epsilon","1003070326",!1,"85012"),e.itp("liveramp_StatSocial","1006916281",!1,"85012"),e.itp("liveramp_Epsilon","1003070286",!1,"85012"),e.itp("liveramp_Epsilon","1003070296",!1,"85012"),e.itp("liveramp_Epsilon","1003070856",!1,"85012"),e.itp("liveramp_Epsilon","1003070866",!1,"85012"),e.itp("liveramp_Epsilon","1003200259",!1,"85012"),e.itp("liveramp_Epsilon","1433414455",!1,"85012"),e.itp("liveramp_killi","1006862371",!1,"85012"),e.itp("liveramp_killi","1006862361",!1,"85012"),e.itp("liveramp_killi","1006862351",!1,"85012"),e.itp("liveramp_killi","1006862341",!1,"85012"),e.itp("liveramp_killi","1006862331",!1,"85012"),e.itp("liveramp_killi","1006862321",!1,"85012"),e.itp("liveramp_killi","1006862311",!1,"85012"),e.itp("liveramp_killi","1006862401",!1,"85012"),e.itp("liveramp_killi","1006862391",!1,"85012"),e.itp("liveramp_killi","1006862301",!1,"85012"),e.itp("liveramp_killi","1006862491",!1,"85012"),e.itp("liveramp_killi","1006862481",!1,"85012"),e.itp("liveramp_killi","1006862471",!1,"85012"),e.itp("liveramp_killi","1006862461",!1,"85012"),e.itp("liveramp_killi","1006862451",!1,"85012"),e.itp("liveramp_killi","1006862441",!1,"85012"),e.itp("liveramp_killi","1006862431",!1,"85012"),e.itp("liveramp_killi","1006862421",!1,"85012"),e.itp("liveramp_killi","1006862511",!1,"85012"),e.itp("liveramp_killi","1006862731",!1,"85012")]),85013:e.r(37,84732,84732,85012,85012),85014:e.r(56,"1824","85014","1825","85014","4132","85014","4133","85014"),85015:e.r(66,"1000724556","85015","1000724566","85015"),85016:e.r(50,"liveramp_IXIDigital","1000724506","85016","liveramp_IXIDigital","1000724526",!1,"85016","liveramp_IXIDigital","1000724546",!1,"85016","liveramp_IXIDigital","1000724536",!1,"85016","liveramp_IXIDigital","1000724496",!1,"85016","liveramp_IXIDigital","1000724516",!1,"85016"),85017:e.r(110,"liveramp_Acxiom","300407799",!1,"85017"),85302:e.r(119,0,9,"moving.com"),85403:e.r(95,"liveramp_CitiMortgage_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1393668231","85403"),85593:e.r(113,0,e.os(e.w,["realtor","searchedCounty"],["06095","06061","06115","06017","06077","06067","06113","06101"]),1,1),85653:e.r(27,["v+jlIscF","ycBoyTWB"]),87312:e.r(118,3,6,"LDP Monthly Payment (Clicked \'Get Pre-Approved\' button)"),87313:e.r(118,3,6,"LDP Monthly Payment (Clicked \'Veterans\' button)"),87314:e.r(68,e.cb(3,e.bsc_(6,["8BG5EdpM"]),e.ge(1),1),e.cb(0,e.os(e.s,9,["realtor.com/marketing"]),e.ge(1),1),7776e6),87317:e.r(92,"https://www.realtor.com/advice/guides/home-insurance","INSURGUIDE"),87421:e.r(114,0,1,1,10),87422:e.r(125,["0X/FUUjr","9oEn36EQ","AePdzADv","JKQB9w/W","L+Xq7RIv","Uz0seP4p","VGv+MxIb","b6rjt86U","cZkfBtgq","epctBzp0","i6LedZiW","ipUN20Lv","jajolwB9","kFgC7Y1f","q7Awl45C","vH5wnVZ5","xmuyRyk9"]),87487:e.r(68,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],85012)),e.cw(2,e.pe(8,85012)),e.ge(1)),e.cb(0,e.af_u(["properties","realtor","WordpressTag"],e.bsc([],["CxJYrj+0","Xzu58HXs"])),e.ge(3),3),3456e7),87488:e.q(e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84677)),e.cw(2,e.pe(8,84677)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87490)),e.cw(2,e.pe(8,87490)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87505)),e.cw(2,e.pe(8,87505)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],85302)),e.cw(2,e.pe(8,85302)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87618)),e.cw(2,e.pe(8,87618)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87619)),e.cw(2,e.pe(8,87619)),e.ge(1)),e.tw(e.cb(0,e.a([e.pge(37,0),e.ple(37,6)]),e.ge(30),30),2592e6),e.tw(e.cb(0,e.pge(11,1),e.ge(3),3),2592e6),e.tw(e.cb(0,e.pge(13,1),e.ge(3),3),2592e6)])),87490:e.r(115,3,1,1,6,455),87491:e.r(94,1,1,1,1),87492:e.r(4,e.tw(e.cb(4,e.ps(42,460),e.ge(1),1),7776e6),[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87491)),e.cw(2,e.pe(8,87491)),e.ge(1)),e.tw(e.cb(0,e.os(e.s,5,["blog2/advice/fin","blog2/video/fin","fin/calc/mort","fin/calc/refi","fin/calc/rentbuy","fin/mort/rates"]),e.ge(3),3),7776e6),e.tw(e.cb(3,e.y(6,408),e.ge(1),1),2592e6),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87505)),e.cw(2,e.pe(8,87505)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87506)),e.cw(2,e.pe(8,87506)),e.ge(1)),e.isp("2P_realtor_consumer_classification_model_PREAPPROVAL","9",!1,"87492"),e.isp("2P_realtor_consumer_classification_model_PREAPPROVAL","8",!1,"87492")]),87493:e.r(123,5,5,e.s,5,["nfs","sold"]),87494:e.r(29,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87493)),e.cw(2,e.pe(8,87493)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87520)),e.cw(2,e.pe(8,87520)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87521)),e.cw(2,e.pe(8,87521)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87519)),e.cw(2,e.pe(8,87519)),e.ge(1)),e.isp("2P_realtor_consumer_classification_model_SELLER","9",!1,"87494"),e.isp("2P_realtor_consumer_classification_model_SELLER","8",!1,"87494")),87495:e.r(38,83654,83654,84750,84750,84746,84746,84747,84747,87312,87312),87496:e.r(37,83659,83659,87505,87505),87497:e.r(121,[495,515]),87498:e.r(37,87317,87317,87422,87422),87500:e.q(e.acqs([e.cb(0,e.ref(0),e.ge(1),1),e.cb(0,e.os(e.w,["realtor","dashboardUserType"],["broker","agent"]),e.ge(1),1)])),87501:e.r(27,["++eOOm7z","8GK8AefY","B0Dk1I09","S/pZLqc9","wZLtoURw"]),87502:e.r(11,0,10,["F6Y41hrW","laz+3m9t"]),87503:e.r(116,0,1,1,10,418),87504:e.r(116,0,2,2,10,418),87505:e.r(6,e.pe(10,"FAR"),1,3,e.pe(6,"FAR Realtor.com/RealEstateAgents (Submitted lead/email)"),e.ge(1),1,1),87506:e.r(114,3,1,1,4),87507:e.r(119,4,42,460),87508:e.r(44,"liveramp_IXIDigital","1000724596","87508","liveramp_IXIDigital","1000724586","87508","liveramp_IXIDigital","1000724576","87508"),87509:e.r(66,"1000724616","87509","1000724606","87509"),87510:e.r(118,0,30,"LAND"),87511:e.r(118,0,30,"MFD/MOBILE_HOME"),87512:e.r(3,[e.tw(e.cb(0,e.os(e.cx,17,[453,389,470,445,377]),e.ge(1),1),7776e6),e.tw(e.cb(0,e.os(e.cx,16,[377,389,470,409,445,453]),e.ge(2),2),7776e6),e.tw(e.cb(0,e.pge(["realtor","sqft"],2500),e.ge(2),2),7776e6)],[e.tw(e.cb(0,e.pge(13,75e4),e.ge(1),1),7776e6),e.tw(e.cb(0,e.pge(11,75e4),e.ge(1),1),7776e6),e.tw(e.cb(0,e.pge(["realtor","listingPrice"],15e5),e.ge(3),3),7776e6)]),87513:e.r(73,["buy",500],[505,527],[527,530]),87514:e.r(73,[500,524],[505,524],[524,530]),87515:e.r(71,e.ref(9),e.as(e.s,5,[495,530])),87516:e.r(71,e.a([e.ps(5,"LDP"),e.ref(12)]),e.a([e.ps(5,454),e.ref(12)])),87517:e.r(110,"liveramp_Acxiom","1249",!1,"87517"),87518:e.r(4,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87496)),e.cw(2,e.pe(8,87496)),e.e(0)),[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87517)),e.cw(2,e.pe(8,87517)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84677)),e.cw(2,e.pe(8,84677)),e.ge(1))]),87519:e.r(117,0,3,3,10,418),87520:e.r(114,0,2,2,8),87521:e.r(113,3,e.ref(4),1,1),87522:e.r(110,"liveramp_Acxiom","300408299",!1,"87522"),87523:e.r(110,"liveramp_Acxiom","300409099",!1,"87523"),87524:e.r(110,"liveramp_Acxiom","300408399",!1,"87524"),87587:e.r(32,"b5d081b2-c589-4ba9-945c-a0da6335910c",e.ge(.9026623),"87512"),87588:e.r(109,87587,87587),87591:e.r(90,2e6,2e6),87592:e.r(90,1e6,1e6),87594:e.r(74,75e4,11,1e6,13,75e4,11,1e6),87595:e.r(75,75e4,75e4),87596:e.r(75,1e6,1e6),87597:e.r(74,25e4,11,5e5,13,25e4,13,5e5),87598:e.r(91,25e4,25e4),87599:e.r(91,75e3,75e3),87600:e.q(e.ocqs([e.tw(e.cb(0,e.as(e.s,5,[515,524]),e.ge(1),1),7776e6),e.tw(e.cb(0,e.as(e.s,5,[480,524]),e.ge(1),1),7776e6)])),87601:e.r(47,"liveramp_IXIDigital","1001357549","87601","liveramp_IXIDigital","1001357559","87601","liveramp_RoyMorgan","1003202189","87601","liveramp_Alliant","1000846336","87601","liveramp_Experian","1004577759","87601","liveramp_Acxiom","1948","87601","liveramp_Acxiom","1247","87601","300448899","87601","liveramp_Yougov","1006309681","87601","liveramp_Kantar","1004779909","87601","liveramp_IXIDigital","1001357519","87601","liveramp_IXIDigital","1001357569","87601","1000454986","87601","liveramp_IXIDigital","1001357539","87601","liveramp_IXIDigital","1001357599","87601","liveramp_IXIDigital","1001357589","87601","liveramp_IXIDigital","1001357549","87601","eyeota","1407","87601","liveramp_IXIDigital","1001357529","87601","liveramp_Epsilon","1000454986","87601","liveramp_Epsilon","1000454996","87601","liveramp_RoyMorgan","1003202309","87601","liveramp_Epsilon","1003004956","87601","liveramp_Epsilon","1003004946","87601"),87602:e.r(52,"1948","87602","liveramp_Alliant","1000847486","87602","liveramp_Alliant","1000847516","87602","liveramp_Alliant","1000846316","87602","liveramp_Alliant","1000847496","87602","liveramp_RoyMorgan","1003202189","87602","liveramp_Alliant","1000846336","87602","liveramp_Epsilon","1003004796","87602","liveramp_Epsilon","1003004806","87602","liveramp_Epsilon","1003005026","87602","liveramp_Epsilon","1003022136","87602","liveramp_Epsilon","1003022116","87602","liveramp_Epsilon","1003022146","87602"),87603:e.r(40,"liveramp_Stirista","1004818349",!1,"87603","liveramp_ShareThis","1005134289",!1,"87603","eyeota","1419",!1,"87603","liveramp_Alliant","1000847476",!1,"87603","liveramp_RoyMorgan","1003202209",!1,"87603","liveramp_Acxiom","300614099",!1,"87603","liveramp_Epsilon","1003004826",!1,"87603","liveramp_Epsilon","1003004836",!1,"87603"),87604:e.r(46,"liveramp_Acxiom","32003","87604","eyeota","230","87604","liveramp_Epsilon","1003071356","87604","liveramp_ShareThis","1003555999","87604","eyeota","6676",!1,"87604"),87605:e.r(67,"1003555809","87605","32004","87605","232","87605","6677","87605","1003071416","87605"),87606:e.r(67,"1003556099","87606","32005","87606","234","87606","6678","87606","1003071406","87606"),87608:e.r(67,"1003555819","87608","32006","87608","235","87608","6679","87608","1003071396","87608"),87611:e.r(49,"liveramp_Acxiom","300728799","87611","300424706","87611","liveramp_Experian","1004258429","87611","1004258689","87611","liveramp_Experian","1004261369","87611","liveramp_Experian","1004269059","87611","liveramp_AnalyticsIQ","1001373109","87611","liveramp_Acxiom","300324899","87611","liveramp_IPSOS","1002977076","87611"),87612:e.r(28,[e.itp("liveramp_Epsilon","1000458646",!1,"87612"),e.itp("liveramp_Epsilon","1000458636",!1,"87612"),e.itp("liveramp_Epsilon","1000458656",!1,"87612"),e.itp("liveramp_Bombora","1005405039",!1,"87612"),e.itp("liveramp_killi","1006833241",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1003081666",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1003519939",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1003519949",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1000689766",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1003519959",!1,"87612"),e.itp("liveramp_AnalyticsIQ","1000689776",!1,"87612"),e.itp("liveramp_Alliant","1004570889",!1,"87612"),e.itp("liveramp_IXIDigital","1000090114",!1,"87612"),e.itp("liveramp_IXIDigital","1000090104",!1,"87612"),e.itp("liveramp_IXIDigital","1003150479",!1,"87612"),e.itp("liveramp_IXIDigital","1003150469",!1,"87612"),e.itp("liveramp_IXIDigital","1003590449",!1,"87612"),e.itp("liveramp_IXIDigital","1003590459",!1,"87612"),e.itp("liveramp_Experian","1005797961",!1,"87612"),e.itp("liveramp_Experian","1005797981",!1,"87612"),e.itp("liveramp_Illion","1005258349",!1,"87612")]),87613:e.r(64,"1000458816","87613","1000458836","87613","1000458826","87613","1000458666","87613","1000458806","87613","1000458676","87613","1005798001","87613","1003590439","87613","1003590429","87613","1004570899","87613","1004570909","87613","1003519969","87613","1003519979","87613","1000689786","87613","1000689796","87613","1003150459","87613","1003150449","87613","1000090094","87613","1000090084","87613"),87614:e.r(64,"1000458846","87614","1000458856","87614","1000458866","87614","1000458886","87614","1000458876","87614","1000458686","87614","1004602239","87614","1003590419","87614","1003590409","87614","1004570919","87614","1004570929","87614","1003519989","87614","1003519999","87614","1000689806","87614","1000689816","87614","1003150439","87614","1003150429","87614","1000090064","87614","1000090074","87614"),87615:e.r(41,"liveramp_Bombora","1005405069",!1,"87615","liveramp_Experian","1004602249",!1,"87615","liveramp_Acxiom","1932",!1,"87615","eyeota","240",!1,"87615","liveramp_Epsilon","1000458896",!1,"87615","liveramp_Epsilon","1000458696",!1,"87615","liveramp_IXIDigital","1003590399",!1,"87615","liveramp_IXIDigital","1000090054",!1,"87615","liveramp_Alliant","1004570949",!1,"87615","liveramp_Alliant","1004570959",!1,"87615","liveramp_AnalyticsIQ","1003520009",!1,"87615","liveramp_AnalyticsIQ","1000689826",!1,"87615","liveramp_IXIDigital","1003150419",!1,"87615","liveramp_IXIDigital","1000090054",!1,"87615"),87616:e.r(28,[e.itp("liveramp_Experian","1004602259",!1,"87616"),e.itp("liveramp_Experian","1004602269",!1,"87616"),e.itp("liveramp_Experian","1004602279",!1,"87616"),e.itp("liveramp_Experian","1004602289",!1,"87616"),e.itp("liveramp_Experian","1004602299",!1,"87616"),e.itp("liveramp_Experian","1004602309",!1,"87616"),e.itp("liveramp_Bombora","1005405079",!1,"87616"),e.itp("liveramp_Bombora","1005405089",!1,"87616"),e.itp("liveramp_Bombora","1005405099",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1003520019",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1000689836",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1003520029",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1003520039",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1003520049",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1003520059",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1000689846",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1000689856",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1000689866",!1,"87616"),e.itp("liveramp_AnalyticsIQ","1000689876",!1,"87616"),e.itp("liveramp_IXIDigital","1000090044",!1,"87616"),e.itp("liveramp_IXIDigital","1000090034",!1,"87616"),e.itp("liveramp_IXIDigital","1000090024",!1,"87616"),e.itp("liveramp_IXIDigital","1000090014",!1,"87616"),e.itp("liveramp_IXIDigital","1003590389",!1,"87616"),e.itp("liveramp_IXIDigital","1003590379",!1,"87616"),e.itp("liveramp_IXIDigital","1003590369",!1,"87616"),e.itp("liveramp_IXIDigital","1003590359",!1,"87616"),e.itp("liveramp_Alliant","1004570969",!1,"87616"),e.itp("liveramp_Alliant","1004570979",!1,"87616"),e.itp("liveramp_Alliant","1004570989",!1,"87616"),e.itp("liveramp_Alliant","1004570999",!1,"87616"),e.itp("liveramp_Alliant","1004571009",!1,"87616"),e.itp("liveramp_IXIDigital","1003150409",!1,"87616"),e.itp("liveramp_IXIDigital","1003150399",!1,"87616"),e.itp("liveramp_IXIDigital","1003150389",!1,"87616"),e.itp("liveramp_IXIDigital","1003150379",!1,"87616")]),87617:e.r(41,"liveramp_Experian","1004602299",!1,"87617","liveramp_Experian","1004602309",!1,"87617","liveramp_Bombora","1005405099",!1,"87617","liveramp_AnalyticsIQ","1003520049",!1,"87617","liveramp_AnalyticsIQ","1003520059",!1,"87617","liveramp_AnalyticsIQ","1000689866",!1,"87617","liveramp_AnalyticsIQ","1000689876",!1,"87617","liveramp_IXIDigital","1000090014",!1,"87617","liveramp_IXIDigital","1003590359",!1,"87617","liveramp_IXIDigital","1003150379",!1,"87617","liveramp_Acxiom","10809",!1,"87617","liveramp_Stirista","1000044974",!1,"87617","liveramp_Epsilon","1000459116",!1,"87617","liveramp_Bombora","1005405099",!1,"87617"),87618:e.r(116,3,2,2,6,408),87619:e.r(94,2,2,2,2),87806:e.r(118,3,6,"AVAIL: signed up as Tenant"),88152:e.r(95,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","376095076","88152"),88153:e.r(95,"liveramp_TXU_Energy_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1663327893","88153"),88973:e.r(110,"liveramp_Acxiom","1266",!1,"88973"),88974:e.q(e.ocqs([e.tw(e.cb(0,e.af_u(["properties","realtor","WordpressTag"],e.bsc([],["+AIsryIU","0XuYPfht","7ZCp0Lx+","8wqoAdog","D1eonyIn","FiM/n6EQ","GQlGY7jZ","HInsYpb4","Mf3M97Ci","N2cr3MZS","QZJbf6G3","QwXF0X9y","ZMT2cog+","bVV05WUM","ccLSUu8l","eyeb5GBG","jQPyhPBz","lQSheb4X","nq9fod16","oBxlUJwd","yRDdVdQ6","z4NJQaAB"])),e.ge(1),1),7776e6),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],84749)),e.cw(2,e.pe(8,84749)),e.ge(1)),e.tw(e.cb(0,e.a([e.ps(5,"BLOG"),e.os(e.s,5,[494,503])]),e.ge(1),1),7776e6),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],83654)),e.cw(2,e.pe(8,83654)),e.ge(1))])),88975:e.r(57,"liveramp_Alliant","1000848126","88975","32001","88975","eyeota","225","88975","eyeota","6672","88975","liveramp_Epsilon","1003071376","88975","liveramp_Alliant","1000848906","88975"),89152:e.r(118,0,10,"SUPPORT.REALTOR.COM/S/ aka Support for Real Estate Professionals"),89855:e.r(28,[e.itp("liveramp_ShareThis","1001785066",!1,"89855"),e.itp("liveramp_Experian","1004266459",!1,"89855"),e.itp("liveramp_Acxiom","10500",!1,"89855"),e.itp("liveramp_Epsilon","1002890146",!1,"89855"),e.itp("eyeota","35480",!1,"89855"),e.itp("liveramp_Epsilon","1002889896",!1,"89855"),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],115836)),e.cw(2,e.pe(8,115836)),e.ge(1)),e.itp("liveramp_Fluent","1004085459",!1,"89855"),e.itp("liveramp_AnalyticsIQ","1001528906",!1,"89855"),e.itp("eyeota","35481",!1,"89855"),e.itp("liveramp_PlaceIQ","1002437716",!1,"89855"),e.itp("liveramp_PlaceIQ","1002437706",!1,"89855"),e.itp("liveramp_Epsilon","1000990319",!1,"89855"),e.itp("liveramp_Epsilon","1000990309",!1,"89855"),e.itp("liveramp_Epsilon","1000990279",!1,"89855"),e.itp("liveramp_Epsilon","1000990289",!1,"89855"),e.itp("liveramp_Epsilon","1000990249",!1,"89855"),e.itp("liveramp_Epsilon","1000990269",!1,"89855"),e.itp("liveramp_Epsilon","1000990299",!1,"89855"),e.itp("liveramp_Epsilon","1000990259",!1,"89855"),e.itp("liveramp_StatSocial","1006916391",!1,"89855"),e.itp("liveramp_Experian","1004266239",!1,"89855"),e.itp("liveramp_Epsilon","1000462716",!1,"89855"),e.itp("eyeota","35543",!1,"89855"),e.itp("liveramp_Experian","1004266239",!1,"89855"),e.itp("eyeota","310",!1,"89855"),e.itp("liveramp_PlaceIQ","1002437416",!1,"89855")]),89856:e.r(39,"liveramp_Experian","1004266409",!1,"89856","liveramp_Acxiom","1200",!1,"89856","eyeota","35478",!1,"89856","liveramp_Epsilon","1002890066",!1,"89856","liveramp_AnalyticsIQ","1001528856",!1,"89856","liveramp_Epsilon","1002889546",!1,"89856","liveramp_PlaceIQ","1002437676",!1,"89856"),89857:e.r(110,"liveramp_Alliant","1001431359",!1,"89857"),89858:e.r(42,"liveramp_ShareThis","1005134259","89858","liveramp_IXIDigital","1000091374",!1,"89858","liveramp_Acxiom","300175599",!1,"89858","liveramp_ShareThis","1005134159",!1,"89858","liveramp_OnAudience","1002862206",!1,"89858","liveramp_OnAudience","1002860726",!1,"89858","liveramp_ShareThis","1001011089",!1,"89858","eyeota","35696",!1,"89858","liveramp_ShareThis","1001601026",!1,"89858"),89859:e.r(41,"liveramp_CoreLogic","1005092719",!1,"89859","liveramp_IXIDigital","1001357359",!1,"89859","liveramp_IXIDigital","1001357369",!1,"89859","liveramp_CoreLogic","1000868806",!1,"89859","liveramp_Acxiom","300047599",!1,"89859","liveramp_CoreLogic","1000868966",!1,"89859","liveramp_Acxiom","300047499",!1,"89859","liveramp_Acxiom","300494699",!1,"89859","liveramp_Experian","1004266879",!1,"89859","liveramp_Acxiom","300533099",!1,"89859","liveramp_Acxiom","300533999",!1,"89859","liveramp_Experian","1004266889",!1,"89859","liveramp_Acxiom","300493999",!1,"89859","liveramp_Epsilon","1000462086",!1,"89859"),89860:e.q(e.ocqs([e.itp("eyeota","35713",!1,"89860"),e.itp("eyeota","6702",!1,"89860"),e.itp("liveramp_Kantar","1004780049",!1,"89860"),e.itp("liveramp_OnAudience","1002860736",!1,"89860"),e.itp("liveramp_Acxiom","4118",!1,"89860"),e.itp("liveramp_OnAudience","1002860686",!1,"89860"),e.itp("liveramp_Acxiom","1276",!1,"89860"),e.itp("liveramp_Acxiom","1275",!1,"89860"),e.itp("eyeota","1466",!1,"89860"),e.itp("liveramp_ShareThis","1001011119",!1,"89860"),e.itp("liveramp_AnalyticsIQ","1003048729",!1,"89860"),e.itp("liveramp_OnAudience","1002860716",!1,"89860"),e.itp("liveramp_Alliant","1000847456",!1,"89860")])),89861:e.r(48,"liveramp_Mastercard","1005907141","89861","liveramp_Kantar","1004779829","89861","liveramp_IRI","1003675099","89861","1211","89861","1212","89861","liveramp_ShareThis","1006582341","89861","4110","89861","eyeota","35787","89861","eyeota","1661","89861","liveramp_OnAudience","1002860026","89861","liveramp_OnAudience","1002859996","89861","liveramp_Alliant","1000850586","89861"),89862:e.r(28,[e.itp("eyeota","6688",!1,"89862"),e.itp("liveramp_Alliant","1000847586",!1,"89862"),e.itp("liveramp_Alliant","1000846236",!1,"89862"),e.itp("liveramp_Alliant","1000846226",!1,"89862"),e.itp("liveramp_Alliant","1000847576",!1,"89862"),e.itp("liveramp_Epsilon","1003200289",!1,"89862"),e.itp("liveramp_Epsilon","1003200299",!1,"89862"),e.itp("liveramp_Epsilon","1003200269",!1,"89862"),e.itp("liveramp_Epsilon","1003200279",!1,"89862"),e.itp("liveramp_Epsilon","1003200309",!1,"89862"),e.itp("liveramp_Epsilon","1000462906",!1,"89862"),e.itp("liveramp_Epsilon","1000462886",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691456",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691156",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691166",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691176",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691186",!1,"89862"),e.itp("liveramp_AnalyticsIQ","1000691196",!1,"89862"),e.itp("liveramp_Epsilon","1000991509",!1,"89862"),e.itp("liveramp_killi","1006832841",!1,"89862"),e.itp("liveramp_Experian","1007228971",!1,"89862"),e.itp("liveramp_Experian","1007228971",!1,"89862"),e.itp("liveramp_Acxiom","1821",!1,"89862"),e.itp("liveramp_Epsilon","1000462976",!1,"89862"),e.itp("liveramp_Experian","1004256609",!1,"89862"),e.itp("liveramp_Experian","1004256539",!1,"89862"),e.itp("liveramp_Experian","1004256579",!1,"89862"),e.itp("liveramp_Experian","1004256559",!1,"89862"),e.itp("liveramp_Experian","1004256569",!1,"89862"),e.itp("liveramp_Experian","1004256589",!1,"89862"),e.itp("liveramp_Experian","1004256549",!1,"89862"),e.itp("liveramp_Experian","1004256599",!1,"89862"),e.itp("liveramp_Epsilon","1000461096",!1,"89862")]),89863:e.r(3,[e.itp("liveramp_Epsilon","1000461006",!1,"89863"),e.itp("liveramp_Epsilon","1000461016",!1,"89863"),e.itp("liveramp_Epsilon","1000461046",!1,"89863"),e.itp("liveramp_Epsilon","1000461126",!1,"89863"),e.itp("liveramp_killi","1007022141",!1,"89863"),e.itp("liveramp_AnalyticsIQ","1000692626",!1,"89863"),e.itp("liveramp_Experian","1004601729",!1,"89863"),e.itp("liveramp_Acxiom","1284",!1,"89863"),e.itp("liveramp_OnAudience","1002860576",!1,"89863"),e.itp("liveramp_StatSocial","1006914121",!1,"89863"),e.itp("liveramp_Alliant","1000851556",!1,"89863"),e.itp("liveramp_OnAudience","1002861716",!1,"89863"),e.itp("liveramp_Experian","1004261319",!1,"89863"),e.itp("liveramp_Experian","1004261329",!1,"89863"),e.itp("liveramp_Experian","1004261339",!1,"89863"),e.itp("liveramp_Alliant","1000851416",!1,"89863"),e.itp("liveramp_StatSocial","1006918741",!1,"89863"),e.itp("eyeota","35842",!1,"89863"),e.itp("eyeota","1530",!1,"89863"),e.itp("liveramp_ShareThis","1001601426",!1,"89863"),e.itp("liveramp_Alliant","1000851066",!1,"89863"),e.itp("liveramp_Alliant","1000846946",!1,"89863"),e.itp("liveramp_Alliant","1000851226",!1,"89863"),e.itp("liveramp_Alliant","1000846946",!1,"89863"),e.itp("liveramp_Epsilon","1000464236",!1,"89863"),e.itp("liveramp_Alliant","1000851226",!1,"89863"),e.itp("eyeota","1637",!1,"89863"),e.itp("eyeota","1639",!1,"89863"),e.itp("eyeota","1645",!1,"89863"),e.itp("liveramp_AnalyticsIQ","1001926246",!1,"89863"),e.itp("liveramp_Epsilon","1000464306",!1,"89863"),e.itp("liveramp_Kantar","1004780219",!1,"89863"),e.itp("liveramp_Epsilon","1000464526",!1,"89863"),e.itp("liveramp_Alliant","1000846976",!1,"89863"),e.itp("liveramp_Experian","1004263259",!1,"89863")],[e.itp("liveramp_Acxiom","300729399",!1,"89863"),e.itp("liveramp_Acxiom","300729299",!1,"89863"),e.itp("liveramp_Acxiom","300730399",!1,"89863"),e.itp("liveramp_Acxiom","300727599",!1,"89863"),e.itp("liveramp_Acxiom","300728099",!1,"89863"),e.itp("liveramp_Acxiom","300729599",!1,"89863"),e.itp("liveramp_Acxiom","300729499",!1,"89863"),e.itp("liveramp_AnalyticsIQ","1002176656",!1,"89863"),e.itp("liveramp_StatSocial","1006911331",!1,"89863"),e.itp("liveramp_AnalyticsIQ","1000691006",!1,"89863"),e.itp("eyeota","300",!1,"89863"),e.itp("liveramp_ShareThis","1003555829",!1,"89863"),e.itp("liveramp_Experian","1004256479",!1,"89863"),e.itp("liveramp_Illion","1005350369",!1,"89863"),e.itp("liveramp_Acxiom","1957",!1,"89863"),e.itp("eyeota","6680",!1,"89863"),e.itp("eyeota","35435",!1,"89863")]),89864:e.q(e.ocqs([e.itp("liveramp_killi","1006992091",!1,"89864"),e.itp("liveramp_Stirista","1003716309",!1,"89864"),e.itp("eyeota","322",!1,"89864"),e.itp("liveramp_Epsilon","1000462956",!1,"89864"),e.itp("liveramp_AnalyticsIQ","1000692946",!1,"89864"),e.itp("liveramp_Acxiom","1272",!1,"89864"),e.itp("liveramp_AnalyticsIQ","1000692946",!1,"89864"),e.itp("eyeota","13038",!1,"89864"),e.itp("liveramp_Epsilon","1000983559",!1,"89864"),e.itp("liveramp_Epsilon","1000983549",!1,"89864"),e.itp("liveramp_AudienceElements","1001850966",!1,"89864"),e.itp("liveramp_Acxiom","1271",!1,"89864"),e.itp("liveramp_Acxiom","1270",!1,"89864"),e.itp("eyeota","323",!1,"89864"),e.itp("eyeota","35804",!1,"89864"),e.itp("eyeota","35801",!1,"89864"),e.itp("eyeota","323",!1,"89864"),e.itp("eyeota","324",!1,"89864"),e.itp("eyeota","35802",!1,"89864")])),89865:e.r(39,"liveramp_AnalyticsIQ","1000692006",!1,"89865","liveramp_Acxiom","1270",!1,"89865","liveramp_Stirista","1000046814",!1,"89865","liveramp_Experian","1004268079",!1,"89865","liveramp_Stirista","1003716329",!1,"89865","liveramp_Epsilon","1000462016",!1,"89865","eyeota","323",!1,"89865"),89866:e.r(49,"liveramp_AnalyticsIQ","1000692336","89866","1271","89866","liveramp_Stirista","1000046824","89866","1004268119","89866","liveramp_Stirista","1003716319","89866","liveramp_Epsilon","1000462026","89866","liveramp_Epsilon","1003067876","89866","liveramp_Epsilon","1003067866","89866","eyeota","324","89866"),89867:e.r(28,[e.itp("liveramp_ShareThis","1006582371",!1,"89867"),e.itp("eyeota","6682",!1,"89867"),e.itp("eyeota","35500",!1,"89867"),e.itp("liveramp_Alliant","1000846216",!1,"89867"),e.itp("liveramp_AnalyticsIQ","1000691486",!1,"89867"),e.itp("liveramp_CoreLogic","1000868836",!1,"89867"),e.itp("liveramp_Experian","1004256519",!1,"89867"),e.itp("liveramp_PlaceIQ","1002437216",!1,"89867"),e.itp("liveramp_Epsilon","1000462106",!1,"89867"),e.itp("liveramp_Acxiom","1964",!1,"89867")]),90029:e.r(28,[e.itp("liveramp_ShareThis","1001009459",!1,"90029"),e.itp("liveramp_killi","1006892721",!1,"90029"),e.itp("liveramp_Experian","1004265459",!1,"90029"),e.itp("liveramp_Experian","1004263299",!1,"90029"),e.itp("liveramp_Stirista","1003671679",!1,"90029"),e.itp("eyeota","35407",!1,"90029"),e.itp("eyeota","6713",!1,"90029"),e.itp("liveramp_Alliant","1000847876",!1,"90029"),e.itp("liveramp_Epsilon","1003067326",!1,"90029"),e.itp("liveramp_AnalyticsIQ","1001372989",!1,"90029"),e.itp("liveramp_AnalyticsIQ","1001372999",!1,"90029"),e.itp("liveramp_OnAudience","1002863426",!1,"90029"),e.itp("liveramp_Acxiom","301127740",!1,"90029"),e.itp("liveramp_Alliant","1000852156",!1,"90029"),e.itp("liveramp_Epsilon","1003068126",!1,"90029"),e.itp("liveramp_Epsilon","1003068696",!1,"90029"),e.itp("liveramp_Epsilon","1003068686",!1,"90029"),e.itp("liveramp_Kantar","1004779419",!1,"90029"),e.itp("liveramp_Epsilon","1003068676",!1,"90029"),e.itp("liveramp_Epsilon","1000990429",!1,"90029"),e.itp("liveramp_Epsilon","1000990419",!1,"90029"),e.itp("liveramp_Mastercard","1005907081",!1,"90029"),e.itp("liveramp_Stirista","1003671439",!1,"90029"),e.itp("liveramp_Epsilon","1000985909",!1,"90029"),e.itp("liveramp_Epsilon","1000985919",!1,"90029")]),90030:e.r(47,"liveramp_ShareThis","1001013749","90030","liveramp_Alliant","1000851266","90030","liveramp_Alliant","1000846976","90030","liveramp_Bombora","1000883819","90030","liveramp_Stirista","1003668839","90030","liveramp_Bombora","1005416649","90030","liveramp_Experian","1004265449","90030","1286","90030","eyeota","1647","90030","liveramp_Experian","1004601719","90030","eyeota","35756","90030","liveramp_Experian","1004268499","90030","1000464226","90030","liveramp_OnAudience","1002860546","90030","liveramp_Alliant","1000847186","90030","liveramp_Alliant","1000851556","90030","liveramp_ShareThis","1005134149","90030","liveramp_ShareThis","1005133639","90030","liveramp_Experian","1004601749","90030","liveramp_StatSocial","1006918741","90030","eyeota","13214","90030","eyeota","1526","90030","liveramp_Alliant","1000847186","90030","liveramp_Alliant","1000851556","90030"),90419:e.r(95,"2P_Advertiser_Altice","21710477","90419"),90420:e.r(95,"2P_Advertiser_Altice","15153561","90420"),90421:e.r(95,"2P_Advertiser_Altice","15153586","90421"),90422:e.r(95,"2P_Advertiser_Altice","17355442","90422"),90423:e.r(95,"2P_Advertiser_Altice","18951877","90423"),90424:e.r(95,"2P_Advertiser_Altice","18952807","90424"),90427:e.r(95,"liveramp_VeteransUnited-MorgtageResearchCenter_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","2138307596","90427"),90583:e.r(119,0,9,"https://www.realtor.com/advice/guides/va-loan"),90584:e.r(119,0,9,"https://www.realtor.com/mortgage/va-home-loan-center"),90678:e.r(59,"1000993829","90678","liveramp_Epsilon","1000455166","90678","liveramp_Epsilon","1000455176","90678","liveramp_Acxiom","300544610","90678","300544605","90678","liveramp_Acxiom","300544601","90678","liveramp_IPSOS","1002976916","90678"),90679:e.r(46,"liveramp_StatSocial","1006912441","90679","liveramp_Acxiom","1507","90679","liveramp_OnAudience","1002859866","90679","liveramp_OnAudience","1002860596","90679","liveramp_Mastercard","1005907711",!1,"90679"),90680:e.r(46,"liveramp_ShareThis","1001290139","90680","liveramp_Acxiom","300454199","90680","liveramp_Acxiom","300454899","90680","liveramp_Alliant","1000847516","90680","liveramp_OnAudience","1002863596",!1,"90680"),90681:e.r(44,"liveramp_IPSOS","1004367399","90681","liveramp_ShareThis","1005134329","90681","eyeota","1412","90681"),90682:e.r(28,[e.itp("liveramp_Acxiom","300125104",!1,"90682"),e.itp("liveramp_Acxiom","300125102",!1,"90682"),e.itp("liveramp_Acxiom","300125103",!1,"90682"),e.itp("liveramp_Acxiom","300125101",!1,"90682"),e.itp("liveramp_Acxiom","2098",!1,"90682"),e.itp("liveramp_Acxiom","10820",!1,"90682"),e.itp("liveramp_Acxiom","2097",!1,"90682"),e.itp("liveramp_Stirista","1000045064",!1,"90682"),e.itp("liveramp_CoreLogic","1000868746",!1,"90682"),e.itp("liveramp_CoreLogic","1000868756",!1,"90682"),e.itp("liveramp_CoreLogic","1000868736",!1,"90682"),e.itp("liveramp_CoreLogic","1000868726",!1,"90682"),e.itp("liveramp_CoreLogic","1000868606",!1,"90682"),e.itp("liveramp_Epsilon","1000461566",!1,"90682"),e.itp("liveramp_Epsilon","1000461576",!1,"90682"),e.itp("liveramp_Epsilon","1000461556",!1,"90682"),e.itp("eyeota","35580",!1,"90682"),e.itp("liveramp_AnalyticsIQ","1000690626",!1,"90682"),e.itp("liveramp_AnalyticsIQ","1000690606",!1,"90682"),e.itp("liveramp_AnalyticsIQ","1000690616",!1,"90682"),e.itp("liveramp_AnalyticsIQ","1000690586",!1,"90682"),e.itp("liveramp_AnalyticsIQ","1000690596",!1,"90682")]),90683:e.q(e.acqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87617)),e.cw(2,e.pe(8,87617)),e.ge(1)),e.ocqs([e.itp("eyeota","6730",!1,"90683"),e.itp("liveramp_Mastercard","1005906931",!1,"90683"),e.itp("liveramp_Mastercard","1005908091",!1,"90683"),e.itp("liveramp_OnAudience","1002861966",!1,"90683"),e.itp("eyeota","35313",!1,"90683"),e.itp("liveramp_ShareThis","1005134019",!1,"90683"),e.itp("eyeota","1492",!1,"90683"),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],87611)),e.cw(2,e.pe(8,87611)),e.ge(1))])])),90740:e.r(46,"liveramp_Alliant","1000846536","90740","liveramp_Mastercard","1005908001","90740","liveramp_Alliant","1000850566","90740","liveramp_Alliant","1000851796","90740","liveramp_Alliant","1000850546",!1,"90740"),90741:e.r(58,"1000985009","90741","eyeota","13253","90741","eyeota","1718","90741"),90742:e.r(45,"liveramp_Stirista","1003670399","90742","liveramp_Kantar","1004779149","90742","eyeota","13443","90742","eyeota","36020","90742"),90745:e.r(40,"liveramp_IXIDigital","1000091954",!1,"90745","liveramp_Stirista","1003672989",!1,"90745","liveramp_Mastercard","1005907021",!1,"90745","liveramp_Mastercard","1005907021",!1,"90745","liveramp_PlaceIQ","1002445206",!1,"90745","eyeota","1574",!1,"90745","eyeota","35944",!1,"90745","liveramp_AnalyticsIQ","1004391769",!1,"90745"),90749:e.r(46,"liveramp_Acxiom","300730199","90749","liveramp_Experian","1004269159","90749","liveramp_Alliant","1000846236","90749","liveramp_Stirista","1004424909","90749","liveramp_Experian","1004256559",!1,"90749"),90752:e.r(39,"liveramp_Stirista","1003670779",!1,"90752","liveramp_Acxiom","300727499",!1,"90752","liveramp_Alliant","1000847586",!1,"90752","liveramp_Epsilon","1003200309",!1,"90752","liveramp_AnalyticsIQ","1000691196",!1,"90752","liveramp_Epsilon","1003200299",!1,"90752","liveramp_AnalyticsIQ","1000691186",!1,"90752"),90753:e.r(50,"liveramp_Stirista","1004424939","90753","liveramp_Alliant","1000847576",!1,"90753","liveramp_Alliant","1000846226",!1,"90753","liveramp_Epsilon","1003200289",!1,"90753","liveramp_AnalyticsIQ","1000691176",!1,"90753","liveramp_Stirista","1004424969",!1,"90753"),90754:e.r(28,[e.itp("liveramp_Epsilon","1000462446",!1,"90754"),e.itp("liveramp_Epsilon","1000462456",!1,"90754"),e.itp("liveramp_Epsilon","1000462466",!1,"90754"),e.itp("liveramp_Acxiom","1891",!1,"90754"),e.itp("liveramp_Acxiom","1892",!1,"90754"),e.itp("liveramp_Acxiom","1893",!1,"90754"),e.itp("liveramp_Acxiom","1894",!1,"90754"),e.itp("liveramp_Acxiom","1895",!1,"90754"),e.itp("liveramp_Acxiom","1896",!1,"90754"),e.itp("liveramp_Acxiom","1897",!1,"90754"),e.itp("liveramp_Acxiom","10802",!1,"90754")]),90755:e.q(e.ocqs([e.itp("liveramp_Stirista","1003671439",!1,"90755"),e.itp("liveramp_Mastercard","1005907081",!1,"90755"),e.itp("liveramp_IXIDigital","1000091604",!1,"90755"),e.itp("liveramp_Epsilon","1000997709",!1,"90755"),e.itp("liveramp_Epsilon","1000993139",!1,"90755")])),90756:e.r(45,"liveramp_ShareThis","1005133809","90756","liveramp_Epsilon","1000985649","90756","liveramp_Epsilon","1000993419","90756","liveramp_PlaceIQ","1002442576","90756"),90757:e.r(51,"3972","90757","liveramp_Epsilon","1005238209","90757","liveramp_ShareThis","1001374569","90757"),90758:e.r(59,"1000462116","90758","liveramp_Alliant","1000847596","90758","liveramp_ShareThis","1006582381","90758","liveramp_Experian","1004256529","90758","1701","90758","eyeota","35598","90758","eyeota","6698","90758"),90759:e.r(43,"liveramp_Alliant","1000853286","90759","liveramp_PlaceIQ","1002437766","90759"),90760:e.r(46,"eyeota","6697","90760","liveramp_Epsilon","1000459316","90760","liveramp_Stirista","1000306006","90760","liveramp_Experian","1004263699","90760","liveramp_Acxiom","10835",!1,"90760"),92377:e.r(42,"liveramp_Epsilon","1003071366","92377","liveramp_Epsilon","1003071356",!1,"92377","liveramp_Epsilon","1005785781",!1,"92377","liveramp_Epsilon","1000458696",!1,"92377","liveramp_Epsilon","1000458706",!1,"92377","liveramp_Epsilon","1000458716",!1,"92377","liveramp_Epsilon","1000458726",!1,"92377","liveramp_Epsilon","1000458736",!1,"92377","liveramp_Epsilon","1000458746",!1,"92377"),92380:e.q(e.ocqs([e.itp("liveramp_Acxiom","802360119",!1,"92380"),e.itp("liveramp_AnalyticsIQ","1000899369",!1,"92380"),e.itp("eyeota","35156",!1,"92380")])),92383:e.r(23,18,180),92384:e.r(24,18),92385:e.r(18,18,14,18,60),92386:e.r(18,18,60,18,180),92387:e.r(24,15),92388:e.r(18,15,14,15,60),92389:e.r(18,15,30,15,180),92390:e.r(18,15,180,15,365),92391:e.r(9,0,e.pg(15,365),1,1),93351:e.r(26),95572:e.r(27,["mC0mVyaW"]),95573:e.r(27,["1hMkawiT"]),95574:e.r(27,["ar/P6S4a"]),95575:e.r(27,["yiXlXtsQ"]),98423:e.r(120,31536e6,0,e.pc_(17,259),1,1),98842:e.q(e.ocqs([e.itp("liveramp_Acxiom","300128610",!1,"98842"),e.itp("liveramp_IXIDigital","1002824236",!1,"98842")])),98843:e.r(110,"liveramp_Acxiom","300125104",!1,"98843"),98954:e.r(110,"liveramp_Experian","1004257069",!1,"98954"),99352:e.r(43,"eyeota","35816","99352","eyeota","1480","99352"),99355:e.r(70,48384e5,48384e5,0,e.y(5,384),1,0,e.ps(9,501),1,1,1),99356:e.r(70,24192e5,24192e5,0,e.y(5,384),1,0,e.ps(9,501),1,1,1),99357:e.r(31,0,e.ps(9,501),5,["bwwUIgMP"]),99358:e.r(120,24192e5,0,e.ref(10),1,1),99359:e.r(120,48384e5,0,e.ref(10),1,1),99360:e.r(9,0,e.ref(10),1,1)}),rootCompressionLookup:e=>[(t,r)=>e.q(e.acqs([e.cb(0,e.pge(34,2),e.ge(1),1),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(8,r)),e.ge(1))])),t=>e.q(e.acqs([e.cb(0,e.t,e.ge(1),1),e.ocqs(t)])),(t,r,n)=>e.q(e.acqs([e.lm(t,e.ge(r)),e.fm(e.n0,e.ifp(n))])),(t,r)=>e.q(e.acqs([e.ocqs(t),e.ocqs(r)])),(t,r)=>e.q(e.acqs([e.ocqs(r),t])),(t,r)=>e.q(e.acqs([e.itp("liveramp_IXIDigital","1000090024",!1,r),t])),(t,r,n,i,a,o,s)=>e.q(e.acqs([e.tw(e.cb(0,t,e.ge(s),r),7776e6),e.tw(e.cb(n,i,a,o),7776e6)])),(t,r)=>e.q(e.acqs([e.tw(e.cb(0,e.ref(t),e.ge(2),2),2592e6),e.tw(e.cb(0,e.ref(r),e.le(29),30),2592e6)])),(t,r,n,i)=>e.q(e.acqs([e.tw(e.cb(0,e.t,e.ge(n),t),7776e6),e.tw(e.cb(0,e.t,e.le(i),r),7776e6)])),(t,r,n,i)=>e.q(e.cb(t,r,e.ge(i),n)),(t,r,n)=>e.q(e.cb(t,e.os(e.e,r,n),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.bsc_(r,n),e.ge(1),1)),(t,r,n)=>e.q(e.cb(t,e.pe(r,n),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([e.y(3,t),e.y(4,r)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([e.y(4,t),e.bsnc_(3,r)]),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([e.y(4,t),e.z(3,r)]),e.ge(1),1)),(t,r,n,i,a)=>e.q(e.cb(0,e.a([e.pe(i,a),n]),e.ge(r),t)),(t,r)=>e.q(e.cb(0,e.a([e.pe(3,t),e.y(4,r)]),e.ge(1),1)),(t,r,n,i)=>e.q(e.cb(0,e.a([e.pge(t,r),e.ple(n,i)]),e.ge(1),1)),t=>e.q(e.cb(0,e.os(e.w,7,t),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.os(e.s,t,r),e.ge(1),1)),(t,r,n,i,a,o,s,c,l,u)=>e.q(e.cb(0,e.o([e.os(e.cx,20,i),e.os(e.cx,25,a),e.pc_(o,s),t,e.ps(21,c),r,n,e.ps(28,l),e.ps(29,u)]),e.ge(1),1)),t=>e.q(e.cb(0,e.pc(["privacy_sandbox_topics_v2"],t),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.pge(t,r),e.ge(1),1)),t=>e.q(e.cb(0,e.ple(t,14),e.ge(1),1)),(t,r,n,i)=>e.q(e.cb(0,e.ps(n,i),e.ge(r),t)),()=>e.q(e.cb(0,e.t,e.ge(1),1)),t=>e.q(e.cb(3,e.bsc_(6,t),e.ge(1),1)),t=>e.q(e.ocqs(t)),(t,r,n,i,a,o)=>e.q(e.ocqs([t,r,n,i,a,o])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.cb(t,r,n,i),e.cb(a,o,s,c)])),(t,r,n,i)=>e.q(e.ocqs([e.cb(t,e.bsc_(n,i),e.ge(1),1),e.cb(0,r,e.ge(1),1)])),(t,r,n)=>e.q(e.ocqs([e.lm(t,r),e.ifp(n)])),t=>e.q(e.ocqs([e.lm("cf0dc159-154b-45ec-8963-b3687b06bc61",e.ge(t)),e.ifp("103313")])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.isp(t,r,n,i),e.isp(a,o,s,c)])),(t,r,n,i,a,o,s)=>e.q(e.ocqs([e.isp(t,r,!1,n),e.isp("news_corp_dow_jones_segments",i,!1,a),e.isp("news_corp_dow_jones_segments",o,!1,s)])),(t,r,n,i)=>e.q(e.ocqs([e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_ny_post",t,!1,r),e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_ny_post",n,!1,i)])),(t,r,n,i)=>e.q(e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(8,r)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],n)),e.cw(2,e.pe(8,i)),e.ge(1))])),(t,r,n,i,a,o,s,c,l,u)=>e.q(e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(8,r)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],n)),e.cw(2,e.pe(8,i)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],a)),e.cw(2,e.pe(8,o)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],s)),e.cw(2,e.pe(8,c)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],l)),e.cw(2,e.pe(8,u)),e.ge(1))])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x)=>e.q(e.ocqs([e.itp(t,r,n,i),e.itp(a,o,s,c),e.itp(l,u,p,f),e.itp(d,m,_,g),e.itp(v,h,b,y),e.itp(w,I,S,E),e.itp(k,A,G,x)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q)=>e.q(e.ocqs([e.itp(t,r,n,i),e.itp(a,o,s,c),e.itp(l,u,p,f),e.itp(d,m,_,g),e.itp(v,h,b,y),e.itp(w,I,S,E),e.itp(k,A,G,x),e.itp(z,U,P,q)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O,T,M,j,R,L,Q,N,F,Y,B,$,X,H,V,K,W,J,Z,ee,te,re)=>e.q(e.ocqs([e.itp(t,r,n,i),e.itp(a,o,s,c),e.itp(l,u,p,f),e.itp(d,m,_,g),e.itp(v,h,b,y),e.itp(w,I,S,E),e.itp(k,A,G,x),e.itp(z,U,P,q),e.itp(C,D,O,T),e.itp(M,j,R,L),e.itp(Q,N,F,Y),e.itp(B,$,X,H),e.itp(V,K,W,J),e.itp(Z,ee,te,re)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,o,s),e.itp(c,l,u,p),e.itp(f,d,m,_),e.itp(g,v,h,b),e.itp(y,w,I,S),e.itp(E,k,A,G),e.itp(x,z,U,P),e.itp(q,C,D,O)])),(t,r,n,i,a,o)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o)])),(t,r,n,i,a,o,s,c,l)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o),e.itp(s,c,!1,l)])),(t,r,n,i,a,o,s,c,l,u,p,f)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o),e.itp(s,c,!1,l),e.itp(u,p,!1,f)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o),e.itp(s,c,!1,l),e.itp(u,p,!1,f),e.itp(d,m,_,g)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O,T,M,j,R,L,Q,N,F,Y,B,$,X,H,V,K,W,J,Z,ee,te,re,ne,ie,ae,oe,se,ce,le,ue,pe,fe,de,me,_e,ge)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o),e.itp(s,c,!1,l),e.itp(u,p,!1,f),e.itp(d,m,!1,_),e.itp(g,v,!1,h),e.itp(b,y,!1,w),e.itp("liveramp_Acxiom",I,!1,S),e.itp(E,k,!1,A),e.itp(G,x,!1,z),e.itp(U,P,!1,q),e.itp(C,D,!1,O),e.itp("liveramp_Epsilon",T,!1,M),e.itp(j,R,!1,L),e.itp(Q,N,!1,F),e.itp(Y,B,!1,$),e.itp(X,H,!1,V),e.itp(K,W,!1,J),e.itp(Z,ee,!1,te),e.itp(re,ne,!1,ie),e.itp(ae,oe,!1,se),e.itp(ce,le,!1,ue),e.itp(pe,fe,!1,de),e.itp(me,_e,!1,ge)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,o),e.itp(s,c,!1,l),e.itp("liveramp_Acxiom",u,!1,p),e.itp("liveramp_Acxiom",f,!1,d),e.itp(m,_,!1,g),e.itp("liveramp_Acxiom",v,!1,h),e.itp(b,y,!1,w),e.itp(I,S,!1,E),e.itp(k,A,!1,G),e.itp(x,z,!1,U),e.itp(P,q,!1,C)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp("liveramp_Acxiom",i,!1,a),e.itp(o,s,!1,c),e.itp("liveramp_Experian",l,!1,u),e.itp(p,f,!1,d),e.itp(m,_,!1,g),e.itp(v,h,!1,b),e.itp(y,w,!1,I),e.itp(S,E,!1,k)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S)=>e.q(e.ocqs([e.itp(i,a,o,s),e.itp(c,l,u,p),e.itp(f,d,m,_),e.itp(g,v,h,b),e.itp(t,r,!1,n),e.itp(y,w,I,S)])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp(n,i,!1,a),e.itp(o,s,!1,c)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O,T,M,j)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp(n,i,!1,a),e.itp(o,s,!1,c),e.itp(l,u,!1,p),e.itp(f,d,!1,m),e.itp(_,g,!1,v),e.itp(h,b,!1,y),e.itp(w,I,!1,S),e.itp(E,k,!1,A),e.itp(G,x,!1,z),e.itp(U,P,!1,q),e.itp(C,D,!1,O),e.itp(T,M,!1,j)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O,T,M,j,R,L)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i),e.itp(a,o,!1,s),e.itp(c,l,!1,u),e.itp(p,f,!1,d),e.itp(m,_,!1,g),e.itp(v,h,!1,b),e.itp(y,w,!1,I),e.itp(S,E,!1,k),e.itp(A,G,!1,x),e.itp(z,U,!1,P),e.itp(q,C,!1,D),e.itp(O,T,!1,M),e.itp(j,R,!1,L)])),(t,r,n,i,a,o)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i),e.itp("liveramp_Acxiom",a,!1,o)])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i),e.itp("liveramp_Acxiom",a,!1,o),e.itp("liveramp_Acxiom",s,!1,c)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",i,!1,a),e.itp(o,s,!1,c),e.itp(l,u,!1,p),e.itp(f,d,!1,m),e.itp(t,r,!1,n),e.itp(_,g,!1,v)])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp(n,i,!1,a),e.itp(o,s,!1,c)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp(n,i,!1,a),e.itp(o,s,!1,c),e.itp(l,u,!1,p),e.itp("liveramp_Acxiom",f,!1,d),e.itp(m,_,!1,g),e.itp(v,h,!1,b)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp(n,i,!1,a),e.itp(o,s,!1,c),e.itp(l,u,!1,p),e.itp("liveramp_Epsilon",f,!1,d),e.itp(m,_,!1,g),e.itp("liveramp_Epsilon",v,!1,h),e.itp(b,y,!1,w)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp("liveramp_Epsilon",n,!1,i)])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp("liveramp_Epsilon",n,!1,i),e.itp("liveramp_Epsilon",a,!1,o),e.itp("liveramp_Epsilon",s,!1,c)])),(t,r,n,i,a,o,s,c,l,u)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp("liveramp_Epsilon",n,!1,i),e.itp("liveramp_Epsilon",a,!1,o),e.itp("liveramp_Epsilon",s,!1,c),e.itp("liveramp_Epsilon",l,!1,u)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m,_,g,v,h,b,y,w,I,S,E,k,A,G,x,z,U,P,q,C,D,O,T,M,j)=>e.q(e.ocqs([e.itp("liveramp_Epsilon",t,!1,r),e.itp("liveramp_Epsilon",n,!1,i),e.itp("liveramp_Epsilon",a,!1,o),e.itp("liveramp_Epsilon",s,!1,c),e.itp("liveramp_Epsilon",l,!1,u),e.itp("liveramp_Epsilon",p,!1,f),e.itp("liveramp_Experian",d,!1,m),e.itp("liveramp_IXIDigital",_,!1,g),e.itp("liveramp_IXIDigital",v,!1,h),e.itp("liveramp_Alliant",b,!1,y),e.itp("liveramp_Alliant",w,!1,I),e.itp("liveramp_AnalyticsIQ",S,!1,E),e.itp("liveramp_AnalyticsIQ",k,!1,A),e.itp("liveramp_AnalyticsIQ",G,!1,x),e.itp("liveramp_AnalyticsIQ",z,!1,U),e.itp("liveramp_IXIDigital",P,!1,q),e.itp("liveramp_IXIDigital",C,!1,D),e.itp("liveramp_IXIDigital",O,!1,T),e.itp("liveramp_IXIDigital",M,!1,j)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("liveramp_Experian",t,!1,r),e.itp("liveramp_Experian",n,!1,i)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("liveramp_IXIDigital",t,!1,r),e.itp("liveramp_IXIDigital",n,!1,i)])),(t,r,n,i,a,o,s,c,l,u)=>e.q(e.ocqs([e.itp("liveramp_ShareThis",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i),e.itp("eyeota",a,!1,o),e.itp("eyeota",s,!1,c),e.itp("liveramp_Epsilon",l,!1,u)])),(t,r,n)=>e.q(e.ocqs([e.tw(r,n),t])),(t,r,n,i,a)=>e.q(e.ocqs([e.tw(e.cb(t,e.y(i,a),e.ge(1),1),7776e6),e.tw(e.cb(r,n,e.ge(1),1),7776e6)])),(t,r,n,i,a,o,s,c,l,u)=>e.q(e.ocqs([e.tw(e.cb(n,i,e.ge(l),a),t),e.tw(e.cb(o,s,e.ge(u),c),r)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,t,e.ge(10),10),864e5),e.tw(e.cb(0,r,e.ge(10),10),864e5)])),(t,r,n,i,a,o,s,c,l)=>e.q(e.ocqs([e.tw(e.cb(0,s,e.ge(l),c),2592e6),t,r,n,i,a,o])),(t,r,n)=>e.q(e.ocqs([e.tw(e.cb(0,e.as(e.s,5,t),e.ge(10),10),864e5),e.tw(e.cb(0,e.as(e.s,5,r),e.ge(10),10),864e5),e.tw(e.cb(0,e.as(e.s,5,n),e.ge(10),10),864e5)])),(t,r,n,i,a,o,s)=>e.q(e.ocqs([e.tw(e.cb(0,e.a([e.pge(11,t),e.ple(r,n)]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.a([e.pge(i,a),e.ple(o,s)]),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.a([e.pge(11,5e5),e.ple(11,t)]),e.ge(1),1),2592e6),e.tw(e.cb(0,e.a([e.pge(13,5e5),e.ple(13,r)]),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,r),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(r),e.ge(1),1),2592e6)])),(t,r,n,i,a)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(n,i,a),e.ge(1),1),2592e6)])),(t,r,n)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(n),e.ge(1),1),2592e6)])),(t,r,n,i,a)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,a),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r,n,i,a,o,s,c)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,o),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,c),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r,n,i,a,o,s,c,l)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,o),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,c),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,l),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r,n,i,a,o,s,c,l,u,p,f,d,m)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,o),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,s),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,c),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,l),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,u),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,p),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,f),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,d),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,m),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r,n,i,a,o)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,r),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,n),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,i),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,a),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,o),e.y_(0,502)),e.ge(1),1),2592e6)])),(t,r,n,i,a,o,s,c,l)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,n),e.ge(i),1),2592e6),e.tw(e.cb(0,e.pc_(a,o),e.ge(s),1),2592e6),e.tw(e.cb(0,t,e.ge(c),1),2592e6),e.tw(e.cb(0,r,e.ge(l),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,7),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,r),e.y_(0,502)),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,15),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,t),e.y_(0,502)),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,36),e.ge(1),1),2592e6),e.tw(e.cb(0,e.af_u(["properties","contextual","classifications","categories"],e.e_(1,t),e.y_(0,502)),e.ge(1),1),2592e6)])),t=>e.q(e.ocqs([e.tw(e.cb(0,e.pc_(2,48),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pc_(2,49),e.ge(1),1),2592e6),e.tw(e.cb(0,t,e.ge(1),1),2592e6),e.tw(e.cb(0,e.ref(7),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.pge(11,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.pge(13,r),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.ple(11,t),e.ge(1),1),2592e6),e.tw(e.cb(0,e.ple(13,r),e.ge(1),1),2592e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.ps(9,t),e.ge(1),1),7776e6),e.tw(e.cb(0,e.pe(10,r),e.ge(1),1),7776e6)])),(t,r)=>e.q(e.ocqs([e.tw(e.cb(0,e.ps(9,t),e.ge(1),1),7776e6),e.tw(e.cb(0,e.ps(5,r),e.ge(1),1),7776e6)])),(t,r,n,i)=>e.q(e.ocqs([e.tw(e.cb(3,e.y(6,407),e.ge(n),t),2592e6),e.tw(e.cb(3,e.y(6,447),e.ge(i),r),2592e6)])),(t,r,n)=>e.q(e.isp(t,r,!1,n)),(t,r)=>e.q(e.isp(t,"0",!1,r)),(t,r)=>e.q(e.isp(t,"1",!1,r)),(t,r)=>e.q(e.isp(t,"2",!1,r)),(t,r)=>e.q(e.isp(t,"3",!1,r)),(t,r)=>e.q(e.isp(t,"4",!1,r)),(t,r)=>e.q(e.isp(t,"5",!1,r)),(t,r)=>e.q(e.isp(t,"6",!1,r)),(t,r)=>e.q(e.isp(t,"7",!1,r)),(t,r)=>e.q(e.isp(t,"8",!1,r)),(t,r)=>e.q(e.isp(t,"9",!1,r)),t=>e.q(e.isp("liveramp_Lowes_news_corp_43fc302bcef24e3f9e6adcfabf7f17ba","1498547650",!1,t)),t=>e.q(e.isp("news_corp_us_0cf17917395b4f2591ccdb3_super_segments__origin_dow_jones","123188",!1,t)),(t,r)=>e.q(e.sq(e.cb(0,e.ref(11),e.ge(r),t))),(t,r)=>e.q(e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],t)),e.cw(2,e.pe(8,r)),e.ge(1))),(t,r,n,i)=>e.q(e.itp(t,r,n,i)),t=>e.q(e.itp("liveramp_Epsilon","1002890016",!1,t)),(t,r,n,i)=>e.q(e.tw(e.cb(t,r,e.ge(i),n),7776e6)),(t,r,n,i)=>e.q(e.tw(e.cb(t,r,e.ge(i),n),15552e6)),(t,r,n,i)=>e.q(e.tw(e.cb(t,e.ref(i),e.ge(n),r),7776e6)),(t,r,n,i,a)=>e.q(e.tw(e.cb(t,e.y(i,a),e.ge(n),r),2592e6)),(t,r,n,i,a)=>e.q(e.tw(e.cb(t,e.y(i,a),e.ge(n),r),7776e6)),(t,r,n,i,a)=>e.q(e.tw(e.cb(t,e.y(i,a),e.ge(n),r),15552e6)),(t,r,n)=>e.q(e.tw(e.cb(t,e.pe(r,n),e.ge(1),1),7776e6)),(t,r,n)=>e.q(e.tw(e.cb(t,e.ps(r,n),e.ge(1),1),7776e6)),(t,r,n,i,a)=>e.q(e.tw(e.cb(r,n,e.ge(a),i),t)),t=>e.q(e.tw(e.cb(0,e.as(e.s,5,t),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.a([e.ref(1),e.af_u(["properties","realtor","searchedPropertyTypeList"],e.bsc([],t))]),e.ge(1),1),5184e6)),(t,r,n,i,a)=>e.q(e.tw(e.cb(0,e.os(n,i,a),e.ge(r),t),7776e6)),t=>e.q(e.tw(e.cb(0,e.os(e.cx,t,[385,457]),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.af_u(["properties","realtor","WordpressTag"],e.bsc([],t)),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.ref(t),e.e(1),2),2592e6)),t=>e.q(e.tw(e.cb(0,e.ref(t),e.ge(30),30),2592e6)),(t,r)=>e.q(e.tw(e.cb(0,e.ref(11),e.ge(r),t),864e5)),(t,r)=>e.q(e.tw(e.cb(0,e.pc_(t,r),e.ge(1),1),7776e6)),(t,r,n,i)=>e.q(e.tw(e.cb(0,e.y(n,i),e.ge(r),t),72576e5)),t=>e.q(e.tw(e.cb(0,e.pe(t,1),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.pe(t,2),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.pe(t,3),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.pe(t,4),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.pge(t,4),e.ge(1),1),7776e6)),(t,r)=>e.q(e.tw(e.cb(0,e.t,e.ge(r),t),2592e6))],stateSyncReplays:e=>[],subexpressionsLookup:e=>[e.bsc_(10,["9r9EPuzp"]),e.os(e.s,5,[38,41,53,55]),e.af_u(["properties","contextual","classifications","categories"],e.y_(1,260),e.y_(0,502)),e.af_u(["properties","contextual","classifications","categories"],e.y_(1,165),e.y_(0,502)),e.bsc_(6,["By19IkYz","auuRzlTT","b0ELR1cj","jLrtkNug","l/DM7AwR","otOUNhe4"]),e.af_u(["properties","contextual","classifications","categories"],e.y_(1,126),e.y_(0,502)),e.af_u(["properties","contextual","classifications","categories"],e.y_(1,121),e.y_(0,502)),e.af_u(["properties","contextual","classifications","categories"],e.y_(1,201),e.y_(0,502)),e.as(e.s,5,[480,528]),e.as(e.s,5,[495,505]),e.os(e.s,5,[481,482,516,517,518,519,520]),e.os(e.s,5,[506,507]),e.os(e.s,5,[489,512]),e.os(e.s,5,[39,40,42,54,56])]}})})));var we=__webpack_require__(952),Ie=__webpack_require__(229);async function Se(p){let{contextsInitTimestampPerformance:f,master:d}=p;const m=await d.next(),_=performance.now();Object.entries(m.globals??{}).forEach((e=>{let[t,r]=e;Object.defineProperty(self,t,{value:r})}));const g=new Z(m.permutiveConfig);g.measureBetween("waiting_worker_high_priority_config",f,_);const v=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.RP;return t.loggingEnabled&&void 0!==self.console?.log?new q(r):new C}(m.permutiveConfig,m.sdkInitTimestampDate),h=m.metricsEnabled?new G(m.sdkInitTimestampPerformance,m.timeOriginMainContext,v):new x;h.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_evaluated",time_origin:"sdk_init"},f),h.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_high_priority_config",time_origin:"sdk_init"},_);const b=(0,r.zG)(d.next,g.traceTask("waiting_worker_low_priority_config"))();b.then((()=>h.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"worker_received_low_priority_config",time_origin:"sdk_init"})));const y=(0,r.zG)((()=>d.read()),function(e,n){const i=e=>(0,r.zG)(e,R.Hd((e=>e in n)),(e=>{let{left:t,right:r}=e;return{buffers:r,nonBuffers:t}}));return a=>{const{buffers:o,nonBuffers:s}=i(e),[c,l]=t.Ue({...s,...(0,r.zG)(o,R.Su((e=>()=>{const t=o[e];return o[e]=n[e].empty,t})))});return(async()=>{for(;;){const e=(0,r.zG)(await a(),Q.UI(i),Q.ur({concat:(e,t)=>({nonBuffers:{...e.nonBuffers,...t.nonBuffers},buffers:(()=>{const r={...e.buffers};for(const e in t.buffers)r[e]=e in r?n[e].concat(r[e],t.buffers[e]):t.buffers[e];return r})()})})),t=(0,r.zG)(e.buffers,R.Su(((e,t)=>(o[e]=n[e].concat(o[e],t),()=>{const t=o[e];return o[e]=n[e].empty,t}))));l({...c.current,...e.nonBuffers,...t})}})(),(0,r.zG)(e,R.Su((e=>(0,r.zG)(c,t.UI((t=>t[e]))))))}}({contextualCohorts:i.YP,consent:m.consent,enrichmentReplacementMap:i.YP,eventSourceId:m.eventSourceId,identities:i.YP,newEvents:a.cS,pageviewState:m.pageviewState,priorCachedEventsResponses:a.cS,sessionId:m.sessionId,userId:m.userId,userIdIsNewlyGenerated:m.userIdIsNewlyGenerated,viewId:m.pageviewState.viewId,webClient:i.G(m.webClient)},{newEvents:a.uZ(),priorCachedEventsResponses:a.uZ()}),(0,o.rO)({newEvents:(0,we.F)(h,"pageview_received_by_worker")}),(e=>({...e,currentTimestampSecs:Ee((0,r.zG)(m.initialTimestampSecs,i.EQ((()=>0),(e=>e-Date.now()/1e3))))}))),{eventsCachedInWorker:w,coreService:I}=await function(o,p,f,d,m,_){d.debug("SDK core started",o);const g=500,v=new S(d,_),h=new E(o.permutiveConfig),b=new re(h,o.permutiveConfig,v,_,d,(()=>f.webClient.current)),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.reportError(e,t?.userId,t?.timestamp)},w=(0,r.zG)(s.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,630)).then((e=>e.watson))),(()=>"Failed to import watson.")),s.UI((e=>(0,r.zG)(f.webClient,t.UI(i.UI((e=>e.url))),t.D8(i.Eh(Ie.Eq)),(n=>e({config:o.permutiveConfig,metrics:_,permutiveApi:v,permutiveUrls:h,pageUrl:n,trace:m,watsonEnabled:(0,r.zG)(f.pageviewState,t.UI((e=>e.watsonEnabled)))})))))),I=(0,r.zG)(K.initialise(o.permutiveConfig,d,y,m,_,f.userId,(()=>(0,r.zG)(ee.connect(new T(o.permutiveConfig),_,new O,o.organizationId,`events_${f.userId.current}`,`keys_${f.userId.current}`,"events",d,f.consent,o.isSecureContext),m.traceTask("connect_idb_events_cache")))),m.traceTask("initialise_events_cache"),s.At((()=>()=>_.trackTimeSinceInit("sdk_lifecycle_timestamps",{timestamp_name:"events_cache_initialised",time_origin:"sdk_init"},performance.now()))),s.EQ((e=>{d.error(`Worker failed to initialise IndexedDB event cache: ${e}`);const n={},[i,o]=t.gS(a.uZ()),s=()=>new Promise((e=>{const t=String(Math.random());n[t]=r=>{delete n[t],e(r)},o([[t,void 0]])}));return(0,r.zG)(f.priorCachedEventsResponses,t.UI((e=>(0,r.zG)(e(),a.UI((e=>{let[t,r]=e;return n[t]?.(r)})))))),{eventsCachedInWorker:!1,coreOutput:{priorCachedEventsRequests:i},coreConfig:{eventsCache:u.t$(s)}}}),(e=>({eventsCachedInWorker:!0,coreOutput:{priorCachedEventsRequests:t.a9(j.of(a.bM()))},coreConfig:{eventsCache:u.F2(e)}})))),G=(0,r.zG)(!0,s.DT(r.yR,(()=>"IndexedDB disabled.")),s.tS((()=>(0,r.zG)(k.K.initialise(new T(o.permutiveConfig),_,d,new O,`worker_${o.organizationId}`,"core_service_state","keys","core_service_state",4,o.isSecureContext),m.traceTask("initialise-core-idb")))),s.tS((e=>(0,A.Yt)(s.Hi)({persistCoreState:c(e,"core"),persistLalState:c(e,"lal")})))),x=()=>new Promise((e=>(0,r.zG)(f.consent,t.YP((t=>{t&&e()}))))),z=a=>(0,r.zG)(s.fF(G),s.YO("servicePersistence"),s.Qt("eventsCache",s.fF((()=>a))),s.Qt("coreService",(0,r.zG)(s.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,112)).then((e=>e.service))),(e=>`Failed to import core service: ${e}`)),m.traceTask("import-core-service"))),s.Qt("lookalikeModelsService",s.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,385)).then((e=>e.lookalikeModelsService))),(()=>"Failed to import lookalike models."))),s.Qt("optimisedActivationsConfig",s.Y3((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,962)).then((e=>e.optimisedActivationsConfig))),(()=>"Failed to import lookalike models."))),s.Qt("watson",w),M.mU((()=>x)),s.UI((a=>{let{coreService:s,eventsCache:c,lookalikeModelsService:b,optimisedActivationsConfig:w,servicePersistence:I,watson:S}=a;const E={config:o.permutiveConfig,customQueries:ye(),logger:d,metrics:_,optimisedActivationsConfig:w,permutiveApi:v,permutiveUrls:h,reportError:y,trackPageviewComplete:o.trackPageviewComplete,migratedStateMaps:(0,r.zG)(i.lo(!o.isFirstPageview),i.EQ((()=>M.of({external:i.bM(),internal:i.bM()})),(()=>j.of(p.then((e=>e.migratedStateMaps)))))),trace:m,watson:i.G(S),performance:i.ij(self.performance)};return(0,r.zG)(I,u.UI((a=>{let{persistCoreState:o,persistLalState:u}=a;return(0,r.zG)(b({...E,...f}),u,n.VS((a=>{let[u,p]=a;return(0,r.zG)(f,s({...E,...c.coreConfig,lookalikeModels:i.G(p)}),(d=g,m=t.a9(!1),n=>i=>{const{value:a,state:o}=n(i),[s,c]=t.Ue(o.current),l=(0,e.UM)((()=>c(o.current)),d),u=(0,r.zG)(t.vP(o,s),t.UI((e=>{let[t,r]=e;return t===r})));return(0,r.zG)(m,t.bw((e=>e&&l()))),{value:(0,r.bc)(u,a),state:(0,r.zG)(t.vP(m,o,s),t.UI((e=>{let[t,r,n]=e;return t?r:n})))}}),l(f.consent),o,n.UI((e=>{let[n,[i,a]]=e;return{...a,stateFlushed:(0,r.zG)(t.vP(u,n,i),t.UI((e=>{let[t,r,n]=e;return t&&r&&n})))}})));var d,m})),(e=>{const{value:r}=e({stopped:t.a9(!1),previousState:{}});return e=>({value:r,state:t.a9(void 0)})}))})),u.fS((e=>(d.warn("Worker running in non-persistent mode.",e),(0,r.zG)(f,s({...E,...c.coreConfig,lookalikeModels:i.YP}),n.Hr("stateFlushed",(()=>t.a9(!0))),l(f.consent))))),n.UI((e=>({...e,...c.coreOutput}))))})));return async()=>{const e=I(),t=z(e)(),{eventsCachedInWorker:r}=await e;return{eventsCachedInWorker:r,coreService:t}}}(m,b,y,v,g,h)();d.send({eventsCachedInWorker:w});const z=await I;if(u.nM(z))return v.error(`Failed to start worker: ${z.left}`),void self.close?.();const U=z.right,P=await b,D=(await U)({stopped:t.a9(!1),previousState:P.previousState}),[N,F]=t.Ue(h.getNoMetricsTracked());(0,e.UM)((()=>F(h.getNoMetricsTracked())),100),function(e,n,a){const o=(0,r.zG)(t.vP(n),t.UI((0,r.ls)(R.UI((e=>"function"==typeof e?e:j.of(e))),(0,A.Yt)(j.G5))));let s=o.current();e(s),(0,r.zG)(o,t.YP((t=>{const n=t(),o=(0,r.zG)(n,R.z7(((e,t)=>t!==s[e]&&!a[e]?.isEmpty(t))),i.DT((0,L.ff)(R.xb)));i.pC(o)&&(s={...s,...o.value},e(o.value))})))}(d.send,{activations:D.value.activations,cohorts:t.vP(D.value.cohorts),context:D.value.context,eventsToPublish:D.value.eventsToPublish,eventsToPublishOnPageUnload:D.value.eventsToPublishOnPageUnload,externalData:D.value.externalData,geoIP:D.value.geoIP,metrics:(0,r.zG)(N,t.UI((()=>()=>h.consume()))),priorCachedEventsRequests:D.value.priorCachedEventsRequests,realtime:D.value.realtime,state:D.state,transitionsSinceInit:D.value.transitionsSinceInit,workerStateFlushed:D.value.stateFlushed,stateMigratedThisInitialisation:D.value.stateMigratedThisInitialisation,secureSignal:D.value.secureSignal},{eventsToPublish:{isEmpty:a.xb},metrics:{isEmpty:a.xb}})}function Ee(r){const n=()=>Math.floor(Date.now()/1e3)+r,[i,a]=t.Ue(n());return(0,e.UM)((()=>a(n())),1e3),i}!async function(){const t=self,r=await new Promise((e=>{const r=n=>{const i=function(e){return e&&"object"==typeof e&&"port"in e?e:void 0}(n.data);i&&(t.removeEventListener("message",r),e(i.port))};t.addEventListener("message",r)})),n=(t=>{const r=[],n=[],i=()=>{for(;r.length>0&&n.length>0;)n.shift()()},a=t=>new Promise((r=>{n.push((()=>r(t()))),(0,e.HJ)(i)}));return t.onmessage=(0,e.GL)((t=>{null!==t.data&&(r.push(t.data),(0,e.HJ)(i))})),{next:()=>a((()=>r.shift())),read:()=>a((()=>r.splice(0)))}})(r);Se({contextsInitTimestampPerformance:e.NC,master:{...n,send:e=>r.postMessage(e)}})}()})()})();',"Worker",void 0,void 0)}},1005:e=>{e.exports=function(e,t,r,n){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var o=i.URL||i.webkitURL,s=o.createObjectURL(a),c=new i[t](s,r);return o.revokeObjectURL(s),c}catch(n){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new i[t](n,r)}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var e=__webpack_require__(6143);const t=(()=>{try{return self.document.currentScript}catch{return null}})();(()=>{(0,e.ho)(!0);const r="permutive.main.import_runWebSdk",n=`${r}_start`;performance?.mark?.(n),(0,e.SF)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,7306))))().then((i=>{performance?.measure?.(r,n),i.runSdk({contextsInitTimestampPerformance:e.NC,contextsInitTimestamp:e.RP,currentScript:t})})).catch(console.error)})()})()})();